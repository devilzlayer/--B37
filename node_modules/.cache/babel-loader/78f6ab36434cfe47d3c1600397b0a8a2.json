{"ast":null,"code":"import _slicedToArray from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import{withAuth}from\"../util/\";import{Promotions as Service}from\"../../service/\";import{Icon}from\"../../component/\";import\"../assets/scss/PromotionsSA.scss\";function Promotion(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),promotion=_useState2[0],setPromotion=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){window.scrollTo(0,0);document.body.classList.add(\"promotions-page\");return function(){return document.body.classList.remove(\"promotions-page\");};},[]);useEffect(function(){var req=Service.read_current({id:id});req.promise.then(function(r){console.log(r);setPromotion(r.info);},function(e){console.warn(\"Unable to get promotion:\",e);});return function(){return req.cancel();};},[id]);return/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-sa\",style:{padding:\"59px 0 0\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-sa-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-sa-back-wrap\"},/*#__PURE__*/React.createElement(Link,{to:\"/promotions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"next-arrow\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-sa-title\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\\u4FC3\\u9500\\u6D3B\\u52A8\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-sa-content single\"},/*#__PURE__*/React.createElement(\"div\",{className:\"decor-n0\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"decor-n1\"}),promotion?/*#__PURE__*/React.createElement(\"div\",{className:\"banner\"},/*#__PURE__*/React.createElement(\"div\",{className:\"banner-inner\"},/*#__PURE__*/React.createElement(\"div\",{className:\"banner-body inside\"},/*#__PURE__*/React.createElement(\"p\",{dangerouslySetInnerHTML:{__html:promotion}})))):null));}export default withAuth(Promotion,0);","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/view/Promotion.js"],"names":["React","useState","useEffect","Link","useParams","withAuth","Promotions","Service","Icon","Promotion","promotion","setPromotion","id","window","scrollTo","document","body","classList","add","remove","req","read_current","promise","then","r","console","log","info","e","warn","cancel","padding","__html"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CAEA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAASC,UAAU,GAAIC,CAAAA,OAAvB,KAAsC,gBAAtC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAO,kCAAP,CAEA,QAASC,CAAAA,SAAT,EAAqB,eACeR,QAAQ,CAAC,IAAD,CADvB,wCACZS,SADY,eACDC,YADC,8BAGJP,SAAS,EAHL,CAGXQ,EAHW,YAGXA,EAHW,CAKnBV,SAAS,CAAC,UAAM,CACdW,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EAEAC,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B,EAEA,MAAO,kBAAMH,CAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,iBAA/B,CAAN,EAAP,CACD,CANQ,CAMN,EANM,CAAT,CAQAjB,SAAS,CAAC,UAAM,CACd,GAAMkB,CAAAA,GAAG,CAAGb,OAAO,CAACc,YAAR,CAAqB,CAC/BT,EAAE,CAAFA,EAD+B,CAArB,CAAZ,CAIAQ,GAAG,CAACE,OAAJ,CAAYC,IAAZ,CACE,SAACC,CAAD,CAAO,CACLC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAEAb,YAAY,CAACa,CAAC,CAACG,IAAH,CAAZ,CACD,CALH,CAME,SAACC,CAAD,CAAO,CACLH,OAAO,CAACI,IAAR,CAAa,0BAAb,CAAyCD,CAAzC,EACD,CARH,EAWA,MAAO,kBAAMR,CAAAA,GAAG,CAACU,MAAJ,EAAN,EAAP,CACD,CAjBQ,CAiBN,CAAClB,EAAD,CAjBM,CAAT,CAmBA,mBACE,2BAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAE,CAAEmB,OAAO,CAAE,UAAX,CAAtC,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,eACE,2BAAK,SAAS,CAAC,YAAf,EADF,CADF,CADF,cAME,2BAAK,SAAS,CAAC,qBAAf,eACE,yDADF,CANF,CADF,cAWE,2BAAK,SAAS,CAAC,8BAAf,eACE,2BAAK,SAAS,CAAC,UAAf,EADF,cAEE,2BAAK,SAAS,CAAC,UAAf,EAFF,CAGGrB,SAAS,cACR,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,yBAAG,uBAAuB,CAAE,CAAEsB,MAAM,CAAEtB,SAAV,CAA5B,EADF,CADF,CADF,CADQ,CAQN,IAXN,CAXF,CADF,CA2BD,CAED,cAAeL,CAAAA,QAAQ,CAACI,SAAD,CAAY,CAAZ,CAAvB","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { withAuth } from \"../util/\";\r\nimport { Promotions as Service } from \"../../service/\";\r\nimport { Icon } from \"../../component/\";\r\n\r\nimport \"../assets/scss/PromotionsSA.scss\";\r\n\r\nfunction Promotion() {\r\n  const [promotion, setPromotion] = useState(null);\r\n\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n\r\n    document.body.classList.add(\"promotions-page\");\r\n\r\n    return () => document.body.classList.remove(\"promotions-page\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const req = Service.read_current({\r\n      id,\r\n    });\r\n\r\n    req.promise.then(\r\n      (r) => {\r\n        console.log(r);\r\n\r\n        setPromotion(r.info);\r\n      },\r\n      (e) => {\r\n        console.warn(\"Unable to get promotion:\", e);\r\n      }\r\n    );\r\n\r\n    return () => req.cancel();\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"promotions-sa\" style={{ padding: \"59px 0 0\" }}>\r\n      <div className=\"promotions-sa-head\">\r\n        <div className=\"promotions-sa-back-wrap\">\r\n          <Link to=\"/promotions\">\r\n            <div className=\"next-arrow\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"promotions-sa-title\">\r\n          <h1>促销活动</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"promotions-sa-content single\">\r\n        <div className=\"decor-n0\"></div>\r\n        <div className=\"decor-n1\"></div>\r\n        {promotion ? (\r\n          <div className=\"banner\">\r\n            <div className=\"banner-inner\">\r\n              <div className=\"banner-body inside\">\r\n                <p dangerouslySetInnerHTML={{ __html: promotion }}></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAuth(Promotion, 0);\r\n"]},"metadata":{},"sourceType":"module"}