{"ast":null,"code":"import _slicedToArray from\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useParams}from'react-router-dom';import{StickyProvider,Sticky}from'react-stickup';import{withAuth}from'../util/';import{Promotions as Service}from'../service/';import'../assets/scss/Promotions.scss';function Promotion(){var container=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),promotion=_useState2[0],setPromotion=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){window.scrollTo(0,0);document.body.classList.add('promotions-page');return function(){return document.body.classList.remove('promotions-page');};},[]);useEffect(function(){var req=Service.read_current({id:id});req.promise.then(function(r){console.log(r);setPromotion(r.info);},function(e){});return function(){return req.cancel();};},[id]);return/*#__PURE__*/React.createElement(StickyProvider,null,/*#__PURE__*/React.createElement(\"div\",{className:\"promotions single\",ref:container},/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-flex-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"promotions-inner\"},promotion?/*#__PURE__*/React.createElement(\"div\",{className:\"banner-info\"},/*#__PURE__*/React.createElement(\"p\",{dangerouslySetInnerHTML:{__html:promotion}})):null))));}export default withAuth(Promotion,0);","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/view/Promotion.js"],"names":["React","useState","useEffect","useRef","useParams","StickyProvider","Sticky","withAuth","Promotions","Service","Promotion","container","promotion","setPromotion","id","window","scrollTo","document","body","classList","add","remove","req","read_current","promise","then","r","console","log","info","e","cancel","__html"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,cAAT,CAAyBC,MAAzB,KAAuC,eAAvC,CAEA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAASC,UAAU,GAAIC,CAAAA,OAAvB,KAAsC,aAAtC,CAEA,MAAO,gCAAP,CAEA,QAASC,CAAAA,SAAT,EAAqB,CAEpB,GAAMC,CAAAA,SAAS,CAAGR,MAAM,CAAC,IAAD,CAAxB,CAFoB,cAGcF,QAAQ,CAAC,IAAD,CAHtB,wCAGbW,SAHa,eAGFC,YAHE,8BAKLT,SAAS,EALJ,CAKZU,EALY,YAKZA,EALY,CAOpBZ,SAAS,CAAC,UAAM,CAEfa,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EAEAC,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B,EAEA,MAAO,kBAAMH,CAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,iBAA/B,CAAN,EAAP,CAEA,CARQ,CAQN,EARM,CAAT,CAUAnB,SAAS,CAAC,UAAM,CAEf,GAAMoB,CAAAA,GAAG,CAAGb,OAAO,CAACc,YAAR,CAAqB,CAChCT,EAAE,CAAFA,EADgC,CAArB,CAAZ,CAIAQ,GAAG,CAACE,OAAJ,CAAYC,IAAZ,CAAiB,SAAAC,CAAC,CAAI,CAErBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAEAb,YAAY,CAACa,CAAC,CAACG,IAAH,CAAZ,CAEA,CAND,CAMG,SAAAC,CAAC,CAAI,CAAG,CANX,EAQA,MAAO,kBAAMR,CAAAA,GAAG,CAACS,MAAJ,EAAN,EAAP,CAEA,CAhBQ,CAgBN,CAACjB,EAAD,CAhBM,CAAT,CAkBA,mBACC,oBAAC,cAAD,mBACC,2BAAK,SAAS,CAAC,mBAAf,CAAmC,GAAG,CAAEH,SAAxC,eACC,2BAAK,SAAS,CAAC,sBAAf,eACC,2BAAK,SAAS,CAAC,kBAAf,EACEC,SAAS,cACT,2BAAK,SAAS,CAAC,aAAf,eACC,yBAAG,uBAAuB,CAAE,CAAEoB,MAAM,CAAEpB,SAAV,CAA5B,EADD,CADS,CAIN,IALL,CADD,CADD,CADD,CADD,CAgBA,CAED,cAAeL,CAAAA,QAAQ,CAACG,SAAD,CAAY,CAAZ,CAAvB","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { StickyProvider, Sticky } from 'react-stickup';\r\n\r\nimport { withAuth } from '../util/';\r\nimport { Promotions as Service } from '../service/';\r\n\r\nimport '../assets/scss/Promotions.scss';\r\n\r\nfunction Promotion() {\r\n\r\n\tconst container = useRef(null);\r\n\tconst [promotion, setPromotion] = useState(null);\r\n\r\n\tconst { id } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n\t\tdocument.body.classList.add('promotions-page');\r\n\r\n\t\treturn () => document.body.classList.remove('promotions-page');\r\n\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst req = Service.read_current({\r\n\t\t\tid,\r\n\t\t});\r\n\r\n\t\treq.promise.then(r => {\r\n\r\n\t\t\tconsole.log(r);\r\n\r\n\t\t\tsetPromotion(r.info);\r\n\r\n\t\t}, e => { });\r\n\r\n\t\treturn () => req.cancel();\r\n\r\n\t}, [id]);\r\n\r\n\treturn (\r\n\t\t<StickyProvider>\r\n\t\t\t<div className=\"promotions single\" ref={container}>\r\n\t\t\t\t<div className=\"promotions-flex-wrap\">\r\n\t\t\t\t\t<div className=\"promotions-inner\">\r\n\t\t\t\t\t\t{promotion ? (\r\n\t\t\t\t\t\t\t<div className=\"banner-info\">\r\n\t\t\t\t\t\t\t\t<p dangerouslySetInnerHTML={{ __html: promotion }}></p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</StickyProvider>\r\n\t);\r\n\r\n}\r\n\r\nexport default withAuth(Promotion, 0);\r\n"]},"metadata":{},"sourceType":"module"}