{"ast":null,"code":"var _jsxFileName = \"/Users/cramj/Downloads/usportproject 2/src/view/Promotion.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { StickyProvider, Sticky } from 'react-stickup';\nimport { withAuth } from '../util/';\nimport { Promotions as Service } from '../service/';\nimport '../assets/scss/Promotions.scss';\n\nfunction Promotion() {\n  const container = useRef(null);\n  const [promotion, setPromotion] = useState(null);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    document.body.classList.add('promotions-page');\n    return () => document.body.classList.remove('promotions-page');\n  }, []);\n  useEffect(() => {\n    const req = Service.read_current({\n      id\n    });\n    req.promise.then(r => {\n      console.log(r);\n      setPromotion(r.info);\n    }, e => {});\n    return () => req.cancel();\n  }, [id]);\n  return /*#__PURE__*/React.createElement(StickyProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotions single\",\n    ref: container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"decor-n0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"decor-n1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotions-flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    container: container,\n    defaultOffsetTop: 180,\n    overflowScroll: \"end\",\n    stickyProps: {\n      className: 'decor-n2'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotions-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, promotion ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: promotion\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }))) : null), /*#__PURE__*/React.createElement(Sticky, {\n    container: container,\n    defaultOffsetTop: 180,\n    overflowScroll: \"end\",\n    stickyProps: {\n      className: 'decor-n3'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  })))));\n}\n\nexport default withAuth(Promotion, 0);","map":{"version":3,"sources":["/Users/cramj/Downloads/usportproject 2/src/view/Promotion.js"],"names":["React","useState","useEffect","useRef","useParams","StickyProvider","Sticky","withAuth","Promotions","Service","Promotion","container","promotion","setPromotion","id","window","scrollTo","document","body","classList","add","remove","req","read_current","promise","then","r","console","log","info","e","cancel","className","__html"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { StickyProvider, Sticky } from 'react-stickup';\r\n\r\nimport { withAuth } from '../util/';\r\nimport { Promotions as Service } from '../service/';\r\n\r\nimport '../assets/scss/Promotions.scss';\r\n\r\nfunction Promotion () {\r\n\r\n\tconst container = useRef(null);\r\n\tconst [ promotion, setPromotion ] = useState(null);\r\n\r\n\tconst { id } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n\t\tdocument.body.classList.add('promotions-page');\r\n\r\n\t\treturn () => document.body.classList.remove('promotions-page');\r\n\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst req = Service.read_current({\r\n\t\t\tid,\r\n\t\t});\r\n\r\n\t\treq.promise.then(r => {\r\n\r\n\t\t\tconsole.log(r);\r\n\r\n\t\t\tsetPromotion(r.info);\r\n\r\n\t\t}, e => {});\r\n\r\n\t\treturn () => req.cancel();\r\n\r\n\t}, [ id ]);\r\n\r\n\treturn (\r\n\t\t<StickyProvider>\r\n\t\t\t<div className=\"promotions single\" ref={container}>\r\n\t\t\t\t<div className=\"decor-n0\"></div>\r\n\t\t\t\t<div className=\"decor-n1\"></div>\r\n\t\t\t\t<div className=\"promotions-flex-wrap\">\r\n\t\t\t\t\t<Sticky container={container} defaultOffsetTop={180} overflowScroll=\"end\" stickyProps={{ className: 'decor-n2' }}>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</Sticky>\r\n\t\t\t\t\t<div className=\"promotions-inner\">\r\n\t\t\t\t\t\t{promotion ? (\r\n\t\t\t\t\t\t\t<div className=\"banner\">\r\n\t\t\t\t\t\t\t\t<div className=\"banner-inner\">\r\n\t\t\t\t\t\t\t\t\t<p dangerouslySetInnerHTML={{ __html: promotion }}></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Sticky container={container} defaultOffsetTop={180} overflowScroll=\"end\" stickyProps={{ className: 'decor-n3' }}>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</Sticky>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</StickyProvider>\r\n\t);\r\n\r\n}\r\n\r\nexport default withAuth(Promotion, 0);\r\n"]},"metadata":{},"sourceType":"module"}