{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _taggedTemplateLiteral = require(\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  margin: 0;\\n  padding: 0;\\n  display: inline-block;\\n  list-style: none;\\n  overflow-y: scroll;\\n  will-change: transform;\\n  overflow-x: hidden;\\n  text-align: center;\\n  padding: 0 20px;\\n  \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\n\nvar WheelPickerItem_1 = __importDefault(require(\"../components/WheelPickerItem\"));\n\nvar useObserver_1 = __importDefault(require(\"../hooks/useObserver\"));\n\nvar optionID_1 = require(\"../constants/optionID\");\n\nvar useHandleKeyboard_1 = __importDefault(require(\"../hooks/useHandleKeyboard\"));\n\nvar List = styled_components_1.default.ul(_templateObject(), function (props) {\n  return \"\\n    height: \".concat(props.height, \"px;\\n    width: \").concat(props.width, \";\\n    background-color: \").concat(props.backgroundColor, \";\\n    box-shadow: 1px 3px 10px \").concat(props.shadowColor, \" inset;\\n    &:focus {\\n      outline: 2px solid \").concat(props.focusColor, \";\\n    }\\n  \");\n});\n\nvar calculateSpaceHeight = function calculateSpaceHeight(height, itemHeight) {\n  var limit = height / itemHeight / 2 - 0.5;\n  return itemHeight * limit;\n};\n\nvar setStyles = function setStyles(styles) {\n  var _color = styles.color || \"#fff\";\n\n  return {\n    color: _color,\n    activeColor: styles.activeColor || _color,\n    fontSize: styles.fontSize || 16,\n    backgroundColor: styles.backgroundColor || \"#555\",\n    shadowColor: styles.shadowColor || \"#333\",\n    width: styles.width ? \"\".concat(styles.width, \"px\") : \"100%\",\n    focusColor: styles.focusColor ? styles.focusColor : \"blue\"\n  };\n};\n\nvar WheelPicker = function WheelPicker(_ref, ref) {\n  var data = _ref.data,\n      selectedID = _ref.selectedID,\n      onChange = _ref.onChange,\n      height = _ref.height,\n      itemHeight = _ref.itemHeight,\n      idName = _ref.idName,\n      titleID = _ref.titleID,\n      titleText = _ref.titleText,\n      width = _ref.width,\n      color = _ref.color,\n      activeColor = _ref.activeColor,\n      fontSize = _ref.fontSize,\n      backgroundColor = _ref.backgroundColor,\n      shadowColor = _ref.shadowColor,\n      focusColor = _ref.focusColor,\n      required = _ref.required;\n\n  var _react_1$useState = react_1.useState(itemHeight),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      _itemHeight = _react_1$useState2[0],\n      setItemHeight = _react_1$useState2[1];\n\n  var _useHandleKeyboard_1$ = useHandleKeyboard_1.default(_itemHeight),\n      onKeyUp = _useHandleKeyboard_1$.onKeyUp,\n      onKeyPress = _useHandleKeyboard_1$.onKeyPress;\n\n  var _useObserver_1$defaul = useObserver_1.default(data, selectedID, _itemHeight, onChange),\n      root = _useObserver_1$defaul.root,\n      refs = _useObserver_1$defaul.refs,\n      activeID = _useObserver_1$defaul.activeID,\n      onFocus = _useObserver_1$defaul.onFocus;\n\n  var styles = react_1.useMemo(function () {\n    return setStyles({\n      width: width,\n      color: color,\n      activeColor: activeColor,\n      fontSize: fontSize,\n      backgroundColor: backgroundColor,\n      shadowColor: shadowColor,\n      focusColor: focusColor\n    });\n  }, [activeColor, backgroundColor, color, focusColor, fontSize, shadowColor, width]);\n  var spaceHeight = react_1.useMemo(function () {\n    return calculateSpaceHeight(height, _itemHeight);\n  }, [_itemHeight, height]);\n  var ariaActivedescendant = react_1.useMemo(function () {\n    return \"\".concat(optionID_1.OPTION_ID).concat(activeID);\n  }, [activeID]);\n  var handleOnClick = react_1.useCallback(function (e) {\n    if (root.current) {\n      root.current.scrollTo(0, e.currentTarget.offsetTop - spaceHeight);\n    }\n  }, [root, spaceHeight]);\n  react_1.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        root.current && root.current.focus();\n      },\n      blur: function blur() {\n        root.current && root.current.blur();\n      }\n    };\n  }, [root]);\n  react_1.useEffect(function () {\n    var adjustItemHeight = function adjustItemHeight() {\n      var maxHeight = itemHeight;\n      Object.keys(refs).map(function (id) {\n        var elm = refs[id].current;\n\n        if (!elm) {\n          return;\n        }\n\n        var h = elm.clientHeight;\n\n        if (h > maxHeight) {\n          maxHeight = h;\n        }\n      });\n      return maxHeight;\n    };\n\n    setItemHeight(adjustItemHeight());\n  }, [itemHeight, refs]);\n  return react_1.default.createElement(List, {\n    id: idName,\n    tabIndex: 0,\n    role: \"listbox\",\n    \"aria-labelledby\": titleID,\n    \"aria-label\": titleText,\n    \"aria-required\": required,\n    \"aria-activedescendant\": ariaActivedescendant,\n    ref: root,\n    \"data-testid\": \"picker-list\",\n    height: height,\n    width: styles.width,\n    backgroundColor: styles.backgroundColor,\n    shadowColor: styles.shadowColor,\n    focusColor: styles.focusColor,\n    onKeyUp: onKeyUp,\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyPress\n  }, react_1.default.createElement(\"div\", {\n    style: {\n      height: spaceHeight\n    }\n  }), data.map(function (item) {\n    return react_1.default.createElement(WheelPickerItem_1.default, Object.assign({\n      key: item.id\n    }, item, styles, {\n      height: _itemHeight,\n      activeID: activeID,\n      onClick: handleOnClick,\n      onFocus: onFocus,\n      ref: refs[item.id]\n    }));\n  }), react_1.default.createElement(\"div\", {\n    style: {\n      height: spaceHeight\n    }\n  }));\n};\n\nexports.default = react_1.forwardRef(WheelPicker);","map":{"version":3,"sources":["../../src/components/WheelPicker.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\nconst WheelPickerItem_1 = __importDefault(require(\"../components/WheelPickerItem\"));\nconst useObserver_1 = __importDefault(require(\"../hooks/useObserver\"));\nconst optionID_1 = require(\"../constants/optionID\");\nconst useHandleKeyboard_1 = __importDefault(require(\"../hooks/useHandleKeyboard\"));\nconst List = styled_components_1.default.ul `\n  position: relative;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n  list-style: none;\n  overflow-y: scroll;\n  will-change: transform;\n  overflow-x: hidden;\n  text-align: center;\n  padding: 0 20px;\n  ${(props) => `\n    height: ${props.height}px;\n    width: ${props.width};\n    background-color: ${props.backgroundColor};\n    box-shadow: 1px 3px 10px ${props.shadowColor} inset;\n    &:focus {\n      outline: 2px solid ${props.focusColor};\n    }\n  `}\n`;\nconst calculateSpaceHeight = (height, itemHeight) => {\n    const limit = height / itemHeight / 2 - 0.5;\n    return itemHeight * limit;\n};\nconst setStyles = (styles) => {\n    const _color = styles.color || \"#fff\";\n    return {\n        color: _color,\n        activeColor: styles.activeColor || _color,\n        fontSize: styles.fontSize || 16,\n        backgroundColor: styles.backgroundColor || \"#555\",\n        shadowColor: styles.shadowColor || \"#333\",\n        width: styles.width ? `${styles.width}px` : \"100%\",\n        focusColor: styles.focusColor ? styles.focusColor : \"blue\"\n    };\n};\nconst WheelPicker = ({ data, selectedID, onChange, height, itemHeight, idName, titleID, titleText, width, color, activeColor, fontSize, backgroundColor, shadowColor, focusColor, required }, ref) => {\n    const [_itemHeight, setItemHeight] = react_1.useState(itemHeight);\n    const { onKeyUp, onKeyPress } = useHandleKeyboard_1.default(_itemHeight);\n    const { root, refs, activeID, onFocus } = useObserver_1.default(data, selectedID, _itemHeight, onChange);\n    const styles = react_1.useMemo(() => setStyles({\n        width,\n        color,\n        activeColor,\n        fontSize,\n        backgroundColor,\n        shadowColor,\n        focusColor\n    }), [\n        activeColor,\n        backgroundColor,\n        color,\n        focusColor,\n        fontSize,\n        shadowColor,\n        width\n    ]);\n    const spaceHeight = react_1.useMemo(() => calculateSpaceHeight(height, _itemHeight), [\n        _itemHeight,\n        height\n    ]);\n    const ariaActivedescendant = react_1.useMemo(() => {\n        return `${optionID_1.OPTION_ID}${activeID}`;\n    }, [activeID]);\n    const handleOnClick = react_1.useCallback((e) => {\n        if (root.current) {\n            root.current.scrollTo(0, e.currentTarget.offsetTop - spaceHeight);\n        }\n    }, [root, spaceHeight]);\n    react_1.useImperativeHandle(ref, () => ({\n        focus: () => {\n            root.current && root.current.focus();\n        },\n        blur: () => {\n            root.current && root.current.blur();\n        }\n    }), [root]);\n    react_1.useEffect(() => {\n        const adjustItemHeight = () => {\n            let maxHeight = itemHeight;\n            Object.keys(refs).map(id => {\n                const elm = refs[id].current;\n                if (!elm) {\n                    return;\n                }\n                const h = elm.clientHeight;\n                if (h > maxHeight) {\n                    maxHeight = h;\n                }\n            });\n            return maxHeight;\n        };\n        setItemHeight(adjustItemHeight());\n    }, [itemHeight, refs]);\n    return (react_1.default.createElement(List, { id: idName, tabIndex: 0, role: \"listbox\", \"aria-labelledby\": titleID, \"aria-label\": titleText, \"aria-required\": required, \"aria-activedescendant\": ariaActivedescendant, ref: root, \"data-testid\": \"picker-list\", height: height, width: styles.width, backgroundColor: styles.backgroundColor, shadowColor: styles.shadowColor, focusColor: styles.focusColor, onKeyUp: onKeyUp, onKeyPress: onKeyPress, onKeyDown: onKeyPress },\n        react_1.default.createElement(\"div\", { style: { height: spaceHeight } }),\n        data.map(item => (react_1.default.createElement(WheelPickerItem_1.default, Object.assign({ key: item.id }, item, styles, { height: _itemHeight, activeID: activeID, onClick: handleOnClick, onFocus: onFocus, ref: refs[item.id] })))),\n        react_1.default.createElement(\"div\", { style: { height: spaceHeight } })));\n};\nexports.default = react_1.forwardRef(WheelPicker);\n//# sourceMappingURL=WheelPicker.js.map"]},"metadata":{},"sourceType":"script"}