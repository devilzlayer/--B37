{"ast":null,"code":"var _jsxFileName = \"/Users/cramj/Documents/New PWA/GIT/src/view/profile/Settings.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport moment from 'moment';\nimport { map, size, isNumber } from 'lodash';\nimport { User } from \"../../service\";\nimport Calendar from './settings/calendar';\n\nconst Settings = props => {\n  const {\n    type,\n    onHide\n  } = props;\n  const {\n    setUserAuthFN,\n    userAuth\n  } = useContext(User.Context);\n  const {\n    data: {\n      realName,\n      phone_verify,\n      telephone,\n      birthday,\n      email\n    }\n  } = userAuth;\n  const {\n    password\n  } = User.read();\n  const [newDate, setNewDate] = useState(null);\n  const [message, setMessage] = useState({});\n  const [code, setCode] = useState(false);\n  const [verified, setVerified] = useState(false);\n  const [active, setActive] = useState(false);\n  const [forms, setForms] = useState({\n    realname: realName ? realName : '',\n    phone: telephone ? telephone : '',\n    birthday: birthday ? birthday : '',\n    email: email ? email : '',\n    code: ''\n  });\n  const [vision, setVision] = useState({\n    password: false,\n    password_new: false,\n    password_newok: false\n  });\n  const [formPW, setFormPW] = useState({\n    password: \"\",\n    password_new: \"\",\n    password_newok: \"\"\n  });\n  useEffect(() => {\n    // console.log(type)\n    setForms({\n      realname: realName ? realName : '',\n      phone: telephone ? telephone : '',\n      birthday: birthday ? birthday : '',\n      email: email ? email : '',\n      code\n    });\n    setActive(false);\n    setVerified(false);\n  }, [type]);\n  useEffect(() => {\n    if (type === 'name') {\n      if (forms.realname !== \"\" && size(forms.realname) > 1 && size(forms.realname) < 5) setActive(true);else setActive(false);\n    }\n  }, [forms.realname]);\n  useEffect(() => {\n    if (type === 'email') {\n      const validateEmail = email => {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n      };\n\n      if (forms.email !== \"\" && validateEmail(forms.email)) setActive(true);else setActive(false);\n      setVerified(false);\n    }\n  }, [forms.email]);\n  useEffect(() => {\n    if (type === 'phone') {\n      setCode(false);\n      setActive(false);\n\n      if (forms.phone !== \"\" && size(forms.phone) === 11) {\n        setCode(true);\n      }\n\n      if (forms.code !== \"\") {\n        setActive(true);\n      }\n    }\n  }, [forms.phone, forms.code]);\n  useEffect(() => {\n    if (type === 'password') {\n      if (formPW.password !== \"\" && formPW.password_new !== \"\" && formPW.password_newok !== \"\") {\n        setActive(true);\n      }\n\n      if (formPW.password !== password) {\n        setActive(false);\n      }\n\n      if (formPW.password_new !== formPW.password_newok) {\n        setActive(false);\n      }\n    }\n  }, [formPW]);\n  useEffect(() => {\n    if (type === 'birthday') {\n      if (newDate !== \"\") setActive(true);else setActive(false);\n    }\n  }, [newDate]);\n\n  const onUpdate = () => {\n    // console.log(forms)\n    if (active) {\n      User.update({ ...User.read(),\n        ...forms\n      }).promise.then(r => {\n        console.info(\"✅ You have successfully updated account\", r.info);\n        User.session({ ...User.read()\n        }).promise.then(r => setUserAuthFN(1, r.info));\n        setVerified(true);\n      }, e => {\n        console.warn(\"Unable to update account:\", e);\n      });\n    }\n  };\n\n  const onUpdatePW = () => {\n    // console.log(formsPw)\n    if (active) {\n      console.log(formPW);\n      User.updatePassword({ ...User.read(),\n        ...formPW\n      }).promise.then(r => {\n        console.info(\"✅ You have successfully updated password:\", r.info);\n        setMessage({\n          text: r.info,\n          valid: true\n        });\n      }, e => {\n        console.info(\"Unable to update password:\", e);\n        setMessage({\n          text: e,\n          valid: false\n        });\n      });\n    }\n  };\n\n  const onUpdateNo = () => {\n    if (active) {\n      const {\n        phone,\n        code\n      } = forms;\n      User.update({ ...forms,\n        ...User.read(),\n        phone,\n        verification_code: code\n      }).promise.then(r => {\n        console.info(\"✅ You have successfully updated account phone number:\", r.info);\n        setVerified(true);\n        User.session({ ...User.read()\n        }).promise.then(r => setUserAuthFN(1, r.info));\n      }, e => {\n        console.warn(\"Unable to update account phone number:\", e);\n      });\n    }\n  };\n\n  const onVerifyCode = () => {\n    if (type === 'phone') {\n      const {\n        phone\n      } = forms;\n      const req = User.mobileVerification({\n        type: \"verification_code\",\n        phone,\n        ...User.read()\n      });\n      req.promise.then(r => {\n        console.log(\"Verification sent!\");\n      }, e => {\n        console.warn(\"Verification nto generated\", e);\n      });\n    }\n  };\n\n  const onUpdateDate = () => {\n    if (type === 'birthday') {\n      User.update({ ...User.read(),\n        ...forms,\n        birthday: newDate\n      }).promise.then(r => {\n        console.info(\"✅ You have successfully updated account\", r.info);\n        User.session({ ...User.read()\n        }).promise.then(r => setUserAuthFN(1, r.info));\n        setVerified(true);\n      }, e => {\n        console.warn(\"Unable to update account:\", e);\n      });\n    }\n  };\n\n  const onChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForms(e => ({ ...e,\n      [name]: value\n    }));\n  };\n\n  const onChangePW = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormPW(e => ({ ...e,\n      [name]: value\n    }));\n  }; // console.log(active)\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `pesonal-setting-desktop-wrap ${type ? 'show' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pesonal-arrow\",\n    onClick: onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-section section-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, type === \"name\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 33\n    }\n  }, \"\\u771F\\u5B9E\\u59D3\\u540D\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: forms.realname,\n    type: \"text\",\n    name: \"realname\",\n    placeholder: \"\\u7528\\u4E8E\\u63D0\\u73B0\\u65F6\\u5B89\\u5168\\u6838\\u5BF9\",\n    onChange: onChange,\n    maxLength: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-button ${active ? 'active' : ''}`,\n    onClick: onUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\")), type === \"email\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-group ${verified ? 'verified' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 29\n    }\n  }, verified && /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 33\n    }\n  }, \"\\u90AE\\u7BB1\\u5730\\u5740\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: forms.email,\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7ED1\\u5B9A\\u7684\\u90AE\\u7BB1\\u5730\\u5740\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-button ${active ? 'active' : ''}`,\n    onClick: onUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\")), type === \"password\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, message && /*#__PURE__*/React.createElement(\"div\", {\n    className: `message ${message.valid ? 'valid' : 'invalid'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 41\n    }\n  }, message.text), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 33\n    }\n  }, \"\\u539F\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: vision.password ? 'text' : 'password',\n    name: \"password\",\n    placeholder: \"\\u539F\\u5BC6\\u7801\",\n    onChange: onChangePW,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `eye ${vision.password ? 'vision' : ''}`,\n    onClick: () => setVision(f => ({ ...f,\n      password: !vision.password\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 33\n    }\n  }, \"\\u65B0\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: vision.password_new ? 'text' : 'password',\n    name: \"password_new\",\n    placeholder: \"\\u65B0\\u5BC6\\u7801\",\n    onChange: onChangePW,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `eye ${vision.password_new ? 'vision' : ''}`,\n    onClick: () => setVision(f => ({ ...f,\n      password_new: !vision.password_new\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 33\n    }\n  }, \"\\u9A8C\\u8BC1\\u65B0\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: vision.password_newok ? 'text' : 'password',\n    name: \"password_newok\",\n    placeholder: \"\\u9A8C\\u8BC1\\u65B0\\u5BC6\\u7801\",\n    onChange: onChangePW,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `eye ${vision.password_newok ? 'vision' : ''}`,\n    onClick: () => setVision(f => ({ ...f,\n      password_newok: !vision.password_newok\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-button ${active ? 'active' : ''}`,\n    onClick: onUpdatePW,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\")), type === \"phone\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-group ${verified ? 'verified' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 29\n    }\n  }, verified && /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 33\n    }\n  }, \"\\u624B\\u673A\\u53F7\\u7801\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: forms.phone,\n    type: \"number\",\n    name: \"phone\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7ED1\\u5B9A\\u7684\\u624B\\u673A\\u53F7\\u7801\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form-group left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"code\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u9A8C\\u8BC1\\u7801\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `verify-button ${code ? 'code' : ''}`,\n    onClick: onVerifyCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 33\n    }\n  }, \"\\u53D1\\u9001\\u9A8C\\u8BC1\\u7801\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-button ${active ? 'active' : ''}`,\n    onClick: onUpdateNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\")), type === \"birthday\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"personal-form birthday\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-group ${verified ? 'verified' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 29\n    }\n  }, verified && /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 46\n    }\n  }), /*#__PURE__*/React.createElement(Calendar, {\n    onDate: event => setNewDate(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `personal-form-button ${active ? 'active' : ''}`,\n    onClick: onUpdateDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 29\n    }\n  }, \"\\u63D0\\u4EA4\")))));\n};\n\nexport default Settings;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/view/profile/Settings.js"],"names":["React","useState","useEffect","useContext","moment","map","size","isNumber","User","Calendar","Settings","props","type","onHide","setUserAuthFN","userAuth","Context","data","realName","phone_verify","telephone","birthday","email","password","read","newDate","setNewDate","message","setMessage","code","setCode","verified","setVerified","active","setActive","forms","setForms","realname","phone","vision","setVision","password_new","password_newok","formPW","setFormPW","validateEmail","re","test","onUpdate","update","promise","then","r","console","info","session","e","warn","onUpdatePW","log","updatePassword","text","valid","onUpdateNo","verification_code","onVerifyCode","req","mobileVerification","onUpdateDate","onChange","event","name","value","target","onChangePW","f"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,GAAT,EAAeC,IAAf,EAAsBC,QAAtB,QAAqC,QAArC;AACA,SAASC,IAAT,QAAqB,eAArB;AAEA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAU;AACvB,QAAM;AAAEC,IAAAA,IAAF;AAASC,IAAAA;AAAT,MAAoBF,KAA1B;AACA,QAAM;AAAEG,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAA6BZ,UAAU,CAACK,IAAI,CAACQ,OAAN,CAA7C;AACA,QAAM;AAAEC,IAAAA,IAAI,EAAG;AACXC,MAAAA,QADW;AAEXC,MAAAA,YAFW;AAGXC,MAAAA,SAHW;AAIXC,MAAAA,QAJW;AAKXC,MAAAA;AALW;AAAT,MAMGP,QANT;AAQA,QAAM;AAAEQ,IAAAA;AAAF,MAAef,IAAI,CAACgB,IAAL,EAArB;AAEA,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAAgCzB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAAE0B,OAAF,EAAWC,UAAX,IAAgC3B,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAE4B,IAAF,EAAQC,OAAR,IAAgC7B,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAAE8B,QAAF,EAAYC,WAAZ,IAAgC/B,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAAEgC,MAAF,EAAWC,SAAX,IAAgCjC,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAAEkC,KAAF,EAAWC,QAAX,IAAgCnC,QAAQ,CAAC;AAC3CoC,IAAAA,QAAQ,EAAOnB,QAAQ,GAAOA,QAAP,GAAuB,EADH;AAE3CoB,IAAAA,KAAK,EAAUlB,SAAS,GAAMA,SAAN,GAAsB,EAFH;AAG3CC,IAAAA,QAAQ,EAAOA,QAAQ,GAAOA,QAAP,GAAuB,EAHH;AAI3CC,IAAAA,KAAK,EAAUA,KAAK,GAAUA,KAAV,GAA0B,EAJH;AAK3CO,IAAAA,IAAI,EAAW;AAL4B,GAAD,CAA9C;AAQA,QAAM,CAAEU,MAAF,EAAUC,SAAV,IAA8BvC,QAAQ,CAAC;AACzCsB,IAAAA,QAAQ,EAAU,KADuB;AAEzCkB,IAAAA,YAAY,EAAM,KAFuB;AAGzCC,IAAAA,cAAc,EAAI;AAHuB,GAAD,CAA5C;AAKA,QAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwB3C,QAAQ,CAAC;AACnCsB,IAAAA,QAAQ,EAAU,EADiB;AAEnCkB,IAAAA,YAAY,EAAM,EAFiB;AAGnCC,IAAAA,cAAc,EAAI;AAHiB,GAAD,CAAtC;AAMAxC,EAAAA,SAAS,CAAC,MAAI;AACV;AACAkC,IAAAA,QAAQ,CAAC;AACLC,MAAAA,QAAQ,EAAOnB,QAAQ,GAAOA,QAAP,GAAuB,EADzC;AAELoB,MAAAA,KAAK,EAAUlB,SAAS,GAAMA,SAAN,GAAsB,EAFzC;AAGLC,MAAAA,QAAQ,EAAOA,QAAQ,GAAOA,QAAP,GAAuB,EAHzC;AAILC,MAAAA,KAAK,EAAUA,KAAK,GAAUA,KAAV,GAA0B,EAJzC;AAKLO,MAAAA;AALK,KAAD,CAAR;AAOAK,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAF,IAAAA,WAAW,CAAC,KAAD,CAAX;AAGH,GAbQ,EAaP,CAACpB,IAAD,CAbO,CAAT;AAgBAV,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGU,IAAI,KAAK,MAAZ,EAAmB;AACf,UAAIuB,KAAK,CAACE,QAAN,KAAmB,EAAnB,IAAyB/B,IAAI,CAAC6B,KAAK,CAACE,QAAP,CAAJ,GAAuB,CAAhD,IAAqD/B,IAAI,CAAC6B,KAAK,CAACE,QAAP,CAAJ,GAAuB,CAAhF,EACAH,SAAS,CAAC,IAAD,CAAT,CADA,KAEKA,SAAS,CAAC,KAAD,CAAT;AACR;AACJ,GANQ,EAMP,CAACC,KAAK,CAACE,QAAP,CANO,CAAT;AAQAnC,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGU,IAAI,KAAK,OAAZ,EAAoB;AAChB,YAAMiC,aAAa,GAAIvB,KAAD,IAAW;AAC7B,cAAMwB,EAAE,GAAG,2JAAX;AACA,eAAOA,EAAE,CAACC,IAAH,CAAQzB,KAAR,CAAP;AACH,OAHD;;AAIA,UAAIa,KAAK,CAACb,KAAN,KAAgB,EAAhB,IAAsBuB,aAAa,CAACV,KAAK,CAACb,KAAP,CAAvC,EACIY,SAAS,CAAC,IAAD,CAAT,CADJ,KAGIA,SAAS,CAAC,KAAD,CAAT;AACAF,MAAAA,WAAW,CAAC,KAAD,CAAX;AACP;AACJ,GAZQ,EAYP,CAACG,KAAK,CAACb,KAAP,CAZO,CAAT;AAcApB,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGU,IAAI,KAAK,OAAZ,EAAoB;AAChBkB,MAAAA,OAAO,CAAC,KAAD,CAAP;AACAI,MAAAA,SAAS,CAAC,KAAD,CAAT;;AAEA,UAAIC,KAAK,CAACG,KAAN,KAAgB,EAAhB,IAAsBhC,IAAI,CAAC6B,KAAK,CAACG,KAAP,CAAJ,KAAuB,EAAjD,EAAqD;AACjDR,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH;;AAED,UAAGK,KAAK,CAACN,IAAN,KAAe,EAAlB,EAAqB;AACjBK,QAAAA,SAAS,CAAC,IAAD,CAAT;AACH;AAGJ;AACJ,GAfQ,EAeP,CAACC,KAAK,CAACG,KAAP,EAAeH,KAAK,CAACN,IAArB,CAfO,CAAT;AAkBA3B,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGU,IAAI,KAAK,UAAZ,EAAuB;AACnB,UAAG+B,MAAM,CAACpB,QAAP,KAAoB,EAApB,IAA0BoB,MAAM,CAACF,YAAP,KAAwB,EAAlD,IAAwDE,MAAM,CAACD,cAAP,KAA0B,EAArF,EAAyF;AACrFR,QAAAA,SAAS,CAAC,IAAD,CAAT;AACH;;AACD,UAAGS,MAAM,CAACpB,QAAP,KAAoBA,QAAvB,EAAgC;AAC5BW,QAAAA,SAAS,CAAC,KAAD,CAAT;AACH;;AACD,UAAGS,MAAM,CAACF,YAAP,KAAwBE,MAAM,CAACD,cAAlC,EAAmD;AAC/CR,QAAAA,SAAS,CAAC,KAAD,CAAT;AACH;AACJ;AACJ,GAZQ,EAYP,CAACS,MAAD,CAZO,CAAT;AAcAzC,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGU,IAAI,KAAK,UAAZ,EAAuB;AACnB,UAAIa,OAAO,KAAK,EAAhB,EACAS,SAAS,CAAC,IAAD,CAAT,CADA,KAEKA,SAAS,CAAC,KAAD,CAAT;AACR;AACJ,GANQ,EAMP,CAACT,OAAD,CANO,CAAT;;AASA,QAAMuB,QAAQ,GAAG,MAAK;AAClB;AACA,QAAGf,MAAH,EAAU;AACNzB,MAAAA,IAAI,CAACyC,MAAL,CAAY,EACR,GAAGzC,IAAI,CAACgB,IAAL,EADK;AAER,WAAGW;AAFK,OAAZ,EAGGe,OAHH,CAGWC,IAHX,CAGiBC,CAAD,IAAO;AACnBC,QAAAA,OAAO,CAACC,IAAR,CAAa,yCAAb,EAAuDF,CAAC,CAACE,IAAzD;AACA9C,QAAAA,IAAI,CAAC+C,OAAL,CAAa,EACT,GAAG/C,IAAI,CAACgB,IAAL;AADM,SAAb,EAEG0B,OAFH,CAEWC,IAFX,CAEiBC,CAAD,IAAOtC,aAAa,CAAC,CAAD,EAAIsC,CAAC,CAACE,IAAN,CAFpC;AAIAtB,QAAAA,WAAW,CAAC,IAAD,CAAX;AAEH,OAXD,EAWGwB,CAAD,IAAO;AACLH,QAAAA,OAAO,CAACI,IAAR,CAAa,2BAAb,EAA0CD,CAA1C;AACH,OAbD;AAcH;AAEJ,GAnBD;;AAqBA,QAAME,UAAU,GAAG,MAAK;AACpB;AACA,QAAGzB,MAAH,EAAU;AACNoB,MAAAA,OAAO,CAACM,GAAR,CAAYhB,MAAZ;AAEAnC,MAAAA,IAAI,CAACoD,cAAL,CAAoB,EAChB,GAAGpD,IAAI,CAACgB,IAAL,EADa;AAEhB,WAAGmB;AAFa,OAApB,EAGGO,OAHH,CAGWC,IAHX,CAGiBC,CAAD,IAAO;AACnBC,QAAAA,OAAO,CAACC,IAAR,CAAa,2CAAb,EAAyDF,CAAC,CAACE,IAA3D;AACA1B,QAAAA,UAAU,CAAC;AACPiC,UAAAA,IAAI,EAAIT,CAAC,CAACE,IADH;AAEPQ,UAAAA,KAAK,EAAG;AAFD,SAAD,CAAV;AAKH,OAVD,EAUGN,CAAD,IAAO;AACLH,QAAAA,OAAO,CAACC,IAAR,CAAa,4BAAb,EAA2CE,CAA3C;AACA5B,QAAAA,UAAU,CAAC;AACPiC,UAAAA,IAAI,EAAIL,CADD;AAEPM,UAAAA,KAAK,EAAG;AAFD,SAAD,CAAV;AAKH,OAjBD;AAkBH;AACJ,GAxBD;;AA0BA,QAAMC,UAAU,GAAG,MAAK;AACpB,QAAG9B,MAAH,EAAU;AACN,YAAM;AAAEK,QAAAA,KAAF;AAAUT,QAAAA;AAAV,UAAqBM,KAA3B;AACA3B,MAAAA,IAAI,CAACyC,MAAL,CAAY,EACR,GAAGd,KADK;AAER,WAAG3B,IAAI,CAACgB,IAAL,EAFK;AAGRc,QAAAA,KAHQ;AAIR0B,QAAAA,iBAAiB,EAAEnC;AAJX,OAAZ,EAKGqB,OALH,CAKWC,IALX,CAKiBC,CAAD,IAAO;AACjBC,QAAAA,OAAO,CAACC,IAAR,CAAa,uDAAb,EAAqEF,CAAC,CAACE,IAAvE;AACAtB,QAAAA,WAAW,CAAC,IAAD,CAAX;AACAxB,QAAAA,IAAI,CAAC+C,OAAL,CAAa,EACX,GAAG/C,IAAI,CAACgB,IAAL;AADQ,SAAb,EAEG0B,OAFH,CAEWC,IAFX,CAEiBC,CAAD,IAAOtC,aAAa,CAAC,CAAD,EAAIsC,CAAC,CAACE,IAAN,CAFpC;AAKL,OAbD,EAaGE,CAAD,IAAO;AACHH,QAAAA,OAAO,CAACI,IAAR,CAAa,wCAAb,EAAuDD,CAAvD;AACL,OAfD;AAgBH;AACJ,GApBD;;AAsBA,QAAMS,YAAY,GAAG,MAAK;AACtB,QAAGrD,IAAI,KAAK,OAAZ,EAAoB;AAChB,YAAM;AAAE0B,QAAAA;AAAF,UAAcH,KAApB;AACA,YAAM+B,GAAG,GAAG1D,IAAI,CAAC2D,kBAAL,CAAwB;AAChCvD,QAAAA,IAAI,EAAE,mBAD0B;AAEhC0B,QAAAA,KAFgC;AAGhC,WAAG9B,IAAI,CAACgB,IAAL;AAH6B,OAAxB,CAAZ;AAMA0C,MAAAA,GAAG,CAAChB,OAAJ,CAAYC,IAAZ,CAAkBC,CAAD,IAAO;AACpBC,QAAAA,OAAO,CAACM,GAAR,CAAY,oBAAZ;AACH,OAFD,EAEGH,CAAD,IAAO;AACLH,QAAAA,OAAO,CAACI,IAAR,CAAa,4BAAb,EAA2CD,CAA3C;AACH,OAJD;AAKH;AACJ,GAfD;;AAiBA,QAAMY,YAAY,GAAG,MAAK;AACtB,QAAGxD,IAAI,KAAK,UAAZ,EAAuB;AACnBJ,MAAAA,IAAI,CAACyC,MAAL,CAAY,EACR,GAAGzC,IAAI,CAACgB,IAAL,EADK;AAER,WAAGW,KAFK;AAGRd,QAAAA,QAAQ,EAAEI;AAHF,OAAZ,EAIGyB,OAJH,CAIWC,IAJX,CAIiBC,CAAD,IAAO;AACnBC,QAAAA,OAAO,CAACC,IAAR,CAAa,yCAAb,EAAuDF,CAAC,CAACE,IAAzD;AACA9C,QAAAA,IAAI,CAAC+C,OAAL,CAAa,EACT,GAAG/C,IAAI,CAACgB,IAAL;AADM,SAAb,EAEG0B,OAFH,CAEWC,IAFX,CAEiBC,CAAD,IAAOtC,aAAa,CAAC,CAAD,EAAIsC,CAAC,CAACE,IAAN,CAFpC;AAIAtB,QAAAA,WAAW,CAAC,IAAD,CAAX;AAEH,OAZD,EAYGwB,CAAD,IAAO;AACLH,QAAAA,OAAO,CAACI,IAAR,CAAa,2BAAb,EAA0CD,CAA1C;AACH,OAdD;AAeH;AACJ,GAlBD;;AAoBA,QAAMa,QAAQ,GAAIC,KAAD,IAAU;AACvB,UAAM;AAAEC,MAAAA,IAAF;AAASC,MAAAA;AAAT,QAAmBF,KAAK,CAACG,MAA/B;AACArC,IAAAA,QAAQ,CAAEoB,CAAC,KAAI,EACX,GAAGA,CADQ;AAEX,OAACe,IAAD,GAASC;AAFE,KAAJ,CAAH,CAAR;AAIH,GAND;;AAQA,QAAME,UAAU,GAAIJ,KAAD,IAAU;AACzB,UAAM;AAAEC,MAAAA,IAAF;AAASC,MAAAA;AAAT,QAAmBF,KAAK,CAACG,MAA/B;AACA7B,IAAAA,SAAS,CAAEY,CAAC,KAAI,EACZ,GAAGA,CADS;AAEZ,OAACe,IAAD,GAASC;AAFG,KAAJ,CAAH,CAAT;AAIH,GAND,CAtOuB,CA8OvB;;;AAGA,sBAAQ;AAAK,IAAA,SAAS,EAAG,gCAA+B5D,IAAI,GAAG,MAAH,GAAW,EAAG,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAA+B,IAAA,OAAO,EAAEC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKD,IAAI,KAAK,MAAT,iBACD;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI;AAAO,IAAA,KAAK,EAAEuB,KAAK,CAACE,QAApB;AAA8B,IAAA,IAAI,EAAC,MAAnC;AAA0C,IAAA,IAAI,EAAC,UAA/C;AAA0D,IAAA,WAAW,EAAC,wDAAtE;AAAkF,IAAA,QAAQ,EAAEgC,QAA5F;AAAsG,IAAA,SAAS,EAAE,CAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAG,wBAAuBpC,MAAM,GAAG,QAAH,GAAc,EAAG,EAA/D;AAAoE,IAAA,OAAO,EAAEe,QAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,CAHJ,EAWKpC,IAAI,KAAK,OAAT,iBACD;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,uBAAsBmB,QAAQ,GAAG,UAAH,GAAgB,EAAG,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,QAAQ,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,eAGI;AAAO,IAAA,KAAK,EAAEI,KAAK,CAACb,KAApB;AAA2B,IAAA,IAAI,EAAC,OAAhC;AAAwC,IAAA,IAAI,EAAC,OAA7C;AAAqD,IAAA,WAAW,EAAC,8DAAjE;AAA+E,IAAA,QAAQ,EAAE+C,QAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,eAOI;AAAK,IAAA,SAAS,EAAG,wBAAuBpC,MAAM,GAAG,QAAH,GAAc,EAAG,EAA/D;AAAmE,IAAA,OAAO,EAAEe,QAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CAZJ,EAuBKpC,IAAI,KAAK,UAAT,iBACD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKe,OAAO,iBAAI;AAAK,IAAA,SAAS,EAAG,WAAUA,OAAO,CAACmC,KAAR,GAAgB,OAAhB,GAAyB,SAAU,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkEnC,OAAO,CAACkC,IAA1E,CADhB,eAEI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAQ,IAAA,IAAI,EAAEtB,MAAM,CAAChB,QAAP,GAAkB,MAAlB,GAA2B,UAAzC;AAAqD,IAAA,IAAI,EAAC,UAA1D;AAAqE,IAAA,WAAW,EAAC,oBAAjF;AAAuF,IAAA,QAAQ,EAAEmD,UAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAG,IAAA,SAAS,EAAG,OAAMnC,MAAM,CAAChB,QAAP,GAAkB,QAAlB,GAA6B,EAAG,EAArD;AAAwD,IAAA,OAAO,EAAE,MAAMiB,SAAS,CAAEmC,CAAC,KAAK,EAAE,GAAGA,CAAL;AAASpD,MAAAA,QAAQ,EAAG,CAACgB,MAAM,CAAChB;AAA5B,KAAL,CAAH,CAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAFJ,eAOI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAQ,IAAA,IAAI,EAAEgB,MAAM,CAACE,YAAP,GAAsB,MAAtB,GAA+B,UAA7C;AAAyD,IAAA,IAAI,EAAC,cAA9D;AAA6E,IAAA,WAAW,EAAC,oBAAzF;AAA+F,IAAA,QAAQ,EAAEiC,UAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAG,IAAA,SAAS,EAAG,OAAMnC,MAAM,CAACE,YAAP,GAAsB,QAAtB,GAAiC,EAAG,EAAzD;AAA4D,IAAA,OAAO,EAAE,MAAMD,SAAS,CAAEmC,CAAC,KAAK,EAAE,GAAGA,CAAL;AAASlC,MAAAA,YAAY,EAAG,CAACF,MAAM,CAACE;AAAhC,KAAL,CAAH,CAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAPJ,eAYI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,eAEI;AAAO,IAAA,IAAI,EAAEF,MAAM,CAACG,cAAP,GAAwB,MAAxB,GAAiC,UAA9C;AAA0D,IAAA,IAAI,EAAC,gBAA/D;AAAgF,IAAA,WAAW,EAAC,gCAA5F;AAAoG,IAAA,QAAQ,EAAEgC,UAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAG,IAAA,SAAS,EAAG,OAAMnC,MAAM,CAACG,cAAP,GAAwB,QAAxB,GAAmC,EAAG,EAA3D;AAA8D,IAAA,OAAO,EAAE,MAAMF,SAAS,CAAEmC,CAAC,KAAK,EAAE,GAAGA,CAAL;AAASjC,MAAAA,cAAc,EAAG,CAACH,MAAM,CAACG;AAAlC,KAAL,CAAH,CAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAZJ,eAiBI;AAAK,IAAA,SAAS,EAAG,wBAAuBT,MAAM,GAAG,QAAH,GAAc,EAAG,EAA/D;AAAkE,IAAA,OAAO,EAAEyB,UAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBJ,CAxBJ,EA6CK9C,IAAI,KAAK,OAAT,iBACD;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,uBAAsBmB,QAAQ,GAAG,UAAH,GAAgB,EAAG,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,QAAQ,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,eAGI;AAAO,IAAA,KAAK,EAAEI,KAAK,CAACG,KAApB;AAA2B,IAAA,IAAI,EAAC,QAAhC;AAAyC,IAAA,IAAI,EAAC,OAA9C;AAAsD,IAAA,WAAW,EAAC,8DAAlE;AAAgF,IAAA,QAAQ,EAAE+B,QAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,eAMI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,IAAI,EAAC,MAA1B;AAAiC,IAAA,WAAW,EAAC,sCAA7C;AAAuD,IAAA,QAAQ,EAAEA,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAG,iBAAgBxC,IAAI,GAAG,MAAH,GAAY,EAAG,EAApD;AAAuD,IAAA,OAAO,EAAEoC,YAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAFJ,CANJ,eAUI;AAAK,IAAA,SAAS,EAAG,wBAAuBhC,MAAM,GAAG,QAAH,GAAc,EAAG,EAA/D;AAAmE,IAAA,OAAO,EAAE8B,UAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVJ,CA9CJ,EA4DKnD,IAAI,KAAK,UAAT,iBACD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,uBAAsBmB,QAAQ,GAAG,UAAH,GAAgB,EAAG,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,QAAQ,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,eAEI,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAGuC,KAAD,IAAW5C,UAAU,CAAC4C,KAAD,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAG,wBAAuBrC,MAAM,GAAG,QAAH,GAAc,EAAG,EAA/D;AAAoE,IAAA,OAAO,EAAEmC,YAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,CA7DJ,CADJ,CAFJ,CAAR;AA6EH,CA9TD;;AAgUA,eAAe1D,QAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport moment from 'moment'\r\nimport { map , size , isNumber} from 'lodash'\r\nimport { User } from \"../../service\";\r\n\r\nimport Calendar from './settings/calendar'\r\n\r\nconst Settings = (props) =>{\r\n    const { type , onHide } = props\r\n    const { setUserAuthFN ,userAuth} = useContext(User.Context);\r\n    const { data : {\r\n        realName,\r\n        phone_verify,\r\n        telephone,\r\n        birthday,\r\n        email,\r\n    } } =    userAuth\r\n\r\n    const { password } = User.read()\r\n\r\n    const [ newDate, setNewDate ]       = useState(null);\r\n    const [ message, setMessage ]       = useState({});\r\n    const [ code, setCode ]             = useState(false);\r\n    const [ verified, setVerified ]     = useState(false);\r\n    const [ active , setActive ]        = useState(false)\r\n    const [ forms  , setForms  ]        = useState({\r\n        realname     : realName     ? realName      : '',\r\n        phone        : telephone    ? telephone     : '',\r\n        birthday     : birthday     ? birthday      : '', \r\n        email        : email        ? email         : '', \r\n        code         : '',\r\n    });\r\n\r\n    const [ vision, setVision ]       = useState({\r\n        password        : false,\r\n        password_new    : false,\r\n        password_newok  : false,\r\n    });\r\n    const [ formPW, setFormPW ] = useState({\r\n        password        : \"\",\r\n        password_new    : \"\",\r\n        password_newok  : \"\",\r\n    });\r\n\r\n    useEffect(()=>{\r\n        // console.log(type)\r\n        setForms({\r\n            realname     : realName     ? realName      : '',\r\n            phone        : telephone    ? telephone     : '',\r\n            birthday     : birthday     ? birthday      : '', \r\n            email        : email        ? email         : '', \r\n            code        \r\n        })\r\n        setActive(false)\r\n        setVerified(false)\r\n        \r\n        \r\n    },[type])\r\n    \r\n\r\n    useEffect(() =>{\r\n        if(type === 'name'){\r\n            if (forms.realname !== \"\" && size(forms.realname) > 1 && size(forms.realname) < 5)\r\n            setActive(true);\r\n            else setActive(false);\r\n        }\r\n    },[forms.realname])\r\n\r\n    useEffect(() =>{\r\n        if(type === 'email'){\r\n            const validateEmail = (email) => {\r\n                const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                return re.test(email);\r\n            }\r\n            if (forms.email !== \"\" && validateEmail(forms.email)) \r\n                setActive(true);\r\n            else \r\n                setActive(false);\r\n                setVerified(false);\r\n        }\r\n    },[forms.email])\r\n\r\n    useEffect(() =>{\r\n        if(type === 'phone'){\r\n            setCode(false);\r\n            setActive(false);\r\n            \r\n            if (forms.phone !== \"\" && size(forms.phone ) === 11) {\r\n                setCode(true);\r\n            }\r\n\r\n            if(forms.code !== \"\"){\r\n                setActive(true);\r\n            }\r\n            \r\n          \r\n        }\r\n    },[forms.phone , forms.code])\r\n\r\n    \r\n    useEffect(() =>{\r\n        if(type === 'password'){\r\n            if(formPW.password !== \"\" && formPW.password_new !== \"\" && formPW.password_newok !== \"\" ){\r\n                setActive(true);\r\n            }\r\n            if(formPW.password !== password){\r\n                setActive(false);\r\n            }\r\n            if(formPW.password_new !== formPW.password_newok  ){\r\n                setActive(false);\r\n            }\r\n        }\r\n    },[formPW])\r\n\r\n    useEffect(() =>{\r\n        if(type === 'birthday'){\r\n            if (newDate !== \"\" )\r\n            setActive(true);\r\n            else setActive(false);\r\n        }\r\n    },[newDate])\r\n\r\n\r\n    const onUpdate = () =>{\r\n        // console.log(forms)\r\n        if(active){\r\n            User.update({\r\n                ...User.read(),\r\n                ...forms,\r\n            }).promise.then((r) => {\r\n                console.info(\"✅ You have successfully updated account\",r.info);\r\n                User.session({\r\n                    ...User.read(),\r\n                }).promise.then((r) => setUserAuthFN(1, r.info));\r\n    \r\n                setVerified(true)\r\n                \r\n            },(e) => {\r\n                console.warn(\"Unable to update account:\", e);\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    const onUpdatePW = () =>{\r\n        // console.log(formsPw)\r\n        if(active){\r\n            console.log(formPW)\r\n\r\n            User.updatePassword({\r\n                ...User.read(),\r\n                ...formPW,\r\n            }).promise.then((r) => {\r\n                console.info(\"✅ You have successfully updated password:\",r.info);\r\n                setMessage({\r\n                    text  : r.info,\r\n                    valid : true\r\n                })\r\n\r\n            },(e) => {\r\n                console.info(\"Unable to update password:\", e);\r\n                setMessage({\r\n                    text  : e,\r\n                    valid : false\r\n                })\r\n\r\n            });\r\n        }\r\n    }   \r\n\r\n    const onUpdateNo = () =>{\r\n        if(active){\r\n            const { phone , code  }  = forms\r\n            User.update({\r\n                ...forms,\r\n                ...User.read(),\r\n                phone,\r\n                verification_code: code,\r\n            }).promise.then((r) => {\r\n                  console.info(\"✅ You have successfully updated account phone number:\",r.info);\r\n                  setVerified(true)\r\n                  User.session({\r\n                    ...User.read(),\r\n                  }).promise.then((r) => setUserAuthFN(1, r.info));\r\n                  \r\n\r\n            },(e) => {\r\n                  console.warn(\"Unable to update account phone number:\", e);\r\n            });\r\n        }\r\n    }\r\n\r\n    const onVerifyCode = () =>{\r\n        if(type === 'phone'){\r\n            const { phone  }  = forms\r\n            const req = User.mobileVerification({\r\n                type: \"verification_code\",\r\n                phone,\r\n                ...User.read(),\r\n            });\r\n        \r\n            req.promise.then((r) => {\r\n                console.log(\"Verification sent!\");\r\n            },(e) => {\r\n                console.warn(\"Verification nto generated\", e);\r\n            });\r\n        }\r\n    }\r\n\r\n    const onUpdateDate = () =>{\r\n        if(type === 'birthday'){\r\n            User.update({\r\n                ...User.read(),\r\n                ...forms,\r\n                birthday: newDate\r\n            }).promise.then((r) => {\r\n                console.info(\"✅ You have successfully updated account\",r.info);\r\n                User.session({\r\n                    ...User.read(),\r\n                }).promise.then((r) => setUserAuthFN(1, r.info));\r\n    \r\n                setVerified(true)\r\n                \r\n            },(e) => {\r\n                console.warn(\"Unable to update account:\", e);\r\n            });\r\n        }\r\n    }\r\n\r\n    const onChange = (event) =>{\r\n        const { name , value } = event.target\r\n        setForms( e =>({\r\n            ...e,\r\n            [name] : value\r\n        }))\r\n    }\r\n\r\n    const onChangePW = (event) =>{\r\n        const { name , value } = event.target\r\n        setFormPW( e =>({\r\n            ...e,\r\n            [name] : value\r\n        }))\r\n    }\r\n\r\n    // console.log(active)\r\n\r\n\r\n    return  <div className={`pesonal-setting-desktop-wrap ${type ? 'show': ''}`}>\r\n                <div className=\"pesonal-arrow\" onClick={onHide}/>\r\n                <div className=\"profile-section section-box\">\r\n                    <div className=\"personal-form-wrap\">\r\n                        {/* --------------------- NAME ----------------------- */}\r\n                        {type === \"name\" && \r\n                        <div className=\"personal-form name\">\r\n                            <div className=\"personal-form-group\">\r\n                                <label>真实姓名</label>\r\n                                <input value={forms.realname} type=\"text\" name=\"realname\" placeholder=\"用于提现时安全核对\" onChange={onChange} maxLength={4} />\r\n                            </div>\r\n                            <div className={`personal-form-button ${active ? 'active' : ''}`}   onClick={onUpdate}  >提交</div>\r\n                        </div> }\r\n                        {/* --------------------- EMAIL ----------------------- */}\r\n                        {type === \"email\" && \r\n                        <div className=\"personal-form email\">\r\n                            <div className={`personal-form-group ${verified ? 'verified' : ''}`}>\r\n                                {verified && <i/>}\r\n                                <label>邮箱地址</label>\r\n                                <input value={forms.email} type=\"email\" name=\"email\" placeholder=\"请输入绑定的邮箱地址\"  onChange={onChange}  />\r\n                                \r\n                            </div>\r\n                            <div className={`personal-form-button ${active ? 'active' : ''}`}  onClick={onUpdate}  >提交</div>\r\n                        </div>\r\n                        }\r\n                        {/* --------------------- PASSWORD ----------------------- */}\r\n                        {type === \"password\" && \r\n                        <div className=\"personal-form password\">\r\n                            {message && <div className={`message ${message.valid ? 'valid': 'invalid'}`}>{message.text}</div>}\r\n                            <div className=\"personal-form-group\">\r\n                                <label>原密码</label>\r\n                                <input  type={vision.password ? 'text' : 'password'} name=\"password\" placeholder=\"原密码\" onChange={onChangePW}  />\r\n                                <i className={`eye ${vision.password ? 'vision' : ''}`} onClick={() => setVision( f => ({ ...f , password : !vision.password }))} />\r\n                            </div>\r\n                            <div className=\"personal-form-group\">\r\n                                <label>新密码</label>\r\n                                <input  type={vision.password_new ? 'text' : 'password'} name=\"password_new\" placeholder=\"新密码\" onChange={onChangePW}  />\r\n                                <i className={`eye ${vision.password_new ? 'vision' : ''}`} onClick={() => setVision( f => ({ ...f , password_new : !vision.password_new }))}/>\r\n                            </div>\r\n                            <div className=\"personal-form-group\">\r\n                                <label>验证新密码</label>\r\n                                <input type={vision.password_newok ? 'text' : 'password'} name=\"password_newok\" placeholder=\"验证新密码\" onChange={onChangePW}  />\r\n                                <i className={`eye ${vision.password_newok ? 'vision' : ''}`} onClick={() => setVision( f => ({ ...f , password_newok : !vision.password_newok }))}/>\r\n                            </div>\r\n                            <div className={`personal-form-button ${active ? 'active' : ''}`} onClick={onUpdatePW}  >提交</div>\r\n                        </div>\r\n                        }\r\n                        {/* --------------------- TELEPHONE ----------------------- */}\r\n                        {type === \"phone\" && \r\n                        <div className=\"personal-form phone\">\r\n                            <div className={`personal-form-group ${verified ? 'verified' : ''}`}>\r\n                                {verified && <i/>}\r\n                                <label>手机号码</label>\r\n                                <input value={forms.phone} type=\"number\" name=\"phone\" placeholder=\"请输入绑定的手机号码\"  onChange={onChange} />\r\n                            </div>\r\n                            <div className=\"personal-form-group left\">\r\n                                <input type=\"number\" name=\"code\" placeholder=\"请输入验证码\"  onChange={onChange} />\r\n                                <div className={`verify-button ${code ? 'code' : ''}`} onClick={onVerifyCode}>发送验证码</div>\r\n                            </div>\r\n                            <div className={`personal-form-button ${active ? 'active' : ''}`}  onClick={onUpdateNo}  >提交</div>\r\n                        </div>\r\n                        }\r\n                        {/* --------------------- BIRTHDAY ----------------------- */}\r\n                        {type === \"birthday\" && \r\n                        <div className=\"personal-form birthday\">\r\n                            <div className={`personal-form-group ${verified ? 'verified' : ''}`}>\r\n                                {verified && <i/>}\r\n                                <Calendar onDate={(event) => setNewDate(event)} />\r\n                            </div>\r\n                            <div className={`personal-form-button ${active ? 'active' : ''}`}   onClick={onUpdateDate}  >提交</div>\r\n                        </div> }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n    \r\n}\r\n\r\nexport default Settings"]},"metadata":{},"sourceType":"module"}