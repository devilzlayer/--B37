{"ast":null,"code":"import _defineProperty from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{map,find,head,size,filter}from\"lodash\";import Swal from\"sweetalert2\";import Picker from\"react-mobile-picker\";import{FormField,UITabs}from\"../../../../component\";import{User,Card as Service}from\"../../../../service\";import*as Geo from\"../../../../service/Geo\";import{UIAlertSA}from\"../../../component\";var banks=[\"中国工商银行\",\"中国建设银行\",\"中国银行\",\"中国农业银行\",\"中国邮政储蓄银行\",\"招商银行\",\"交通银行\"];var NewCard=function NewCard(props){var show=props.show,delCard=props.delCard,onHide=props.onHide,onNewAddCard=props.onNewAddCard;var _useState=useState(head(banks)),_useState2=_slicedToArray(_useState,2),tempBank=_useState2[0],setTempBank=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tempProv=_useState4[0],setTempProv=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),cardList=_useState6[0],setCardList=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),provList=_useState8[0],setProvList=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),delKey=_useState10[0],setDelKey=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),animate=_useState12[0],setAnimate=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),makeDefault=_useState14[0],setMakeDefault=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),bankPicker=_useState16[0],toggleBankPicker=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),cityPicker=_useState18[0],toggleCityPicker=_useState18[1];var _useContext=useContext(User.Context),userAuth=_useContext.userAuth;var _useState19=useState({bank_addr:null,bank_no:null}),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],setError=_useState20[1];var _useState21=useState({bank_type:\"中国工商银行\",bank_province:\"贵州\",bank_city:\"遵义市\",realname:userAuth.data.realName||\"\",bank_addr:\"\",bank_no:\"\"}),_useState22=_slicedToArray(_useState21,2),form=_useState22[0],setForm=_useState22[1];var fields=[{id:\"bank_type\",label:\"开户银行\",select:toggleBankPicker,placeholder:\"开户银行\"},{id:\"bank_province\",label:\"开户地区\",select:toggleCityPicker,value:function value(){return\"\".concat(form.bank_province,\" \").concat(form.bank_city);},placeholder:\"开户地区\",hidden:true},//COMMENT FOR NOW\n{id:\"bank_city\",label:\"开户支行\",hidden:true,select:false},{id:\"bank_addr\",label:\"开户支行\",select:false,placeholder:\"开户支行\"},{id:\"realname\",label:\"开户人姓名\",select:false,placeholder:\"开户人姓名\",displayOnly:userAuth.data.realName?true:false},{id:\"bank_no\",label:\"银行卡号\",select:false}];useEffect(function(){// console.log(show, delCard)\ndocument.body.classList.remove(\"no-scroll\");if(show||delCard){document.body.classList.add(\"no-scroll\");}},[show,delCard]);useEffect(function(){var res=Service.read(_objectSpread({},User.read()));res.promise.then(function(r){// console.log(r)\nsetCardList(r.info);},function(e){console.warn(\"Unable to get cards:\",e);});},[animate]);useEffect(function(){var newObj=[];map(Geo.provinces,function(obj,i){// console.log(obj)\nvar newCity=filter(Geo.cities,function(val){if(val.province===obj.title){newObj.push(_objectSpread(_objectSpread({},val),{},{chinese_province:obj.chinese_title}));}});});newObj=map(newObj,function(obj,id){return _objectSpread(_objectSpread({},obj),{},{id:id});});setProvList(newObj);var cur=find(newObj,function(obj){return obj.chinese_province===form.bank_province&&obj.chinese_title===form.bank_city;});setTempProv(cur.id);// console.log(cur)\n},[]);var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(function(f){return _objectSpread(_objectSpread({},f),{},_defineProperty({},name,value));});};var onSelect=function onSelect(e){var name=e.name,value=e.value;setForm(function(f){return _objectSpread(_objectSpread({},f),{},_defineProperty({},name,value));});};var submit=function submit(){// console.log(form)\n// props.onLoading();\n// onHide()\n// setAnimate(false)\nif(size(cardList)===5){Swal.fire({icon:\"error\",title:\"绑定的银行信息不能超过5条\"});return false;}if(!form.bank_no&&!form.bank_addr){if(!form.bank_no){setError(function(f){return _objectSpread(_objectSpread({},f),{},{bank_no:\"required\"});});}if(!form.bank_addr){setError(function(f){return _objectSpread(_objectSpread({},f),{},{bank_addr:\"required\"});});}return false;}Service.create(_objectSpread(_objectSpread({},User.read()),form)).promise.then(function(r){setForm(function(f){return _objectSpread(_objectSpread({},f),{},{bank_addr:\"\",bank_no:\"\"});});console.info(\"Successfully bound the card:\",r);onHide();setAnimate(false);onNewAddCard();},function(e){console.info(\"Unable to bind the card:\",e);});};var onDel=function onDel(i){setDelKey(null);if(delKey!=i)setDelKey(i);};var onCloseProv=function onCloseProv(){var cur=find(provList,function(obj){return obj.id===tempProv;});// console.log(cur)\nsetForm(function(f){return _objectSpread(_objectSpread({},f),{},{bank_province:cur.chinese_province,bank_city:cur.chinese_title});});toggleCityPicker(false);};if(show){setTimeout(function(){setAnimate(true);},100);}if(delCard){setTimeout(function(){setAnimate(true);},100);}// console.log(bankPicker , cityPicker)\n// console.log(tempProv)\n// console.log( size( Geo.provinces) , size( Geo.cities)  )\nvar delCount=0;var PickerWrap=function PickerWrap(_ref){var banks=_ref.banks;return/*#__PURE__*/React.createElement(\"div\",{className:\"picker-wrap\"},banks.length?/*#__PURE__*/React.createElement(Picker,{height:180,valueGroups:{bank:tempBank},optionGroups:{bank:banks},onChange:function onChange(key,value){return setTempBank(value);}}):null);};return/*#__PURE__*/React.createElement(\"div\",{className:\"withdrawal-new-card \".concat(show||delCard?\"show-new-card\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"withdrawal-new-card-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"withdrawal-new-card-content \".concat(show&&animate?\"animate\":\"\",\" \").concat(bankPicker?\"hide\":\"\")},!cityPicker?/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-fiels-main\"},/*#__PURE__*/React.createElement(\"span\",{className:\"w-n-c-arrow\",onClick:function onClick(){return[onHide(),setAnimate(false)];}}),/*#__PURE__*/React.createElement(\"h3\",null,\"\\u65B0\\u589E\\u94F6\\u884C\\u5361\"),/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-fiels\"},fields.filter(function(f){return!f.hidden;}).map(function(f,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"w-n-c-fiels-wrap\"},/*#__PURE__*/React.createElement(FormField,{key:i,field:{label:f.label,placeholder:f.placeholder,select:f.select,displayOnly:f.displayOnly,value:f.value,onClick:function onClick(){return f.select(true);}},input:{id:f.id,label:f.label,placeholder:f.placeholder,name:f.id,value:form[f.id],onChange:onChange,className:error[f.id]}}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-set-defaul-wrap\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\".concat(makeDefault?\"active\":\"not\")// onClick={()=> setMakeDefault(!makeDefault)}\n},\"\\u9ED8\\u8BA4\\u94F6\\u884C\\u5361\")),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return submit();}},\"\\u65B0\\u589E\\u94F6\\u884C\\u5361\")):/*#__PURE__*/ // ======================= PROVINCES\nReact.createElement(\"div\",{className:\"w-n-c-fiels-prov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"w-n-c-arrow\",onClick:function onClick(){return onCloseProv();}}),/*#__PURE__*/React.createElement(\"h3\",null,\"\\u7701\\u4EFD\"),/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-p-fields\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-p-fields-content\"},provList&&map(provList,function(obj,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"w-n-c-p-fields-item\",onClick:function onClick(){return setTempProv(obj.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-p-fields-body\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\".concat(tempProv===obj.id?\"active\":\"not\")},obj.chinese_province,\" \",obj.chinese_title,\" \")));}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"withdrawal-new-card-content \".concat(delCard&&animate?\"animate\":\"\")},/*#__PURE__*/React.createElement(\"span\",{className:\"w-n-c-arrow\",onClick:function onClick(){return[onHide(),setAnimate(false),setDelKey(null)];}}),/*#__PURE__*/React.createElement(\"h3\",null,\"\\u5220\\u9664\\u5361\"),/*#__PURE__*/React.createElement(\"div\",{className:\"w-n-c-del-wrap\"},cardList&&map(cardList,function(obj,i){// console.log(obj)\ndelCount++;if(delCount===5)delCount=1;return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"del-wrap-content del-bg\".concat(delCount)},/*#__PURE__*/React.createElement(\"div\",{className:\"de-wrap-body\"},/*#__PURE__*/React.createElement(\"span\",{className:\"del-icon\",onClick:function onClick(){return onDel(i);}},/*#__PURE__*/React.createElement(\"i\",null),delKey===i&&/*#__PURE__*/React.createElement(\"span\",null,\"\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\")),/*#__PURE__*/React.createElement(\"span\",{className:\"del-bank-icon \".concat(obj.bank_type)}),/*#__PURE__*/React.createElement(\"h3\",null,obj.bank_type),/*#__PURE__*/React.createElement(\"h4\",null,\"\\u94F6\\u884C\\u5361\\u53F7\"),/*#__PURE__*/React.createElement(\"div\",{className:\"del-bank-number\"},/*#__PURE__*/React.createElement(\"span\",{className:\"del-sp\"},\"**** **** ****\"),/*#__PURE__*/React.createElement(\"span\",{className:\"del-st\"},obj.bank_no.substr(obj.bank_no.length-4)))));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"withdrawal-new-card-overlay\"}),/*#__PURE__*/React.createElement(UIAlertSA,{onClose:function onClose(){return null;},shown:bankPicker},/*#__PURE__*/React.createElement(\"div\",{className:\"game-sa-overlay picker-over\"},/*#__PURE__*/React.createElement(\"div\",{className:\"picker-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"picker-head\"},/*#__PURE__*/React.createElement(\"p\",null,\"\\u9009\\u62E9\\u5F00\\u6237\\u94F6\\u884C\")),/*#__PURE__*/React.createElement(PickerWrap,{banks:banks})),/*#__PURE__*/React.createElement(\"div\",{className:\"picker-footer\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return toggleBankPicker(false);}},\"\\u53D6\\u6D88\"),/*#__PURE__*/React.createElement(\"button\",{className:\"active\",onClick:function onClick(){return[onSelect({name:\"bank_type\",value:tempBank}),toggleBankPicker(false)];}},\"\\u786E\\u5B9A\")))));};export default NewCard;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/view/profile/withdrawal/newCard.js"],"names":["React","useEffect","useState","useContext","map","find","head","size","filter","Swal","Picker","FormField","UITabs","User","Card","Service","Geo","UIAlertSA","banks","NewCard","props","show","delCard","onHide","onNewAddCard","tempBank","setTempBank","tempProv","setTempProv","cardList","setCardList","provList","setProvList","delKey","setDelKey","animate","setAnimate","makeDefault","setMakeDefault","bankPicker","toggleBankPicker","cityPicker","toggleCityPicker","Context","userAuth","bank_addr","bank_no","error","setError","bank_type","bank_province","bank_city","realname","data","realName","form","setForm","fields","id","label","select","placeholder","value","hidden","displayOnly","document","body","classList","remove","add","res","read","promise","then","r","info","e","console","warn","newObj","provinces","obj","i","newCity","cities","val","province","title","push","chinese_province","chinese_title","cur","onChange","target","name","f","onSelect","submit","fire","icon","create","onDel","onCloseProv","setTimeout","delCount","PickerWrap","length","bank","key","onClick","className","substr"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { map, find, head, size, filter } from \"lodash\";\r\nimport Swal from \"sweetalert2\";\r\nimport Picker from \"react-mobile-picker\";\r\n\r\nimport { FormField, UITabs } from \"../../../../component\";\r\nimport { User, Card as Service } from \"../../../../service\";\r\nimport * as Geo from \"../../../../service/Geo\";\r\nimport { UIAlertSA } from \"../../../component\";\r\n\r\nconst banks = [\r\n  \"中国工商银行\",\r\n  \"中国建设银行\",\r\n  \"中国银行\",\r\n  \"中国农业银行\",\r\n  \"中国邮政储蓄银行\",\r\n  \"招商银行\",\r\n  \"交通银行\",\r\n];\r\n\r\nconst NewCard = (props) => {\r\n  const { show, delCard, onHide, onNewAddCard } = props;\r\n\r\n  const [tempBank, setTempBank] = useState(head(banks));\r\n  const [tempProv, setTempProv] = useState(null);\r\n  const [cardList, setCardList] = useState(null);\r\n  const [provList, setProvList] = useState(null);\r\n  const [delKey, setDelKey] = useState(null);\r\n\r\n  const [animate, setAnimate] = useState(false);\r\n  const [makeDefault, setMakeDefault] = useState(true);\r\n  const [bankPicker, toggleBankPicker] = useState(false);\r\n  const [cityPicker, toggleCityPicker] = useState(false);\r\n\r\n  const { userAuth } = useContext(User.Context);\r\n\r\n  const [error, setError] = useState({\r\n    bank_addr: null,\r\n    bank_no: null,\r\n  });\r\n\r\n  const [form, setForm] = useState({\r\n    bank_type: \"中国工商银行\",\r\n    bank_province: \"贵州\",\r\n    bank_city: \"遵义市\",\r\n    realname: userAuth.data.realName || \"\",\r\n    bank_addr: \"\",\r\n    bank_no: \"\",\r\n  });\r\n\r\n  const fields = [\r\n    {\r\n      id: \"bank_type\",\r\n      label: \"开户银行\",\r\n      select: toggleBankPicker,\r\n      placeholder: \"开户银行\",\r\n    },\r\n    {\r\n      id: \"bank_province\",\r\n      label: \"开户地区\",\r\n      select: toggleCityPicker,\r\n      value: () => `${form.bank_province} ${form.bank_city}`,\r\n      placeholder: \"开户地区\",\r\n      hidden: true,\r\n    }, //COMMENT FOR NOW\r\n    { id: \"bank_city\", label: \"开户支行\", hidden: true, select: false },\r\n    {\r\n      id: \"bank_addr\",\r\n      label: \"开户支行\",\r\n      select: false,\r\n      placeholder: \"开户支行\",\r\n    },\r\n    {\r\n      id: \"realname\",\r\n      label: \"开户人姓名\",\r\n      select: false,\r\n      placeholder: \"开户人姓名\",\r\n      displayOnly: userAuth.data.realName ? true : false,\r\n    },\r\n    { id: \"bank_no\", label: \"银行卡号\", select: false },\r\n  ];\r\n\r\n  useEffect(() => {\r\n      // console.log(show, delCard)\r\n      document.body.classList.remove(\"no-scroll\");\r\n      if(show || delCard){\r\n        document.body.classList.add(\"no-scroll\");\r\n      }\r\n    \r\n\r\n\r\n  },[show, delCard])\r\n\r\n  useEffect(() => {\r\n    const res = Service.read({\r\n      ...User.read(),\r\n    });\r\n\r\n    res.promise.then(\r\n      (r) => {\r\n        // console.log(r)\r\n        setCardList(r.info);\r\n      },\r\n      (e) => {\r\n        console.warn(\"Unable to get cards:\", e);\r\n      }\r\n    );\r\n  }, [animate]);\r\n\r\n  useEffect(() => {\r\n    let newObj = [];\r\n    map(Geo.provinces, (obj, i) => {\r\n      // console.log(obj)\r\n      let newCity = filter(Geo.cities, (val) => {\r\n        if (val.province === obj.title) {\r\n          newObj.push({\r\n            ...val,\r\n            chinese_province: obj.chinese_title,\r\n          });\r\n        }\r\n      });\r\n    });\r\n    newObj = map(newObj, (obj, id) => {\r\n      return { ...obj, id: id };\r\n    });\r\n\r\n    setProvList(newObj);\r\n\r\n    let cur = find(\r\n      newObj,\r\n      (obj) =>\r\n        obj.chinese_province === form.bank_province &&\r\n        obj.chinese_title === form.bank_city\r\n    );\r\n\r\n    setTempProv(cur.id);\r\n    // console.log(cur)\r\n  }, []);\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setForm((f) => ({\r\n      ...f,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const onSelect = (e) => {\r\n    const { name, value } = e;\r\n\r\n    setForm((f) => ({\r\n      ...f,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const submit = () => {\r\n    // console.log(form)\r\n    // props.onLoading();\r\n    // onHide()\r\n    // setAnimate(false)\r\n    if (size(cardList) === 5) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"绑定的银行信息不能超过5条\",\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (!form.bank_no && !form.bank_addr) {\r\n      if (!form.bank_no) {\r\n        setError((f) => ({\r\n          ...f,\r\n          bank_no: \"required\",\r\n        }));\r\n      }\r\n      if (!form.bank_addr) {\r\n        setError((f) => ({\r\n          ...f,\r\n          bank_addr: \"required\",\r\n        }));\r\n      }\r\n      return false;\r\n    }\r\n\r\n    Service.create({\r\n      ...User.read(),\r\n      ...form,\r\n    }).promise.then(\r\n      (r) => {\r\n        setForm((f) => ({\r\n          ...f,\r\n          bank_addr: \"\",\r\n          bank_no: \"\",\r\n        }));\r\n\r\n        console.info(\"Successfully bound the card:\", r);\r\n        onHide();\r\n        setAnimate(false);\r\n        onNewAddCard();\r\n      },\r\n      (e) => {\r\n        console.info(\"Unable to bind the card:\", e);\r\n      }\r\n    );\r\n  };\r\n\r\n  const onDel = (i) => {\r\n    setDelKey(null);\r\n    if (delKey != i) setDelKey(i);\r\n  };\r\n\r\n  const onCloseProv = () => {\r\n    let cur = find(provList, (obj) => obj.id === tempProv);\r\n    // console.log(cur)\r\n    setForm((f) => ({\r\n      ...f,\r\n      bank_province: cur.chinese_province,\r\n      bank_city: cur.chinese_title,\r\n    }));\r\n    toggleCityPicker(false);\r\n  };\r\n\r\n  if (show) {\r\n    setTimeout(() => {\r\n      setAnimate(true);\r\n    }, 100);\r\n  }\r\n\r\n  if (delCard) {\r\n    setTimeout(() => {\r\n      setAnimate(true);\r\n    }, 100);\r\n  }\r\n  // console.log(bankPicker , cityPicker)\r\n  // console.log(tempProv)\r\n  // console.log( size( Geo.provinces) , size( Geo.cities)  )\r\n  let delCount = 0;\r\n\r\n  const PickerWrap = ({ banks }) => (\r\n    <div className=\"picker-wrap\">\r\n      {banks.length ? (\r\n        <Picker\r\n          height={180}\r\n          valueGroups={{ bank: tempBank }}\r\n          optionGroups={{ bank: banks }}\r\n          onChange={(key, value) => setTempBank(value)}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`withdrawal-new-card ${\r\n        show || delCard ? \"show-new-card\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"withdrawal-new-card-wrap\">\r\n        <div className={`withdrawal-new-card-content ${ show && animate ? \"animate\" : \"\" } ${bankPicker ? \"hide\" : \"\"}`} >\r\n          {!cityPicker ? (\r\n            <div className=\"w-n-c-fiels-main\">\r\n              <span\r\n                className=\"w-n-c-arrow\"\r\n                onClick={() => [onHide(), setAnimate(false)]}\r\n              />\r\n              <h3>新增银行卡</h3>\r\n              <div className=\"w-n-c-fiels\">\r\n                {fields\r\n                  .filter((f) => !f.hidden)\r\n                  .map((f, i) => (\r\n                    <div key={i} className=\"w-n-c-fiels-wrap\">\r\n                      <FormField\r\n                        key={i}\r\n                        field={{\r\n                          label: f.label,\r\n                          placeholder: f.placeholder,\r\n                          select: f.select,\r\n                          displayOnly: f.displayOnly,\r\n                          value: f.value,\r\n                          onClick: () => f.select(true),\r\n                        }}\r\n                        input={{\r\n                          id: f.id,\r\n                          label: f.label,\r\n                          placeholder: f.placeholder,\r\n                          name: f.id,\r\n                          value: form[f.id],\r\n                          onChange,\r\n                          className: error[f.id],\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n\r\n              <div className=\"w-n-c-set-defaul-wrap\">\r\n                <span className={`${makeDefault ? \"active\" : \"not\"}`}\r\n                  // onClick={()=> setMakeDefault(!makeDefault)}\r\n                >\r\n                  默认银行卡\r\n                </span>\r\n              </div>\r\n\r\n              <button onClick={() => submit()}>新增银行卡</button>\r\n            </div>\r\n          ) : (\r\n            // ======================= PROVINCES\r\n            <div className=\"w-n-c-fiels-prov\">\r\n              <span className=\"w-n-c-arrow\" onClick={() => onCloseProv()} />\r\n              <h3>省份</h3>\r\n\r\n              <div className=\"w-n-c-p-fields\">\r\n                <div className=\"w-n-c-p-fields-content\">\r\n                  {provList &&\r\n                    map(provList, (obj, i) => {\r\n                      return (\r\n                        <div\r\n                          key={i}\r\n                          className={`w-n-c-p-fields-item`}\r\n                          onClick={() => setTempProv(obj.id)}\r\n                        >\r\n                          <div className=\"w-n-c-p-fields-body\">\r\n                            <span\r\n                              className={`${\r\n                                tempProv === obj.id ? \"active\" : \"not\"\r\n                              }`}\r\n                            >\r\n                              {obj.chinese_province} {obj.chinese_title}{\" \"}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* =============== DELETE BANK */}\r\n        <div className={`withdrawal-new-card-content ${ delCard && animate ? \"animate\" : \"\" }`} >\r\n          <span\r\n            className=\"w-n-c-arrow\"\r\n            onClick={() => [onHide(), setAnimate(false), setDelKey(null)]}\r\n          />\r\n          <h3>删除卡</h3>\r\n\r\n          <div className=\"w-n-c-del-wrap\">\r\n            {cardList &&\r\n              map(cardList, (obj, i) => {\r\n                // console.log(obj)\r\n                delCount++;\r\n                if (delCount === 5) delCount = 1;\r\n\r\n                return (\r\n                  <div key={i} className={`del-wrap-content del-bg${delCount}`}>\r\n                    <div className=\"de-wrap-body\">\r\n                      <span className={`del-icon`} onClick={() => onDel(i)}>\r\n                        <i />\r\n                        {delKey === i && <span>请联系客服</span>}\r\n                      </span>\r\n                      <span className={`del-bank-icon ${obj.bank_type}`} />\r\n                      <h3>{obj.bank_type}</h3>\r\n                      <h4>银行卡号</h4>\r\n                      <div className=\"del-bank-number\">\r\n                        <span className=\"del-sp\">**** **** ****</span>\r\n                        <span className=\"del-st\">\r\n                          {obj.bank_no.substr(obj.bank_no.length - 4)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n        {/* =============== SELECT BANK */}\r\n      </div>\r\n      <div className=\"withdrawal-new-card-overlay\" />\r\n      <UIAlertSA onClose={() => null} shown={bankPicker}>\r\n        <div className={`game-sa-overlay picker-over`}>\r\n          <div className=\"picker-container\">\r\n            <div className=\"picker-head\">\r\n              <p>选择开户银行</p>\r\n            </div>\r\n            <PickerWrap banks={banks} />\r\n          </div>\r\n          <div className=\"picker-footer\">\r\n            <button onClick={() => toggleBankPicker(false)}>取消</button>\r\n            <button\r\n              className=\"active\"\r\n              onClick={() => [\r\n                onSelect({ name: \"bank_type\", value: tempBank }),\r\n                toggleBankPicker(false),\r\n              ]}\r\n            >\r\n              确定\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </UIAlertSA>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewCard;\r\n"]},"metadata":{},"sourceType":"module"}