{"ast":null,"code":"import _slicedToArray from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import cx from\"classnames\";import{Wrap}from\"../\";import{Service}from\"../\";import\"../../../assets/scss/profile/ComissionReport.scss\";var ComissionReport=function ComissionReport(){var _useState=useState({status:0,list:[]}),_useState2=_slicedToArray(_useState,2),reports=_useState2[0],setReports=_useState2[1];useEffect(function(){var req=Service.Agency.report({ty:\"1\"});req.promise.then(function(r){console.info(r);setReports({status:1,list:r.info.map(function(r){return r;})});},function(e){if(!e.is_aborted){console.warn(e);}});return function(){return req.cancel();};},[]);return/*#__PURE__*/React.createElement(Wrap,{name:\"\\u4F63\\u91D1\\u62A5\\u544A\",className:\"comission-report\",isLoading:!reports.status},/*#__PURE__*/React.createElement(\"div\",{className:\"card-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},/*#__PURE__*/React.createElement(\"span\",{className:\"active\"},\"\\u540D\\u79F0\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u4EE3\\u7406\\u5546\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u91CF\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u65F6\\u95F4\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},reports.list&&reports.list.length>0?reports.list.map(function(report,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"card-item\"},/*#__PURE__*/React.createElement(\"span\",null,report.agent_name),/*#__PURE__*/React.createElement(\"span\",null,report.real_name),/*#__PURE__*/React.createElement(\"span\",null,report.amount),/*#__PURE__*/React.createElement(\"span\",null,report.verify_time));}):/*#__PURE__*/React.createElement(\"div\",{className:\"no-transactions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-box\"}),/*#__PURE__*/React.createElement(\"span\",null,\"\\u6682\\u65E0\\u8BB0\\u5F55\"))));};export default ComissionReport;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/view/profile/agency/ComissionReport.js"],"names":["React","useState","useEffect","cx","Wrap","Service","ComissionReport","status","list","reports","setReports","req","Agency","report","ty","promise","then","r","console","info","map","e","is_aborted","warn","cancel","length","i","agent_name","real_name","amount","verify_time"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CAEA,OAASC,IAAT,KAAqB,KAArB,CACA,OAASC,OAAT,KAAwB,KAAxB,CAEA,MAAO,mDAAP,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,eACEL,QAAQ,CAAC,CACrCM,MAAM,CAAE,CAD6B,CAErCC,IAAI,CAAE,EAF+B,CAAD,CADV,wCACrBC,OADqB,eACZC,UADY,eAM5BR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,GAAG,CAAGN,OAAO,CAACO,MAAR,CAAeC,MAAf,CAAsB,CAChCC,EAAE,CAAE,GAD4B,CAAtB,CAAZ,CAIAH,GAAG,CAACI,OAAJ,CAAYC,IAAZ,CACE,SAACC,CAAD,CAAO,CACLC,OAAO,CAACC,IAAR,CAAaF,CAAb,EAEAP,UAAU,CAAC,CACTH,MAAM,CAAE,CADC,CAETC,IAAI,CAAES,CAAC,CAACE,IAAF,CAAOC,GAAP,CAAW,SAACH,CAAD,QAAOA,CAAAA,CAAP,EAAX,CAFG,CAAD,CAAV,CAID,CARH,CASE,SAACI,CAAD,CAAO,CACL,GAAI,CAACA,CAAC,CAACC,UAAP,CAAmB,CACjBJ,OAAO,CAACK,IAAR,CAAaF,CAAb,EACD,CACF,CAbH,EAgBA,MAAO,kBAAMV,CAAAA,GAAG,CAACa,MAAJ,EAAN,EAAP,CACD,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,mBACE,oBAAC,IAAD,EACE,IAAI,CAAC,0BADP,CAEE,SAAS,CAAC,kBAFZ,CAGE,SAAS,CAAE,CAACf,OAAO,CAACF,MAHtB,eAKE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,4BAAM,SAAS,CAAC,QAAhB,iBADF,cAEE,qDAFF,cAGE,yCAHF,cAIE,+CAJF,CADF,CALF,cAaE,2BAAK,SAAS,CAAC,WAAf,EACGE,OAAO,CAACD,IAAR,EAAgBC,OAAO,CAACD,IAAR,CAAaiB,MAAb,CAAsB,CAAtC,CACChB,OAAO,CAACD,IAAR,CAAaY,GAAb,CAAiB,SAACP,MAAD,CAASa,CAAT,qBACf,2BAAK,GAAG,CAAEA,CAAV,CAAa,SAAS,CAAC,WAAvB,eACE,gCAAOb,MAAM,CAACc,UAAd,CADF,cAEE,gCAAOd,MAAM,CAACe,SAAd,CAFF,cAGE,gCAAOf,MAAM,CAACgB,MAAd,CAHF,cAIE,gCAAOhB,MAAM,CAACiB,WAAd,CAJF,CADe,EAAjB,CADD,cAUC,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EADF,cAEE,2DAFF,CAXJ,CAbF,CADF,CAiCD,CA/DD,CAiEA,cAAexB,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport cx from \"classnames\";\r\n\r\nimport { Wrap } from \"../\";\r\nimport { Service } from \"../\";\r\n\r\nimport \"../../../assets/scss/profile/ComissionReport.scss\";\r\n\r\nconst ComissionReport = () => {\r\n  const [reports, setReports] = useState({\r\n    status: 0,\r\n    list: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const req = Service.Agency.report({\r\n      ty: \"1\",\r\n    });\r\n\r\n    req.promise.then(\r\n      (r) => {\r\n        console.info(r);\r\n\r\n        setReports({\r\n          status: 1,\r\n          list: r.info.map((r) => r),\r\n        });\r\n      },\r\n      (e) => {\r\n        if (!e.is_aborted) {\r\n          console.warn(e);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => req.cancel();\r\n  }, []);\r\n\r\n  return (\r\n    <Wrap\r\n      name=\"佣金报告\"\r\n      className=\"comission-report\"\r\n      isLoading={!reports.status}\r\n    >\r\n      <div className=\"card-head\">\r\n        <div className=\"card-title\">\r\n          <span className=\"active\">名称</span>\r\n          <span>代理商</span>\r\n          <span>量</span>\r\n          <span>时间</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {reports.list && reports.list.length > 0 ? (\r\n          reports.list.map((report, i) => (\r\n            <div key={i} className=\"card-item\">\r\n              <span>{report.agent_name}</span>\r\n              <span>{report.real_name}</span>\r\n              <span>{report.amount}</span>\r\n              <span>{report.verify_time}</span>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"no-transactions\">\r\n            <div className=\"image-box\" />\r\n            <span>暂无记录</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default ComissionReport;\r\n"]},"metadata":{},"sourceType":"module"}