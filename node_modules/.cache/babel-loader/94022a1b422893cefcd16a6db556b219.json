{"ast":null,"code":"import _slicedToArray from\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import cx from\"classnames\";import QRCode from\"react-qr-code\";import Wrap from\"../Wrap\";import{Service}from\"../\";import{withAuth}from\"../../../util\";import\"../../../assets/scss/profile/agency/QR.scss\";var QR=function QR(){var _useState=useState({status:0,link:\"\"}),_useState2=_slicedToArray(_useState,2),qr=_useState2[0],setQr=_useState2[1];useEffect(function(){var req=Service.Agency.qr();req.promise.then(function(r){console.log(r);setQr({status:1,link:r.info});},function(e){if(!e.is_abort){console.warn(e);}});return function(){return req.cancel();};},[]);return/*#__PURE__*/React.createElement(Wrap,{title:\"\\u4EE3\\u7406\\u63A8\\u5E7F\",className:\"qr-desktop\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-section section-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"qr-inner\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\\u6211\\u7684\\u63A8\\u5E7F\\u94FE\\u63A5\"),/*#__PURE__*/React.createElement(\"div\",{className:cx(\"qr-wrap\",\"with-loader\",{loading:!qr.status})},/*#__PURE__*/React.createElement(\"div\",{className:\"load-spin\"}),qr.link?/*#__PURE__*/React.createElement(QRCode,{value:qr.link,size:185}):null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u6211\\u7684\\u63A8\\u5E7F\\u4E8C\\u7EF4\\u7801\"))));};export default withAuth(QR,1);","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/view/profile/agency/QR.js"],"names":["React","useState","useEffect","cx","QRCode","Wrap","Service","withAuth","QR","status","link","qr","setQr","req","Agency","promise","then","r","console","log","info","e","is_abort","warn","cancel","loading"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,OAASC,OAAT,KAAwB,KAAxB,CACA,OAASC,QAAT,KAAyB,eAAzB,CAEA,MAAO,6CAAP,CAEA,GAAMC,CAAAA,EAAE,CAAG,QAALA,CAAAA,EAAK,EAAM,eACKP,QAAQ,CAAC,CAC3BQ,MAAM,CAAE,CADmB,CAE3BC,IAAI,CAAE,EAFqB,CAAD,CADb,wCACRC,EADQ,eACJC,KADI,eAMfV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,GAAG,CAAGP,OAAO,CAACQ,MAAR,CAAeH,EAAf,EAAZ,CAEAE,GAAG,CAACE,OAAJ,CAAYC,IAAZ,CAAiB,SAACC,CAAD,CAAO,CACtBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACEL,KAAK,CAAC,CACJH,MAAM,CAAE,CADJ,CAEJC,IAAI,CAAEO,CAAC,CAACG,IAFJ,CAAD,CAAL,CAIH,CAND,CAME,SAACC,CAAD,CAAO,CACL,GAAI,CAACA,CAAC,CAACC,QAAP,CAAiB,CACfJ,OAAO,CAACK,IAAR,CAAaF,CAAb,EACD,CACJ,CAVD,EAYA,MAAO,kBAAMR,CAAAA,GAAG,CAACW,MAAJ,EAAN,EAAP,CACD,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACE,oBAAC,IAAD,EAAM,KAAK,CAAC,0BAAZ,CAAmB,SAAS,CAAC,YAA7B,eACE,2BAAK,SAAS,CAAC,6BAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,qEADF,cAEE,2BACE,SAAS,CAAErB,EAAE,CAAC,SAAD,CAAY,aAAZ,CAA2B,CAAEsB,OAAO,CAAE,CAACd,EAAE,CAACF,MAAf,CAA3B,CADf,eAGE,2BAAK,SAAS,CAAC,WAAf,EAHF,CAIGE,EAAE,CAACD,IAAH,cAAU,oBAAC,MAAD,EAAQ,KAAK,CAAEC,EAAE,CAACD,IAAlB,CAAwB,IAAI,CAAE,GAA9B,EAAV,CAAkD,IAJrD,CAFF,cAQE,0EARF,CADF,CADF,CADF,CAgBD,CAxCD,CA0CA,cAAeH,CAAAA,QAAQ,CAACC,EAAD,CAAK,CAAL,CAAvB","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport cx from \"classnames\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport Wrap from \"../Wrap\";\r\nimport { Service } from \"../\";\r\nimport { withAuth } from \"../../../util\";\r\n\r\nimport \"../../../assets/scss/profile/agency/QR.scss\";\r\n\r\nconst QR = () => {\r\n  const [qr, setQr] = useState({\r\n    status: 0,\r\n    link: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const req = Service.Agency.qr();\r\n\r\n    req.promise.then((r) => {\r\n      console.log(r)\r\n        setQr({\r\n          status: 1,\r\n          link: r.info,\r\n        });\r\n    },(e) => {\r\n        if (!e.is_abort) {\r\n          console.warn(e);\r\n        }\r\n    });\r\n\r\n    return () => req.cancel();\r\n  }, []);\r\n\r\n  return (\r\n    <Wrap title=\"代理推广\" className=\"qr-desktop\">\r\n      <div className=\"profile-section section-box\">\r\n        <div className=\"qr-inner\">\r\n          <h1>我的推广链接</h1>\r\n          <div\r\n            className={cx(\"qr-wrap\", \"with-loader\", { loading: !qr.status })}\r\n          >\r\n            <div className=\"load-spin\"></div>\r\n            {qr.link ? <QRCode value={qr.link} size={185} /> : null}\r\n          </div>\r\n          <p>我的推广二维码</p>\r\n        </div>\r\n      </div>\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default withAuth(QR, 1);\r\n"]},"metadata":{},"sourceType":"module"}