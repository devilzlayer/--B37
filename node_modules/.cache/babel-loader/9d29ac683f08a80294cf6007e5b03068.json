{"ast":null,"code":"import _slicedToArray from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import cx from\"classnames\";import QRCode from\"react-qr-code\";import{Wrap}from\"../\";import{Service}from\"../\";import{withAuth}from\"../../../util\";import\"../../../assets/scss/profile/QR.scss\";var QR=function QR(){var _useState=useState({status:0,link:\"\"}),_useState2=_slicedToArray(_useState,2),qr=_useState2[0],setQr=_useState2[1];useEffect(function(){var req=Service.Agency.qr();req.promise.then(function(r){setQr({status:1,link:r.info});},function(e){if(!e.is_abort){console.warn(e);}});return function(){return req.cancel();};},[]);return/*#__PURE__*/React.createElement(Wrap,{name:\"\\u4EE3\\u7406\\u63A8\\u5E7F\",className:\"qr\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\\u6211\\u7684\\u63A8\\u5E7F\\u94FE\\u63A5\"),/*#__PURE__*/React.createElement(\"div\",{className:cx(\"qr-wrap\",\"with-loader\",{loading:!qr.status})},/*#__PURE__*/React.createElement(\"div\",{className:\"load-spin\"}),qr.link?/*#__PURE__*/React.createElement(QRCode,{value:qr.link,size:185}):null),/*#__PURE__*/React.createElement(\"p\",null,\"\\u6211\\u7684\\u63A8\\u5E7F\\u4E8C\\u7EF4\\u7801\"));};export default withAuth(QR,1);","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/view/profile/agency/QR.js"],"names":["React","useState","useEffect","cx","QRCode","Wrap","Service","withAuth","QR","status","link","qr","setQr","req","Agency","promise","then","r","info","e","is_abort","console","warn","cancel","loading"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CAEA,OAASC,IAAT,KAAqB,KAArB,CACA,OAASC,OAAT,KAAwB,KAAxB,CACA,OAASC,QAAT,KAAyB,eAAzB,CAEA,MAAO,sCAAP,CAEA,GAAMC,CAAAA,EAAE,CAAG,QAALA,CAAAA,EAAK,EAAM,eACKP,QAAQ,CAAC,CAC3BQ,MAAM,CAAE,CADmB,CAE3BC,IAAI,CAAE,EAFqB,CAAD,CADb,wCACRC,EADQ,eACJC,KADI,eAMfV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,GAAG,CAAGP,OAAO,CAACQ,MAAR,CAAeH,EAAf,EAAZ,CAEAE,GAAG,CAACE,OAAJ,CAAYC,IAAZ,CACE,SAACC,CAAD,CAAO,CACLL,KAAK,CAAC,CACJH,MAAM,CAAE,CADJ,CAEJC,IAAI,CAAEO,CAAC,CAACC,IAFJ,CAAD,CAAL,CAID,CANH,CAOE,SAACC,CAAD,CAAO,CACL,GAAI,CAACA,CAAC,CAACC,QAAP,CAAiB,CACfC,OAAO,CAACC,IAAR,CAAaH,CAAb,EACD,CACF,CAXH,EAcA,MAAO,kBAAMN,CAAAA,GAAG,CAACU,MAAJ,EAAN,EAAP,CACD,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACE,oBAAC,IAAD,EAAM,IAAI,CAAC,0BAAX,CAAkB,SAAS,CAAC,IAA5B,eACE,qEADF,cAEE,2BAAK,SAAS,CAAEpB,EAAE,CAAC,SAAD,CAAY,aAAZ,CAA2B,CAAEqB,OAAO,CAAE,CAACb,EAAE,CAACF,MAAf,CAA3B,CAAlB,eACE,2BAAK,SAAS,CAAC,WAAf,EADF,CAEGE,EAAE,CAACD,IAAH,cAAU,oBAAC,MAAD,EAAQ,KAAK,CAAEC,EAAE,CAACD,IAAlB,CAAwB,IAAI,CAAE,GAA9B,EAAV,CAAkD,IAFrD,CAFF,cAME,0EANF,CADF,CAUD,CApCD,CAsCA,cAAeH,CAAAA,QAAQ,CAACC,EAAD,CAAK,CAAL,CAAvB","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport cx from \"classnames\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport { Wrap } from \"../\";\r\nimport { Service } from \"../\";\r\nimport { withAuth } from \"../../../util\";\r\n\r\nimport \"../../../assets/scss/profile/QR.scss\";\r\n\r\nconst QR = () => {\r\n  const [qr, setQr] = useState({\r\n    status: 0,\r\n    link: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const req = Service.Agency.qr();\r\n\r\n    req.promise.then(\r\n      (r) => {\r\n        setQr({\r\n          status: 1,\r\n          link: r.info,\r\n        });\r\n      },\r\n      (e) => {\r\n        if (!e.is_abort) {\r\n          console.warn(e);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => req.cancel();\r\n  }, []);\r\n\r\n  return (\r\n    <Wrap name=\"代理推广\" className=\"qr\">\r\n      <h1>我的推广链接</h1>\r\n      <div className={cx(\"qr-wrap\", \"with-loader\", { loading: !qr.status })}>\r\n        <div className=\"load-spin\"></div>\r\n        {qr.link ? <QRCode value={qr.link} size={185} /> : null}\r\n      </div>\r\n      <p>我的推广二维码</p>\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default withAuth(QR, 1);\r\n"]},"metadata":{},"sourceType":"module"}