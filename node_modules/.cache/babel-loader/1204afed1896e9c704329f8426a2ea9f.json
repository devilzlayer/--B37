{"ast":null,"code":"import qs from\"query-string\";var baseURL=\"https://u2daszapp.u2d8899.com/\";// const baseURL = 'https://sghsrthth9i9.u2d12345.com/';\nfunction request(method,path,data){var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var is_aborted=false;var controller=new AbortController();var promise=new Promise(function(resolve,reject){var url=\"\".concat(baseURL).concat(path);var req={method:method,headers:{},signal:controller.signal};if(data&&Object.keys(data).length&&method===\"get\"){url+=\"?\".concat(qs.stringify(data));}if(data&&Object.keys(data).length&&method===\"post\"){// req.body = JSON.stringify(data);\n// req.headers['Content-Type'] = 'application/json; charset=utf-8';\nif(data.type===\"upload_pictures\"){req.body=data.body;}else{req.body=qs.stringify(data);req.headers[\"Content-Type\"]=\"application/x-www-form-urlencoded; charset=utf-8\";}}fetch(url,req).then(function(r){r.json().then(function(r){if(+r.status!==1){return void(params.fail?params.fail(r.info,reject,resolve):reject(r.info||r.message));}params.done?params.done(r,resolve,reject):resolve(r);},function(e){var error={is_aborted:is_aborted,level:1,e:e};params.fail?params.fail(error,reject):reject(error);});},function(e){var error={is_aborted:is_aborted,level:0,e:e};params.fail?params.fail(error,reject):reject(error);});});return{promise:promise,cancel:function cancel(){is_aborted=true;controller.abort();}};}export default{request:request,get:function get(path,data,params){return request(\"get\",path,data,params);},post:function post(path,data,params){return request(\"post\",path,data,params);}};","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/service/api.js"],"names":["qs","baseURL","request","method","path","data","params","is_aborted","controller","AbortController","promise","Promise","resolve","reject","url","req","headers","signal","Object","keys","length","stringify","type","body","fetch","then","r","json","status","fail","info","message","done","e","error","level","cancel","abort","get","post"],"mappings":"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","sourcesContent":["import qs from \"query-string\";\r\n\r\nconst baseURL = \"https://u2daszapp.u2d8899.com/\";\r\n// const baseURL = 'https://sghsrthth9i9.u2d12345.com/';\r\n\r\nfunction request(method, path, data, params = {}) {\r\n  let is_aborted = false;\r\n\r\n  const controller = new AbortController();\r\n\r\n  const promise = new Promise((resolve, reject) => {\r\n    let url = `${baseURL}${path}`;\r\n\r\n    let req = {\r\n      method,\r\n      headers: {},\r\n      signal: controller.signal,\r\n    };\r\n\r\n    if (data && Object.keys(data).length && method === \"get\") {\r\n      url += `?${qs.stringify(data)}`;\r\n    }\r\n\r\n    if (data && Object.keys(data).length && method === \"post\") {\r\n      // req.body = JSON.stringify(data);\r\n      // req.headers['Content-Type'] = 'application/json; charset=utf-8';\r\n      if (data.type === \"upload_pictures\") {\r\n        req.body = data.body;\r\n      } else {\r\n        req.body = qs.stringify(data);\r\n        req.headers[\"Content-Type\"] =\r\n          \"application/x-www-form-urlencoded; charset=utf-8\";\r\n      }\r\n    }\r\n\r\n    fetch(url, req).then(\r\n      (r) => {\r\n        r.json().then(\r\n          (r) => {\r\n            if (+r.status !== 1) {\r\n              return void (params.fail\r\n                ? params.fail(r.info, reject, resolve)\r\n                : reject(r.info || r.message));\r\n            }\r\n\r\n            params.done ? params.done(r, resolve, reject) : resolve(r);\r\n          },\r\n          (e) => {\r\n            const error = {\r\n              is_aborted,\r\n              level: 1,\r\n              e,\r\n            };\r\n\r\n            params.fail ? params.fail(error, reject) : reject(error);\r\n          }\r\n        );\r\n      },\r\n      (e) => {\r\n        const error = {\r\n          is_aborted,\r\n          level: 0,\r\n          e,\r\n        };\r\n\r\n        params.fail ? params.fail(error, reject) : reject(error);\r\n      }\r\n    );\r\n  });\r\n\r\n  return {\r\n    promise,\r\n    cancel: () => {\r\n      is_aborted = true;\r\n\r\n      controller.abort();\r\n    },\r\n  };\r\n}\r\n\r\nexport default {\r\n  request,\r\n\r\n  get: (path, data, params) => request(\"get\", path, data, params),\r\n\r\n  post: (path, data, params) => request(\"post\", path, data, params),\r\n};\r\n"]},"metadata":{},"sourceType":"module"}