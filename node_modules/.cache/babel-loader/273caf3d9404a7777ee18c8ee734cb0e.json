{"ast":null,"code":"var _jsxFileName = \"/Users/cramj/Documents/New PWA/GIT/src/view/Dashboard.js\";\nimport React, { useState, useEffect, useContext, useMemo } from 'react';\nimport { useParams, useLocation, useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport * as moment from 'moment';\nimport DatePicker from 'react-datepicker';\nimport { withAuth, toDate, getAuthKey } from '../util/';\nimport { User, Game, Card, Transaction as Service } from '../service/';\nimport { UITabs, UISelect, Icon, FormField } from '../component/';\nimport { UIAlertSA } from '../pwa/component/';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport '../assets/scss/Dashboard.scss';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction DashboardTransfer() {\n  var _balances$map$BTI, _balances$map$IM, _balances$map$, _balances$map$AG, _balances$map$EB, _balances$map$IM2, _balances$map$CQ, _balances$map$PT, _balances$map$MG, _balances$map$2;\n\n  const {\n    userAuth,\n    setUserAuthFN\n  } = useContext(User.Context);\n  const [balances, setBalances] = useState({\n    status: 0,\n    update: 0,\n    list: [],\n    from: [],\n    to: [],\n    map: {}\n  });\n  const [balancesFill, setBalancesFill] = useState({\n    wallet: [],\n    games: []\n  });\n  const [form, setForm] = useState({\n    from: null,\n    to: null,\n    amount: '',\n    overlay: false\n  });\n  useEffect(() => {\n    setBalances(b => ({ ...b,\n      status: 0,\n      list: [],\n      map: {}\n    }));\n    Game.balances({ ...User.read()\n    }).then(_balances => {\n      const list = _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`);\n\n      list.unshift(`中央钱包: ${userAuth.data.balance} ¥`);\n      setBalancesFill({\n        wallet: [`中央钱包: ${userAuth.data.balance} ¥`],\n        games: _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`)\n      });\n      const map = {};\n\n      _balances.filter(b => !b.error).forEach(b => {\n        map[b.game.name] = b;\n      });\n\n      map['中央钱包'] = {\n        game: {\n          id: 0,\n          name: 'wallet'\n        },\n        wallet: true,\n        balance: userAuth.data.balance\n      };\n      setForm(f => ({ ...f,\n        from: list[0],\n        to: list[1]\n      }));\n      setBalances(b => ({ ...b,\n        status: 1,\n        list,\n        from: list,\n        to: _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`),\n        map\n      }));\n    });\n  }, [balances.update, userAuth.data.balance]);\n\n  const swapGames = () => {\n    const [_to, _from] = [form.from, form.to];\n\n    let from = (_from || '').split(': ')[0];\n\n    let to = (_to || '').split(': ')[0];\n\n    const _d1 = balances.map[from].wallet ? 'games' : 'wallet';\n\n    const _d2 = balances.map[to].wallet ? 'games' : 'wallet';\n\n    from = `${from}: ${balances.map[from].balance} ¥`;\n    to = `${to}: ${balances.map[to].balance} ¥`;\n    setBalances(b => ({ ...b,\n      from: balancesFill[_d2],\n      to: balancesFill[_d1]\n    }));\n    setForm(bf => ({ ...bf,\n      from,\n      to\n    }));\n  };\n\n  const _updateBalances = () => {\n    setBalances(b => ({ ...b,\n      status: 1\n    }));\n    User.session({ ...User.read()\n    }).promise.then(r => {\n      setUserAuthFN(1, r.info);\n    });\n  };\n\n  const updateBalances = () => {\n    setBalances(b => ({ ...b,\n      status: 0\n    }));\n    Game.transferToWallet().promise.then(r => {\n      setForm(f => ({ ...f,\n        overlay: true\n      }));\n      setBalances(b => ({ ...b,\n        update: b.update + 1\n      }));\n    }, e => {\n      console.warn(e);\n      setBalances(b => ({ ...b,\n        status: 1\n      }));\n    });\n  };\n\n  const selectGame = (dist, option) => {\n    if (dist === 'from') {\n      const v = (option || '').split(': ')[0];\n      const d = balances.map[v].wallet ? 'games' : 'wallet';\n      setBalances(b => ({ ...b,\n        to: balancesFill[d]\n      }));\n      setForm(f => ({ ...f,\n        to: balancesFill[d][0]\n      }));\n    }\n\n    setForm(f => ({ ...f,\n      [dist]: option\n    }));\n  };\n\n  const transfer = () => {\n    if (!form.amount || isNaN(+form.amount)) {\n      return void console.warn('[transfer] No amount');\n    }\n\n    const _getMap = n => balances.map[n.split(': ')[0]] || null;\n\n    const _from = _getMap(form.from);\n\n    const _to = _getMap(form.to);\n\n    if (_from.game.id === _to.game.id) {\n      return void console.warn('[transfer] Same game');\n    }\n\n    if (_from.balance === 0) {\n      return void console.warn('[transfer] Zero balance');\n    }\n\n    if (_from.balance < +form.amount) {\n      return void console.warn('[transfer] Not enough game balance');\n    }\n\n    console.info(`You're transfering ${form.amount} ¥ from ${_from.game.name} to ${_to.game.name}`);\n    setBalances(b => ({ ...b,\n      status: 0\n    }));\n    Game.transfer({ ...User.read(),\n      amount: +form.amount,\n      from: _from.game.id,\n      to: _to.game.id\n    }).then(r => {\n      console.info(`You have successfully transferred ${form.amount} ¥ from ${_from.game.name} to ${_to.game.name}: ${r.info}`);\n      setBalances(b => ({ ...b,\n        status: 1\n      }));\n      setForm({\n        from: null,\n        to: null,\n        amount: '',\n        overlay: true\n      }); // updateBalances();\n    }, e => {\n      console.error(e);\n      setBalances(b => ({ ...b,\n        status: -1\n      }));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `transfer with-loader${balances.status === 0 ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 8\n    }\n  }, \"\\u8F6C\\u8D26\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 8\n    }\n  }, \"\\u573A\\u9986\\u94B1\\u5305\\u4E4B\\u95F4\\u4E0D\\u53EF\\u4EE5\\u4E92\\u8F6C\\u3002\\u5F53\\u60A8\\u5F00\\u542F\\u514D\\u8F6C\\u94B1\\u5305\\u65F6\\uFF0C\\u6BCF\\u4E2A\\u573A\\u9986\\u65E0\\u9700\\u8F6C\\u8D26\\u5373\\u53EF\\u7545\\u73A9\\u3002\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-refresh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updateBalances,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"refresh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }\n  }, \"\\u5237\\u65B0 \\u4E00\\u952E\\u56DE\\u6536\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-form--item dists\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transform-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 10\n    }\n  }, \"\\u63A8\\u51FA\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(UISelect, {\n    value: form.from,\n    options: balances.from,\n    placeholder: \"\\u63A8\\u51FA\",\n    onSelect: option => selectGame('from', option),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transform-switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: swapGames,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transform-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 10\n    }\n  }, \"\\u8FDB\\u5165\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(UISelect, {\n    value: form.to,\n    options: balances.to,\n    placeholder: \"\\u8FDB\\u5165\",\n    onSelect: option => selectGame('to', option),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-form--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }, \"\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"amount\",\n    type: \"text\",\n    placeholder: \"\\u91D1\\u989D\",\n    value: form.amount,\n    onChange: e => {\n      const amount = e.target.value;\n      setForm(f => ({ ...f,\n        amount\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-form--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: transfer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 8\n    }\n  }, \"\\u786E\\u5B9A\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 8\n    }\n  }, \"\\u4F53\\u80B2\\u535A\\u5F69\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item BTI\\u4F53\\u80B2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 40\n    }\n  }, ((_balances$map$BTI = balances.map['BTI体育']) === null || _balances$map$BTI === void 0 ? void 0 : _balances$map$BTI.balance) || 0), \" \\u5143\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item IM\\u4F53\\u80B2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 40\n    }\n  }, ((_balances$map$IM = balances.map['IM体育']) === null || _balances$map$IM === void 0 ? void 0 : _balances$map$IM.balance) || 0), \" \\u5143\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item \\u6C99\\u5DF4\\u4F53\\u80B2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 40\n    }\n  }, ((_balances$map$ = balances.map['沙巴体育']) === null || _balances$map$ === void 0 ? void 0 : _balances$map$.balance) || 0), \" \\u5143\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 8\n    }\n  }, \"\\u771F\\u4EBA\\u5A31\\u4E50\\u573A\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item AG\\u771F\\u4EBA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 40\n    }\n  }, ((_balances$map$AG = balances.map['AG真人']) === null || _balances$map$AG === void 0 ? void 0 : _balances$map$AG.balance) || 0), \" \\u5143\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item EB\\u771F\\u4EBA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 40\n    }\n  }, ((_balances$map$EB = balances.map['EB真人']) === null || _balances$map$EB === void 0 ? void 0 : _balances$map$EB.balance) || 0), \" \\u5143\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 8\n    }\n  }, \"\\u7535\\u5B50\\u7ADE\\u6280\\u535A\\u5F69\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item IM\\u7535\\u7ADE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 40\n    }\n  }, ((_balances$map$IM2 = balances.map['IM电竞']) === null || _balances$map$IM2 === void 0 ? void 0 : _balances$map$IM2.balance) || 0), \" \\u5143\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 8\n    }\n  }, \"\\u8001\\u864E\\u673A\\u6E38\\u620F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item CQ\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 40\n    }\n  }, ((_balances$map$CQ = balances.map['CQ电子']) === null || _balances$map$CQ === void 0 ? void 0 : _balances$map$CQ.balance) || 0), \" \\u5143\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item PT\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 40\n    }\n  }, ((_balances$map$PT = balances.map['PT电子']) === null || _balances$map$PT === void 0 ? void 0 : _balances$map$PT.balance) || 0), \" \\u5143\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item MG\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 40\n    }\n  }, ((_balances$map$MG = balances.map['MG电子']) === null || _balances$map$MG === void 0 ? void 0 : _balances$map$MG.balance) || 0), \" \\u5143\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 8\n    }\n  }, \"\\u8C61\\u68CB\\u6E38\\u620F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item \\u5F00\\u5143\\u68CB\\u724C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 11\n    }\n  }, \"\\u4F59\\u989D: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 40\n    }\n  }, ((_balances$map$2 = balances.map['开元棋牌']) === null || _balances$map$2 === void 0 ? void 0 : _balances$map$2.balance) || 0), \" \\u5143\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `transfer-overlay${form.overlay ? ' shown' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-overlay--sublayer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transfer-overlay--layer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"layer-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 8\n    }\n  }, \"\\u63D0\\u793A\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"close\",\n    onClick: e => {\n      setForm(f => ({ ...f,\n        overlay: false\n      }));\n\n      _updateBalances();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"close-circle-sharp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"layer-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 8\n    }\n  }, \"\\u8F6C\\u79FB\\u6210\\u529F!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"layer-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: e => {\n      setForm(f => ({ ...f,\n        overlay: false\n      }));\n\n      _updateBalances();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }\n  }, \"OK\")))))));\n}\n\nfunction DashboardPersonal() {\n  const _dateParse = (date, js) => {\n    const _parsed = (date || '').match(/([\\d]{4})年([\\d]{1,2})月([\\d]{1,2})日/);\n\n    if (!_parsed) {\n      if (js) {\n        const _dd = new Date();\n\n        return new Date(_dd.getFullYear() - 18, _dd.getMonth(), _dd.getDate());\n      }\n\n      return {\n        year: null,\n        month: null,\n        day: null\n      };\n    }\n\n    const _date = {\n      year: +_parsed[1],\n      month: +_parsed[2],\n      day: +_parsed[3]\n    };\n\n    if (js) {\n      return new Date(_date.year, _date.month - 1, _date.day);\n    }\n\n    return _date;\n  };\n\n  const {\n    userAuth: {\n      data: user\n    },\n    setUserAuthFN\n  } = useContext(User.Context);\n  const [status, setStatus] = useState(1);\n  const [form, setForm] = useState({\n    email: user.email || '',\n    name: user.realName || '',\n    birthday: _dateParse(user.birthday, true),\n    number: user.telephone || '',\n    qq: user.qq || '',\n    wechat: user.wechat || ''\n  });\n  const [subform, setSubform] = useState({\n    email: !!user.email,\n    name: !!user.realName,\n    birthday: !!user.birthday,\n    number: !!user.telephone,\n    qq: !!user.qq\n  });\n  const [message, setMessage] = useState({\n    className: null,\n    source: null,\n    message: null\n  });\n  const fields = [{\n    field: {\n      label: '邮箱'\n    },\n    input: {\n      id: 'email',\n      name: 'email',\n      type: 'email',\n      placeholder: '邮箱'\n    }\n  }, {\n    field: {\n      label: '真实姓名'\n    },\n    input: {\n      id: 'name',\n      name: 'name',\n      type: 'text',\n      placeholder: '真实姓名'\n    }\n  }, {\n    field: {\n      label: '出生年月'\n    },\n    input: {\n      id: 'birthday',\n      name: 'birthday',\n      type: 'text',\n      placeholder: '出生年月'\n    }\n  }, {\n    field: {\n      label: '手机号'\n    },\n    input: {\n      id: 'number',\n      name: 'number',\n      type: 'text',\n      placeholder: '手机号'\n    }\n  }, {\n    field: {\n      label: 'QQ'\n    },\n    input: {\n      id: 'qq',\n      name: 'qq',\n      type: 'text',\n      placeholder: 'QQ'\n    }\n  }];\n\n  const notify = (state, source, message) => {\n    setMessage({\n      className: state ? 'valid' : 'invalid',\n      source,\n      message\n    });\n  };\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(f => ({ ...f,\n      [name]: value\n    }));\n  };\n\n  const update = () => {\n    const _dateFormat = date => {\n      const _year = date.getFullYear();\n\n      const _month = date.getMonth() + 1;\n\n      const _day = date.getDate();\n\n      return `${_year}年${_month}月${_day}日`;\n    };\n\n    setStatus(0);\n    let shouldUpdate = false;\n\n    for (const i in subform) {\n      if (!subform[i]) {\n        shouldUpdate = true;\n        break;\n      }\n    }\n\n    if (!shouldUpdate) {\n      setStatus(1);\n      return void notify(false, '', '联系CS更改个人信息');\n    }\n\n    console.info('You\\'re updating profile information:', form);\n    User.update({ ...User.read(),\n      ...form,\n      birthday: _dateFormat(form.birthday),\n      realname: form.name,\n      phone: form.number\n    }).promise.then(r => {\n      console.info('✅ You have successfully updated profile information:', r.info);\n      setStatus(1);\n      notify(true, 'password', r.info);\n      const _sf = {};\n\n      for (const i in fields) {\n        const f = fields[i];\n        _sf[f.input.name] = !!form[f.input.name];\n      }\n\n      setSubform(_sf);\n      User.session({ ...User.read()\n      }).promise.then(r => setUserAuthFN(1, r.info));\n    }, e => {\n      console.warn('Unable to update profile information:', e);\n      setStatus(1);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-personal with-loader${!status ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 4\n    }\n  }, \"\\u4E2A\\u4EBA\\u8D44\\u6599\"), message.message ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `message ${message.className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 24\n    }\n  }, message.message) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 4\n    }\n  }, fields.map((f, i) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 6\n    }\n  }, f.input.id === 'birthday' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: f.input.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 8\n    }\n  }, f.field.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-field--input-wrap with-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    id: f.input.id,\n    className: \"input-like\",\n    placeholder: f.input.placeholder,\n    dateFormat: \"yyyy\\u5E74M\\u6708d\\u65E5\",\n    maxDate: moment().subtract(18, 'years').toDate(),\n    selected: form[f.input.name],\n    disabled: subform[f.input.name],\n    onChange: d => setForm(f => ({ ...f,\n      birthday: d\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 9\n    }\n  }))) : /*#__PURE__*/React.createElement(FormField, {\n    field: f.field,\n    input: { ...f.input,\n      onChange,\n      value: form[f.input.name],\n      disabled: subform[f.input.name]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 7\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 5\n    }\n  }, \"\\u4FDD\\u5B58\")));\n}\n\nconst PasswordRegular = ({\n  setStatus\n}) => {\n  const [form, setForm] = useState({\n    password: '',\n    password_new: '',\n    password_newok: ''\n  });\n  const [message, setMessage] = useState({\n    className: null,\n    source: null,\n    message: null\n  });\n  const fields = [{\n    field: {\n      label: '原密码'\n    },\n    input: {\n      id: 'password',\n      name: 'password',\n      type: 'password',\n      placeholder: '原密码'\n    }\n  }, {\n    field: {\n      label: '新密码'\n    },\n    input: {\n      id: 'password_new',\n      name: 'password_new',\n      type: 'password',\n      placeholder: '新密码'\n    }\n  }, {\n    field: {\n      label: '验证新密码'\n    },\n    input: {\n      id: 'password_newok',\n      name: 'password_newok',\n      type: 'password',\n      placeholder: '验证新密码'\n    }\n  }];\n\n  const notify = (state, source, message) => {\n    setMessage({\n      className: state ? 'valid' : 'invalid',\n      source,\n      message\n    });\n  };\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (message.message && message.source === name) {\n      setMessage({\n        className: null,\n        source: null,\n        message: null\n      });\n    }\n\n    setForm(f => ({ ...f,\n      [name]: value\n    }));\n  };\n\n  const update = () => {\n    if (!form.password) {\n      return void notify(false, 'password', '未输入当前密码!');\n    }\n\n    if (!form.password_new) {\n      return void notify(false, 'password_new', '未输入新密码!');\n    }\n\n    if (form.password_new !== form.password_newok) {\n      return void notify(false, 'password_new', '输入的密码不匹配!');\n    }\n\n    setStatus(0);\n    console.info('You\\'re updating account password:', form);\n    User.updatePassword({ ...User.read(),\n      ...form\n    }).promise.then(r => {\n      console.info('✅ You have successfully updated account password:', r.info);\n      notify(true, 'password', r.info);\n      setStatus(1);\n    }, e => {\n      console.warn('Unable to update account password:', e);\n      notify(false, 'password', e);\n      setStatus(1);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"password-section regular\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 4\n    }\n  }, \"\\u4FEE\\u6539\\u767B\\u5F55\\u5BC6\\u7801\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 4\n    }\n  }, message.message ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `message ${message.className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 831,\n      columnNumber: 25\n    }\n  }, message.message) : null, fields.map((f, i) => /*#__PURE__*/React.createElement(FormField, {\n    key: i,\n    field: f.field,\n    input: { ...f.input,\n      onChange\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 833,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 842,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 843,\n      columnNumber: 5\n    }\n  }, \"\\u4FDD\\u5B58\")));\n};\n\nfunction DashboardPassword() {\n  const [status, setStatus] = useState(1);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-password with-loader${!status ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(PasswordRegular, {\n    setStatus: s => setStatus(s),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 4\n    }\n  }));\n}\n\nfunction DashboardPayment() {\n  const {\n    userAuth\n  } = useContext(User.Context);\n  const banks = [// '中国百银行',\n  // '建设银行',\n  // '度工商银行',\n  // '中信银行',\n  // '招商银行',\n  // '广东发展银行',\n  // '民生银行',\n  // '农业银行',\n  // '兴业银行',\n  // '上海浦东发展银行',\n  // '华夏知银行',\n  // '交通银行',\n  // '光大银道行',\n  // '深圳发展银行',\n  // '恒丰银行',\n  // '渤海银行',\n  '中国银行', '中国建设银行', '中国农业银行', '中国工商银行', '中国邮政储蓄银行', '招商银行', '交通银行', '中信银行', '平安银行', '中国光大银行', '上海浦东发展银行', '广发银行', '华夏银行', '兴业银行', '民生银行'];\n  const [status, setStatus] = useState(1);\n  const [update, setUpdate] = useState(0);\n  const [cards, setCards] = useState([]);\n  useEffect(() => {\n    const req = Card.read({ ...User.read()\n    });\n    setStatus(0);\n    req.promise.then(r => {\n      console.log('Got cards:', r);\n      setCards(r.info);\n      setStatus(1);\n    }, e => {\n      if (!e.is_aborted) {\n        console.warn('Unable to get cards:', e);\n        setStatus(1);\n      }\n    });\n    return () => req.cancel();\n  }, [update]);\n  const [form, setForm] = useState({\n    bank_type: '中国银行',\n    bank_province: '',\n    bank_city: '',\n    realname: userAuth.data.realName || '',\n    bank_addr: '',\n    bank_no: ''\n  });\n  const fields = [{\n    id: 'bank_type',\n    label: '开户银行',\n    placeholder: '开户银行'\n  }, {\n    id: 'bank_province',\n    label: '开户地区',\n    placeholder: '开户地区'\n  }, {\n    id: 'bank_city',\n    label: '开户支行',\n    placeholder: '开户支行'\n  }, {\n    id: 'bank_addr',\n    label: '开户支行',\n    placeholder: '开户支行'\n  }, {\n    id: 'realname',\n    label: '开户人姓名',\n    placeholder: '开户人姓名'\n  }, {\n    id: 'bank_no',\n    label: '银行卡号'\n  }];\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(f => ({ ...f,\n      [name]: value\n    }));\n  };\n\n  const submit = () => {\n    setStatus(0);\n    Card.create({ ...User.read(),\n      ...form\n    }).promise.then(r => {\n      console.info('Successfully bound the card:', r);\n      setUpdate(u => u + 1);\n      setStatus(1);\n    }, e => {\n      console.info('Unable to bind the card:', e);\n      setStatus(1);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-payment with-loader${!status ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 995,\n      columnNumber: 4\n    }\n  }), cards.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 997,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 5\n    }\n  }, \"\\u8BBE\\u7F6E\\u94F6\\u884C\\u5361\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-list--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 999,\n      columnNumber: 5\n    }\n  }, cards.map((card, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1001,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1002,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1003,\n      columnNumber: 8\n    }\n  }, card.debit_bank)))))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1010,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 5\n    }\n  }, \"\\u6DFB\\u52A0\\u94F6\\u884C\\u5361\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-form--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 6\n    }\n  }, fields.map((f, i) => f.id === 'bank_type' ? /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1016,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1017,\n      columnNumber: 9\n    }\n  }, f.label), /*#__PURE__*/React.createElement(UISelect, {\n    value: form.bank_type,\n    options: banks,\n    placeholder: \"\\u5E75\\u6237\\u94F6\\u884C\",\n    onSelect: option => {\n      setForm(f => ({ ...f,\n        bank_type: option\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1018,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(FormField, {\n    key: i,\n    field: {\n      label: f.label,\n      placeholder: f.placeholder\n    },\n    input: { ...f,\n      name: f.id,\n      value: form[f.id],\n      onChange\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 7\n    }\n  }, \"\\u4FDD\\u5B58\")))));\n}\n\nfunction DashboardTransactions() {\n  const query = useQuery();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [type, setType] = useState(query.get('tab') || 'debit');\n  const [range, setRange] = useState('today');\n  const [customI, setCustomI] = useState(0);\n  const [customRange, setCustomRange] = useState({\n    from: moment().subtract(30, 'days').toDate(),\n    to: moment().toDate()\n  });\n  const [overlayShown, setOverlay] = useState(false);\n  const [transactions, setTransactions] = useState([]);\n  const [transactionsFiltered, setTransactionsFiltered] = useState([]);\n  useEffect(() => {\n    const user = User.read();\n    var req = Service.read({\n      record_type: type,\n      ...user\n    });\n    setLoading(true);\n    setTransactions([]);\n    req.promise.then(r => {\n      const _transactions = r.info.map(t => {\n        t.timestamp = toDate(t.requestTime, true);\n\n        if (t.endTime) {\n          t.timestamp = toDate(t.endTime, true);\n        }\n\n        if (t.add_date) {\n          t.timestamp = toDate(t.add_date, true);\n        }\n\n        return t;\n      });\n\n      setTransactions(_transactions);\n      setLoading(false);\n    }, e => {\n      if (!e.is_aborted) {\n        console.error('Unable to get transactions:', e);\n        setLoading(false);\n      }\n    });\n    return () => req.cancel();\n  }, [history, type]);\n  useEffect(() => {\n    const _rangeMap = {\n      today: () => {\n        const today = moment();\n        return [today.startOf('day').unix(), today.endOf('day').unix()];\n      },\n      yesterday: () => {\n        const yesterday = moment().subtract(1, 'days');\n        return [yesterday.startOf('day').unix(), yesterday.endOf('day').unix()];\n      },\n      week: () => {\n        return [moment().subtract(1, 'weeks').startOf('day').unix(), moment().endOf('day').unix()];\n      },\n      month: () => {\n        return [moment().subtract(30, 'days').startOf('day').unix(), moment().endOf('day').unix()];\n      },\n      custom: () => {\n        let {\n          from,\n          to\n        } = customRange;\n        return [moment(from).startOf('day').unix(), moment(to).endOf('day').unix()];\n      }\n    };\n\n    const [from, to] = _rangeMap[range]();\n\n    const _transactions = transactions.filter(t => {\n      return t.timestamp >= from && t.timestamp < to;\n    });\n\n    setTransactionsFiltered(_transactions); // eslint-disable-next-line\n  }, [range, customI, transactions]);\n  useEffect(() => {\n    let _tab = query.get('tab');\n\n    if (!['debit', 'deposit', 'transfer', 'washcode'].includes(_tab)) {\n      _tab = 'debit';\n    }\n\n    setType(_tab);\n  }, [query, setType]);\n\n  const setTypeHandle = type => {\n    history.push({\n      search: `?tab=${type}`\n    });\n  };\n\n  const setRangeHandle = range => {\n    if (range === 'custom') {\n      return void setOverlay(true);\n    }\n\n    setRange(range);\n  };\n\n  const applyCustomRange = () => {\n    setOverlay(false);\n    setCustomI(customI + 1);\n    setRange('custom');\n  };\n\n  const TypeButton = ({\n    type,\n    current,\n    name\n  }) => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => setTypeHandle(type),\n    className: `type-select--item${current === type ? ' active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1214,\n      columnNumber: 3\n    }\n  }, name);\n\n  const Transaction = ({\n    type,\n    transaction\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transaction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 3\n    }\n  }, type === 'debit' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1225,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1226,\n      columnNumber: 6\n    }\n  }, transaction.requestTime), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1227,\n      columnNumber: 6\n    }\n  }, transaction.bankInfo), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1228,\n      columnNumber: 6\n    }\n  }, transaction.amount, \"\\u5143\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status stat-${transaction.status}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1230,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 6\n    }\n  }, transaction.status))) : null, type === 'deposit' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1237,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1238,\n      columnNumber: 6\n    }\n  }, transaction.endTime), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1239,\n      columnNumber: 6\n    }\n  }, transaction.payType), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1240,\n      columnNumber: 6\n    }\n  }, transaction.amount, \"\\u5143\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status stat-${transaction.status}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1242,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1243,\n      columnNumber: 6\n    }\n  }, transaction.status))) : null, type === 'transfer' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1249,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1250,\n      columnNumber: 6\n    }\n  }, transaction.requestTime), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1251,\n      columnNumber: 6\n    }\n  }, transaction.platName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1252,\n      columnNumber: 6\n    }\n  }, transaction.amount, \"\\u5143\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status stat-${transaction.tranStatus}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1254,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1255,\n      columnNumber: 6\n    }\n  }, transaction.tranStatus))) : null, type === 'washcode' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1261,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1262,\n      columnNumber: 6\n    }\n  }, transaction.add_date), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1263,\n      columnNumber: 6\n    }\n  }, transaction.game_id), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1264,\n      columnNumber: 6\n    }\n  }, transaction.money, \"\\u5143\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status stat-ratio`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1266,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1267,\n      columnNumber: 6\n    }\n  }, transaction.ratio))) : null);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `transactions with-loader${loading ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1275,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1276,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1277,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1278,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1279,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"type-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1280,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TypeButton, {\n    current: type,\n    type: \"deposit\",\n    name: \"\\u5B58\\u6B3E\\u8BB0\\u5F55\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1281,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(TypeButton, {\n    current: type,\n    type: \"transfer\",\n    name: \"\\u8F6C\\u8D26\\u8BB0\\u5F55\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1283,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(TypeButton, {\n    current: type,\n    type: \"washcode\",\n    name: \"\\u53CD\\u6C34\\u8BB0\\u5F55\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1284,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-range\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1287,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(UITabs, {\n    tabs: [{\n      index: 'today',\n      name: '今天'\n    }, {\n      index: 'yesterday',\n      name: '昨天'\n    }, {\n      index: 'week',\n      name: '本周'\n    }, {\n      index: 'month',\n      name: '本月'\n    }, {\n      index: 'custom',\n      name: '自选'\n    }],\n    tab: range,\n    onSet: setRangeHandle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1288,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1297,\n      columnNumber: 5\n    }\n  }, transactionsFiltered.map((transaction, i) => /*#__PURE__*/React.createElement(Transaction, {\n    type: type,\n    key: i,\n    transaction: transaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1299,\n      columnNumber: 6\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `transactions-overlay${overlayShown ? ' shown' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1304,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-overlay--inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1305,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-overlay--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1306,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-range-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1307,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1308,\n      columnNumber: 8\n    }\n  }, \"\\u9009\\u62E9\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1309,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1310,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date-from\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 10\n    }\n  }, \"\\u5F00\\u59CB\\u65E5\\u671F\"), /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"date-from\",\n    placeholder: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n    dateFormat: \"yyyy-MM-dd\",\n    selected: customRange.from,\n    onChange: date => setCustomRange({ ...customRange,\n      from: date\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1312,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1319,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date-to\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1320,\n      columnNumber: 10\n    }\n  }, \"\\u7ED3\\u675F\\u65E5\\u671F\"), /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"date-from\",\n    placeholder: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n    dateFormat: \"yyyy-MM-dd\",\n    selected: customRange.to,\n    minDate: customRange.from,\n    onChange: date => setCustomRange({ ...customRange,\n      to: date\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1321,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1330,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"cancel\",\n    onClick: e => setOverlay(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1331,\n      columnNumber: 9\n    }\n  }, \"\\u53D6\\u6D88\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update\",\n    onClick: e => applyCustomRange(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1332,\n      columnNumber: 9\n    }\n  }, \"\\u786E\\u8BA4\")))))));\n}\n\nfunction DashboardDeposit() {\n  const auth = getAuthKey();\n  const {\n    account\n  } = User.read();\n  const history = useHistory();\n  const {\n    search\n  } = useLocation();\n  const [noback] = useState(search.includes('a=1'));\n  useEffect(() => {\n    if (noback) {\n      history.replace({\n        search: ''\n      });\n    }\n  }, [history, noback]);\n  useEffect(() => {\n    console.log(noback);\n\n    if (noback) {\n      window.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`, '_blank');\n    } else {\n      history.goBack();\n    }\n  }, [auth, account, noback, history]);\n  return null; // return (\n  // \t<div className=\"deposit\">\n  // \t\t<iframe \n  // \t\t\tstyle={{ height: 800, overflow: 'auto' }}\n  // \t\t\ttitle={`IFRAME-N${auth}`}\n  // \t\t\tsrc={`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`}>\n  // \t\t</iframe>\n  // \t</div>\n  // );\n}\n\nfunction DashboardBettingHistory() {\n  const [status, setStatus] = useState(1);\n  const [game, setGame] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [activeItem, setActiveItem] = useState(null);\n  const Filter = {\n    bti(i) {\n      return {\n        created_ts: i.creat_date,\n        name: '',\n        amount: `${i.win}元`,\n        status: +i.win > 0,\n        raw: i,\n        sub: [{\n          name: '投注金额',\n          value: i.bet\n        }, {\n          name: '赢/输',\n          value: i.win\n        }, {\n          name: '状态',\n          value: i.status\n        }, {\n          name: '结算状态',\n          value: i.line_type_name\n        }, {\n          name: '投注类型',\n          value: i.bet_type_name\n        }, {\n          name: '细节',\n          value: i.branch_name\n        }, {\n          name: '创立日期',\n          value: i.creat_date\n        }, {\n          name: '票据编号',\n          value: i.game_board\n        }]\n      };\n    },\n\n    im(i) {\n      return {\n        created_ts: i.creat_time,\n        name: '',\n        amount: `${i.win}元`,\n        status: +i.win > 0,\n        raw: i,\n        sub: [{\n          name: '投注金额',\n          value: i.bet\n        }, {\n          name: '赢/输',\n          value: i.win\n        }, {\n          name: '主队',\n          value: i.hometeamname\n        }, {\n          name: '客队',\n          value: i.awayteamname\n        }, {\n          name: '投注类型',\n          value: i.bettype\n        }, {\n          name: '活动名称',\n          value: i.eventname\n        }, {\n          name: '更新时间',\n          value: i.update_time\n        }, {\n          name: '票据编号',\n          value: i.id\n        }]\n      };\n    },\n\n    ag(i) {\n      return {\n        created_ts: i.created_time,\n        name: '',\n        amount: `${i.win}元`,\n        status: +i.win > 0,\n        raw: i,\n        sub: [{\n          name: '游戏名称',\n          value: i.game_name\n        }, {\n          name: '投注金额',\n          value: i.bet\n        }, {\n          name: '赢/输',\n          value: i.win\n        }, {\n          name: '票据编号',\n          value: i.game_board\n        }, {\n          name: '创立日期',\n          value: i.created_time\n        }]\n      };\n    }\n\n  };\n\n  const _setGame = game => {\n    if (!game.betting_key) {\n      console.warn('No betting key provided for this game:', game);\n      return;\n    }\n\n    setStatus(0);\n    setHistory([]);\n    Game.getBettingHistory({ ...User.read(),\n      type: game.betting_key\n    }).promise.then(r => {\n      setGame(game);\n      console.log(r);\n      const history = r.info.list.map(Filter[game.betting_key]);\n      setHistory(history);\n      setStatus(1);\n    }, e => {\n      console.warn('Unable to get betting history records:', e);\n      setHistory([]);\n      setStatus(1);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-betting-history with-loader${!status ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1496,\n      columnNumber: 3\n    }\n  }, game ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"back-button\",\n    onClick: () => {\n      setGame(null);\n      setActiveItem(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1498,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"arrow-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1499,\n      columnNumber: 5\n    }\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1502,\n      columnNumber: 4\n    }\n  }), game ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"game-history\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1504,\n      columnNumber: 4\n    }\n  }, history.map((item, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: `game-history--item${i === activeItem ? ' opened' : ''}`,\n    key: i,\n    onClick: () => setActiveItem(activeItem !== null ? null : i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1506,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"game-history--item-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1507,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1508,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"content--item timestamp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1509,\n      columnNumber: 8\n    }\n  }, item.created_ts), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"content--item name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1510,\n      columnNumber: 8\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"content--item amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1511,\n      columnNumber: 8\n    }\n  }, item.amount)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status status--${item.status ? 'green' : 'red'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1513,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1514,\n      columnNumber: 8\n    }\n  }, item.status ? '赢得' : '失利'))), i === activeItem ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"game-history--item-subwrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1518,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1519,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1520,\n      columnNumber: 8\n    }\n  }, item.sub.map((param, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1522,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1523,\n      columnNumber: 10\n    }\n  }, param.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1524,\n      columnNumber: 10\n    }\n  }, param.value)))))) : null))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1535,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1536,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1537,\n      columnNumber: 6\n    }\n  }, \"\\u4F53\\u80B2\\u535A\\u5F69\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1538,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item BTI\\u4F53\\u80B2\",\n    onClick: e => _setGame({\n      betting_key: 'bti'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1539,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1540,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1541,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item IM\\u4F53\\u80B2\",\n    onClick: e => _setGame({\n      betting_key: 'im'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1544,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1545,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1546,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item \\u6C99\\u5DF4\\u4F53\\u80B2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1549,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1550,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1551,\n      columnNumber: 9\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1556,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1557,\n      columnNumber: 6\n    }\n  }, \"\\u771F\\u4EBA\\u5A31\\u4E50\\u573A\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1558,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item AG\\u771F\\u4EBA\",\n    onClick: e => _setGame({\n      betting_key: 'bti'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1559,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1560,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1561,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item EB\\u771F\\u4EBA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1564,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1565,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1566,\n      columnNumber: 9\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1571,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1572,\n      columnNumber: 6\n    }\n  }, \"\\u7535\\u5B50\\u7ADE\\u6280\\u535A\\u5F69\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1573,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item IM\\u7535\\u7ADE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1574,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1575,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1576,\n      columnNumber: 9\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1581,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1582,\n      columnNumber: 6\n    }\n  }, \"\\u8001\\u864E\\u673A\\u6E38\\u620F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1583,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item CQ\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1584,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1585,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1586,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item PT\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1589,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1590,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1591,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item MG\\u7535\\u5B50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1594,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1595,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1596,\n      columnNumber: 9\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1601,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1602,\n      columnNumber: 6\n    }\n  }, \"\\u8C61\\u68CB\\u6E38\\u620F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1603,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-list--item \\u5F00\\u5143\\u68CB\\u724C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1604,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1605,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1606,\n      columnNumber: 9\n    }\n  })))))));\n}\n\nconst Withdraws = ({\n  update,\n  alert\n}) => {\n  const [withdraws, setWithdraws] = useState({\n    status: 0,\n    list: []\n  });\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const r = await Service.read({\n          record_type: 'debit',\n          ...User.read()\n        }).promise;\n        setWithdraws({\n          status: 1,\n          list: r.info.map(t => ({ ...t,\n            ts: toDate(t.requestTime, true)\n          }))\n        });\n      } catch (e) {\n        if (!e.is_aborted) {\n          console.warn(e);\n        }\n      }\n    };\n\n    fetch();\n  }, [update]);\n  const [range, setRange] = useState('today');\n  const [customI, setCustomI] = useState(0);\n  const [customRange, setCustomRange] = useState({\n    from: moment().subtract(30, 'days').toDate(),\n    to: moment().toDate()\n  });\n  const [overlayShown, setOverlay] = useState(false);\n\n  const __withdraws = useMemo(() => {\n    const _rangeMap = {\n      today: () => {\n        const today = moment();\n        return [today.startOf('day').unix(), today.endOf('day').unix()];\n      },\n      yesterday: () => {\n        const yesterday = moment().subtract(1, 'days');\n        return [yesterday.startOf('day').unix(), yesterday.endOf('day').unix()];\n      },\n      week: () => {\n        return [moment().subtract(1, 'weeks').startOf('day').unix(), moment().endOf('day').unix()];\n      },\n      month: () => {\n        return [moment().subtract(30, 'days').startOf('day').unix(), moment().endOf('day').unix()];\n      },\n      custom: () => {\n        let {\n          from,\n          to\n        } = customRange;\n        return [moment(from).startOf('day').unix(), moment(to).endOf('day').unix()];\n      }\n    };\n\n    const [from, to] = _rangeMap[range]();\n\n    return withdraws.list.filter(t => t.ts >= from && t.ts < to);\n  }, [withdraws.list, customRange, range]);\n\n  const UI = {\n    async cancel(w) {\n      try {\n        const r = await User.withdrawCancel({\n          id: w.id\n        }).promise;\n        console.info(r);\n        setWithdraws(ws => ({ ...ws,\n          list: ws.list.map(ws => ws.id === w.id ? { ...w,\n            status: '失败'\n          } : ws)\n        }));\n        alert.showAlert('系统提示', r.info);\n      } catch (e) {\n        console.warn(e);\n        alert.showAlert('系统提示', e);\n      }\n    },\n\n    toggle(w) {\n      setWithdraws(ws => ({ ...ws,\n        list: ws.list.map(ws => ws.id === w.id ? { ...w,\n          shown: !w.shown\n        } : ws)\n      }));\n    },\n\n    applyCustomRange() {\n      setOverlay(false);\n      setCustomI(customI + 1);\n      setRange('custom');\n    }\n\n  };\n\n  const _withdraws = __withdraws.map((withdraw, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    onClick: () => UI.toggle(withdraw),\n    className: cx('transaction-outer', {\n      shown: withdraw.shown\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1755,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transaction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1759,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1760,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1761,\n      columnNumber: 6\n    }\n  }, withdraw.cardNumber), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1762,\n      columnNumber: 6\n    }\n  }, withdraw.amount, \"\\u5143\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1763,\n      columnNumber: 6\n    }\n  }, withdraw.requestTime), withdraw.status === '未审核' ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => UI.cancel(withdraw),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1765,\n      columnNumber: 6\n    }\n  }, \"\\u53D6\\u6D88\\u63D0\\u6B3E\") : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: `status stat-${withdraw.status}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1768,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1769,\n      columnNumber: 6\n    }\n  }, withdraw.status))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transaction-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1772,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1773,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1774,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1775,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1776,\n      columnNumber: 8\n    }\n  }, \"\\u94F6\\u884C:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1777,\n      columnNumber: 8\n    }\n  }, withdraw.status)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1779,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1780,\n      columnNumber: 8\n    }\n  }, \"\\u91D1\\u989D:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1781,\n      columnNumber: 8\n    }\n  }, withdraw.amount)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1783,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1784,\n      columnNumber: 8\n    }\n  }, \"\\u65F6\\u95F4:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1785,\n      columnNumber: 8\n    }\n  }, withdraw.requestTime)), withdraw.verifyComment ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1788,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1789,\n      columnNumber: 8\n    }\n  }, \"\\u5907\\u6CE8:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1790,\n      columnNumber: 8\n    }\n  }, withdraw.verifyComment)) : null)))));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withdraws transactions-sa desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1800,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1801,\n      columnNumber: 4\n    }\n  }, \"\\u63D0\\u6B3E\\u8BB0\\u5F55\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-range\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1802,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(UITabs, {\n    tab: range,\n    onSet: r => r !== 'custom' ? setRange(r) : setOverlay(true),\n    tabs: [{\n      index: 'today',\n      name: '今天'\n    }, {\n      index: 'yesterday',\n      name: '昨天'\n    }, {\n      index: 'week',\n      name: '本周'\n    }, {\n      index: 'month',\n      name: '本月'\n    }, {\n      index: 'custom',\n      name: '自选'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1803,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1814,\n      columnNumber: 4\n    }\n  }, _withdraws), /*#__PURE__*/React.createElement(\"div\", {\n    className: `transactions-overlay${overlayShown ? ' shown' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1817,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-overlay--inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1818,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transactions-overlay--wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1819,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-range-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1820,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1821,\n      columnNumber: 8\n    }\n  }, \"\\u9009\\u62E9\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1822,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1823,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date-from\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1824,\n      columnNumber: 10\n    }\n  }, \"\\u5F00\\u59CB\\u65E5\\u671F\"), /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"date-from\",\n    placeholder: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n    dateFormat: \"yyyy-MM-dd\",\n    selected: customRange.from,\n    onChange: date => setCustomRange({ ...customRange,\n      from: date\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1825,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1832,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date-to\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1833,\n      columnNumber: 10\n    }\n  }, \"\\u7ED3\\u675F\\u65E5\\u671F\"), /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"date-from\",\n    placeholder: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n    dateFormat: \"yyyy-MM-dd\",\n    selected: customRange.to,\n    minDate: customRange.from,\n    onChange: date => setCustomRange({ ...customRange,\n      to: date\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1834,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1843,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"cancel\",\n    onClick: e => setOverlay(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1844,\n      columnNumber: 9\n    }\n  }, \"\\u53D6\\u6D88\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update\",\n    onClick: e => UI.applyCustomRange(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1845,\n      columnNumber: 9\n    }\n  }, \"\\u786E\\u8BA4\")))))));\n};\n\nfunction DashboardWithdraw() {\n  const [status, setStatus] = useState(1);\n  const [update, setUpdate] = useState(0);\n  const [cards, setCards] = useState([]);\n  const [cardsMap, setCardsMap] = useState({});\n  const [form, setForm] = useState({\n    debit_bank: '',\n    amount: ''\n  });\n  const [message, setMessage] = useState({\n    className: null,\n    source: null,\n    message: null\n  });\n  useEffect(() => {\n    const req = Card.read({ ...User.read()\n    });\n    setStatus(0);\n    req.promise.then(r => {\n      console.log('Got cards:', r);\n      const _cardsMap = {};\n\n      const _cards = r.info.map(c => {\n        if (!_cardsMap[c.debit_bank]) {\n          _cardsMap[c.debit_bank] = c.id;\n        }\n\n        return c.debit_bank;\n      });\n\n      setCardsMap(_cardsMap);\n\n      if (!_cards.length) {\n        _cards.push('');\n      }\n\n      setForm(f => ({ ...f,\n        debit_bank: _cards[0] || ''\n      }));\n      setCards(_cards);\n      setStatus(1);\n    }, e => {\n      console.warn('Unable to get cards:', e);\n      setStatus(1);\n    });\n    return () => req.cancel();\n  }, []);\n  const fields = [{\n    id: 'debit_bank',\n    label: '银行卡号',\n    placeholder: '卡账户'\n  }, {\n    id: 'amount',\n    label: '金额',\n    placeholder: '最低100元'\n  }];\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (message.message && message.source === name) {\n      setMessage({\n        className: null,\n        source: null,\n        message: null\n      });\n    }\n\n    setForm(f => ({ ...f,\n      [name]: value\n    }));\n  };\n\n  const [alert, setAlert] = useState({\n    shown: false,\n    title: '',\n    message: '',\n    onClose: () => hideAlert()\n  });\n\n  const showAlert = (title, message) => {\n    setAlert(a => ({ ...a,\n      shown: true,\n      title,\n      message\n    }));\n  };\n\n  const hideAlert = () => {\n    setAlert(a => ({ ...a,\n      shown: false\n    }));\n  };\n\n  const withdraw = () => {\n    const {\n      debit_bank,\n      amount\n    } = form;\n\n    if (!debit_bank) {\n      return void showAlert('系统提示', '必须选择一张卡');\n    }\n\n    const _amount = +amount;\n\n    if (!_amount || isNaN(_amount)) {\n      return void showAlert('系统提示', '取款金额不能为空');\n    }\n\n    if (_amount < 100 || _amount > 60000) {\n      return void showAlert('系统提示', '取款金额小于最低取款限额');\n    }\n\n    console.info(`You're about to withdraw ${amount}¥`);\n    setStatus(0);\n    const _form = { ...form\n    };\n    _form.debit_bank = cardsMap[debit_bank] || '';\n    User.withdraw({ ...User.read(),\n      ..._form\n    }).promise.then(r => {\n      console.log(`You've successfully withdrawn:`, r);\n      showAlert('系统提示', r.info);\n      setUpdate(u => u + 1);\n      setStatus(1);\n    }, e => {\n      console.warn('Unable to withdraw:', e);\n      showAlert('系统提示', e);\n      setStatus(1);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-withdraw with-loader${!status ? ' loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2021,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"load-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2022,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2023,\n      columnNumber: 4\n    }\n  }, \"\\u63D0\\u6B3E\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2024,\n      columnNumber: 4\n    }\n  }, message.message ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `message ${message.className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2025,\n      columnNumber: 25\n    }\n  }, message.message) : null, fields.map((f, i) => f.id === 'debit_bank' ? /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"form-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2028,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2029,\n      columnNumber: 7\n    }\n  }, f.label), /*#__PURE__*/React.createElement(UISelect, {\n    value: form.debit_bank,\n    options: cards,\n    placeholder: f.placeholder,\n    onSelect: option => {\n      setForm(f => ({ ...f,\n        debit_bank: option\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2030,\n      columnNumber: 7\n    }\n  })) : /*#__PURE__*/React.createElement(FormField, {\n    key: i,\n    field: {\n      label: f.label,\n      placeholder: f.placeholder\n    },\n    input: { ...f,\n      name: f.id,\n      value: form[f.id],\n      onChange\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2042,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2056,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button-stylized\",\n    onClick: withdraw,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2057,\n      columnNumber: 5\n    }\n  }, \"\\u63D0\\u4EA4\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"withdraw-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2059,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Withdraws, {\n    update: update,\n    alert: {\n      showAlert,\n      hideAlert\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2060,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(UIAlertSA, Object.assign({}, alert, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2062,\n      columnNumber: 4\n    }\n  })));\n}\n\nfunction SubNav(props) {\n  const {\n    userAuth\n  } = useContext(User.Context);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sub-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2073,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sub-nav--user-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2074,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2075,\n      columnNumber: 5\n    }\n  }, userAuth.data.account), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-balance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2076,\n      columnNumber: 5\n    }\n  }, \"\\u94B1\\u5305: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2076,\n      columnNumber: 37\n    }\n  }, userAuth.data.balance), \" \\u5143\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sub-nav--tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2078,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(UITabs, {\n    tabs: [{\n      index: 'transfer',\n      name: '转账钱包'\n    }, {\n      index: 'personal',\n      name: '个人资料'\n    }, {\n      index: 'password',\n      name: '安全中心'\n    }, {\n      index: 'payment',\n      name: '设置银行卡'\n    }, {\n      index: 'betting-history',\n      name: '投注历史'\n    }],\n    tab: props.tab,\n    onSet: props.onSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2079,\n      columnNumber: 5\n    }\n  })));\n}\n\nfunction Dashboard() {\n  const history = useHistory();\n  const [tab, setTab] = useState(useParams().tab);\n  const auth = getAuthKey();\n  const {\n    account\n  } = User.read();\n  const {\n    search\n  } = useLocation();\n\n  if (search === \"?a=1\") {\n    window.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`, '_blank');\n  }\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    document.body.classList.add('dashboard-page');\n    return () => document.body.classList.remove('dashboard-page');\n  }, []);\n  useEffect(() => {\n    if (tab === \"deposit\") {\n      window.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`, '_blank');\n    }\n\n    history.push(`/dashboard/${tab}`);\n  }, [account, auth, tab, history]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2126,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"decor-n0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2127,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"decor-n1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2128,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-wrap dashboard-sub-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2129,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(SubNav, {\n    tab: tab,\n    onSet: setTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2130,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2132,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2134,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(UITabs, {\n    tabs: [{\n      index: 'deposit',\n      name: '存款'\n    }, {\n      index: 'transactions',\n      name: '账目'\n    }, {\n      index: 'withdraw',\n      name: '提款'\n    }],\n    tab: tab,\n    onSet: setTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2135,\n      columnNumber: 7\n    }\n  })), tab === 'deposit' ? /*#__PURE__*/React.createElement(DashboardDeposit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2141,\n      columnNumber: 27\n    }\n  }) : null, tab === 'transactions' ? /*#__PURE__*/React.createElement(DashboardTransactions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2142,\n      columnNumber: 32\n    }\n  }) : null, tab === 'transfer' ? /*#__PURE__*/React.createElement(DashboardTransfer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2143,\n      columnNumber: 28\n    }\n  }) : null, tab === 'personal' ? /*#__PURE__*/React.createElement(DashboardPersonal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2144,\n      columnNumber: 28\n    }\n  }) : null, tab === 'password' ? /*#__PURE__*/React.createElement(DashboardPassword, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2145,\n      columnNumber: 28\n    }\n  }) : null, tab === 'payment' ? /*#__PURE__*/React.createElement(DashboardPayment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2146,\n      columnNumber: 27\n    }\n  }) : null, tab === 'betting-history' ? /*#__PURE__*/React.createElement(DashboardBettingHistory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2147,\n      columnNumber: 35\n    }\n  }) : null, tab === 'withdraw' ? /*#__PURE__*/React.createElement(DashboardWithdraw, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2148,\n      columnNumber: 28\n    }\n  }) : null)));\n}\n\nexport default withAuth(Dashboard, 1);","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/view/Dashboard.js"],"names":["React","useState","useEffect","useContext","useMemo","useParams","useLocation","useHistory","cx","moment","DatePicker","withAuth","toDate","getAuthKey","User","Game","Card","Transaction","Service","UITabs","UISelect","Icon","FormField","UIAlertSA","useQuery","URLSearchParams","search","DashboardTransfer","userAuth","setUserAuthFN","Context","balances","setBalances","status","update","list","from","to","map","balancesFill","setBalancesFill","wallet","games","form","setForm","amount","overlay","b","read","then","_balances","filter","error","game","name","balance","unshift","data","forEach","id","f","swapGames","_to","_from","split","_d1","_d2","bf","_updateBalances","session","promise","r","info","updateBalances","transferToWallet","e","console","warn","selectGame","dist","option","v","d","transfer","isNaN","_getMap","n","target","value","DashboardPersonal","_dateParse","date","js","_parsed","match","_dd","Date","getFullYear","getMonth","getDate","year","month","day","_date","user","setStatus","email","realName","birthday","number","telephone","qq","wechat","subform","setSubform","message","setMessage","className","source","fields","field","label","input","type","placeholder","notify","state","onChange","_dateFormat","_year","_month","_day","shouldUpdate","i","realname","phone","_sf","subtract","disabled","PasswordRegular","password","password_new","password_newok","updatePassword","DashboardPassword","s","DashboardPayment","banks","setUpdate","cards","setCards","req","log","is_aborted","cancel","bank_type","bank_province","bank_city","bank_addr","bank_no","submit","create","u","length","card","debit_bank","DashboardTransactions","query","history","loading","setLoading","setType","get","range","setRange","customI","setCustomI","customRange","setCustomRange","overlayShown","setOverlay","transactions","setTransactions","transactionsFiltered","setTransactionsFiltered","record_type","_transactions","t","timestamp","requestTime","endTime","add_date","_rangeMap","today","startOf","unix","endOf","yesterday","week","custom","_tab","includes","setTypeHandle","push","setRangeHandle","applyCustomRange","TypeButton","current","transaction","bankInfo","payType","platName","tranStatus","game_id","money","ratio","index","DashboardDeposit","auth","account","noback","replace","window","open","goBack","DashboardBettingHistory","setGame","setHistory","activeItem","setActiveItem","Filter","bti","created_ts","creat_date","win","raw","sub","bet","line_type_name","bet_type_name","branch_name","game_board","im","creat_time","hometeamname","awayteamname","bettype","eventname","update_time","ag","created_time","game_name","_setGame","betting_key","getBettingHistory","item","param","Withdraws","alert","withdraws","setWithdraws","fetch","ts","__withdraws","UI","w","withdrawCancel","ws","showAlert","toggle","shown","_withdraws","withdraw","cardNumber","verifyComment","DashboardWithdraw","cardsMap","setCardsMap","_cardsMap","_cards","c","setAlert","title","onClose","hideAlert","a","_amount","_form","SubNav","props","tab","onSet","Dashboard","setTab","scrollTo","document","body","classList","add","remove"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useMemo } from 'react';\r\nimport { useParams, useLocation, useHistory } from 'react-router-dom';\r\nimport cx from 'classnames';\r\n\r\nimport * as moment from 'moment';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport { withAuth, toDate, getAuthKey } from '../util/';\r\nimport { User, Game, Card, Transaction as Service } from '../service/';\r\nimport { UITabs, UISelect, Icon, FormField } from '../component/';\r\nimport { UIAlertSA } from '../pwa/component/';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport '../assets/scss/Dashboard.scss';\r\n\r\nfunction useQuery () {\r\n\r\n\treturn new URLSearchParams(useLocation().search);\r\n\r\n}\r\n\r\nfunction DashboardTransfer () {\r\n\r\n\tconst { userAuth, setUserAuthFN } = useContext(User.Context);\r\n\r\n\tconst [ balances, setBalances ] = useState({\r\n\t\tstatus: 0,\r\n\t\tupdate: 0,\r\n\t\tlist: [],\r\n\t\tfrom: [],\r\n\t\tto: [],\r\n\t\tmap: {},\r\n\t});\r\n\r\n\tconst [ balancesFill, setBalancesFill ] = useState({\r\n\t\twallet: [],\r\n\t\tgames: [],\r\n\t});\r\n\r\n\tconst [ form, setForm ] = useState({\r\n\t\tfrom: null,\r\n\t\tto: null,\r\n\t\tamount: '',\r\n\t\toverlay: false,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tsetBalances(b => ({\r\n\t\t\t...b,\r\n\t\t\tstatus: 0,\r\n\t\t\tlist: [],\r\n\t\t\tmap: {},\r\n\t\t}));\r\n\r\n\t\tGame.balances({\r\n\t\t\t...User.read(),\r\n\t\t}).then(_balances => {\r\n\r\n\t\t\tconst list = _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`);\r\n\t\t\t\t\t\tlist.unshift(`中央钱包: ${userAuth.data.balance} ¥`);\r\n\r\n\t\t\tsetBalancesFill({\r\n\t\t\t\twallet: [ `中央钱包: ${userAuth.data.balance} ¥` ],\r\n\t\t\t\tgames: _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`),\r\n\t\t\t});\r\n\r\n\t\t\tconst map = {};\r\n\r\n\t\t\t_balances.filter(b => !b.error).forEach(b => {\r\n\t\t\t\tmap[b.game.name] = b;\r\n\t\t\t});\r\n\r\n\t\t\tmap['中央钱包'] = {\r\n\t\t\t\tgame: {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tname: 'wallet',\r\n\t\t\t\t},\r\n\t\t\t\twallet: true,\r\n\t\t\t\tbalance: userAuth.data.balance,\r\n\t\t\t};\r\n\r\n\t\t\tsetForm(f => ({\r\n\t\t\t\t...f,\r\n\t\t\t\tfrom: list[0],\r\n\t\t\t\tto: list[1],\r\n\t\t\t}));\r\n\r\n\t\t\tsetBalances(b => ({\r\n\t\t\t\t...b,\r\n\t\t\t\tstatus: 1,\r\n\t\t\t\tlist,\r\n\t\t\t\tfrom: list,\r\n\t\t\t\tto: _balances.filter(b => !b.error).map(b => `${b.game.name}: ${b.balance} ¥`),\r\n\t\t\t\tmap,\r\n\t\t\t}));\r\n\r\n\t\t});\r\n\r\n\t}, [ balances.update, userAuth.data.balance ]);\r\n\r\n\tconst swapGames = () => {\r\n\r\n\t\tconst [ _to, _from ] = [ form.from, form.to ];\r\n\r\n\t\tlet from = (_from || '').split(': ')[0];\r\n\t\tlet to = (_to || '').split(': ')[0];\r\n\r\n\t\tconst _d1 = balances.map[from].wallet ? 'games' : 'wallet';\r\n\t\tconst _d2 = balances.map[to].wallet ? 'games' : 'wallet';\r\n\r\n\t\tfrom = `${from}: ${balances.map[from].balance} ¥`;\r\n\t\tto = `${to}: ${balances.map[to].balance} ¥`;\r\n\r\n\t\tsetBalances(b => ({\r\n\t\t\t...b,\r\n\t\t\tfrom: balancesFill[_d2],\r\n\t\t\tto: balancesFill[_d1],\r\n\t\t}));\r\n\r\n\t\tsetForm(bf => ({\r\n\t\t\t...bf,\r\n\t\t\tfrom,\r\n\t\t\tto\r\n\t\t}));\r\n\r\n\t}\r\n\r\n\tconst _updateBalances = () => {\r\n\r\n\t\tsetBalances(b => ({\r\n\t\t\t...b,\r\n\t\t\tstatus: 1,\r\n\t\t}));\r\n\r\n\t\tUser.session({\r\n\t\t\t...User.read()\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tsetUserAuthFN(1, r.info);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tconst updateBalances = () => {\r\n\r\n\t\tsetBalances(b => ({\r\n\t\t\t...b,\r\n\t\t\tstatus: 0,\r\n\t\t}));\r\n\r\n\t\tGame.transferToWallet().promise.then(r => {\r\n\r\n\t\t\tsetForm(f => ({\r\n\t\t\t\t...f,\r\n\t\t\t\toverlay: true,\r\n\t\t\t}));\r\n\r\n\t\t\tsetBalances(b => ({ ...b, update: b.update + 1 }));\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn(e);\r\n\r\n\t\t\tsetBalances(b => ({\r\n\t\t\t\t...b,\r\n\t\t\t\tstatus: 1,\r\n\t\t\t}));\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tconst selectGame = (dist, option) => {\r\n\r\n\t\tif (dist === 'from') {\r\n\r\n\t\t\tconst v = (option || '').split(': ')[0];\r\n\t\t\tconst d = balances.map[v].wallet ? 'games' : 'wallet';\r\n\r\n\t\t\tsetBalances(b => ({\r\n\t\t\t\t...b,\r\n\t\t\t\tto: balancesFill[d]\r\n\t\t\t}));\r\n\r\n\t\t\tsetForm(f => ({\r\n\t\t\t\t...f,\r\n\t\t\t\tto: balancesFill[d][0]\r\n\t\t\t}));\r\n\r\n\t\t}\r\n\r\n\t\tsetForm(f => ({\r\n\t\t\t...f,\r\n\t\t\t[dist]: option,\r\n\t\t}));\r\n\r\n\t}\r\n\r\n\tconst transfer = () => {\r\n\r\n\t\tif (!form.amount || isNaN(+ form.amount)) {\r\n\t\t\treturn void console.warn('[transfer] No amount');\r\n\t\t}\r\n\r\n\t\tconst _getMap = n => balances.map[n.split(': ')[0]] || null;\r\n\r\n\t\tconst _from = _getMap(form.from);\r\n\t\tconst _to = _getMap(form.to);\r\n\r\n\t\tif (_from.game.id === _to.game.id) {\r\n\t\t\treturn void console.warn('[transfer] Same game');\r\n\t\t}\r\n\r\n\t\tif (_from.balance === 0) {\r\n\t\t\treturn void console.warn('[transfer] Zero balance');\r\n\t\t}\r\n\r\n\t\tif (_from.balance < (+ form.amount)) {\r\n\t\t\treturn void console.warn('[transfer] Not enough game balance');\r\n\t\t}\r\n\r\n\t\tconsole.info(`You're transfering ${form.amount} ¥ from ${_from.game.name} to ${_to.game.name}`);\r\n\r\n\t\tsetBalances(b => ({\r\n\t\t\t...b,\r\n\t\t\tstatus: 0,\r\n\t\t}));\r\n\r\n\t\tGame.transfer({\r\n\t\t\t...User.read(),\r\n\t\t\tamount: + form.amount,\r\n\t\t\tfrom: _from.game.id,\r\n\t\t\tto: _to.game.id,\r\n\t\t}).then(r => {\r\n\r\n\t\t\tconsole.info(`You have successfully transferred ${form.amount} ¥ from ${_from.game.name} to ${_to.game.name}: ${r.info}`);\r\n\r\n\t\t\tsetBalances(b => ({\r\n\t\t\t\t...b,\r\n\t\t\t\tstatus: 1,\r\n\t\t\t}));\r\n\r\n\t\t\tsetForm({\r\n\t\t\t\tfrom: null,\r\n\t\t\t\tto: null,\r\n\t\t\t\tamount: '',\r\n\t\t\t\toverlay: true,\r\n\t\t\t});\r\n\r\n\t\t\t// updateBalances();\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.error(e);\r\n\r\n\t\t\tsetBalances(b => ({\r\n\t\t\t\t...b,\r\n\t\t\t\tstatus: -1,\r\n\t\t\t}));\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`transfer with-loader${balances.status === 0 ? ' loading' : ''}`}>\r\n\t\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t\t<div className=\"transfer-content\">\r\n\t\t\t\t\t<div className=\"transfer-head\">\r\n\t\t\t\t\t\t<div className=\"transfer-title\">\r\n\t\t\t\t\t\t\t<h2>转账</h2>\r\n\t\t\t\t\t\t\t<p>场馆钱包之间不可以互转。当您开启免转钱包时，每个场馆无需转账即可畅玩。</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"transfer-refresh\">\r\n\t\t\t\t\t\t\t<button onClick={updateBalances}>\r\n\t\t\t\t\t\t\t\t<Icon name=\"refresh\" />\r\n\t\t\t\t\t\t\t\t<span>刷新 一键回收</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"transfer-form\">\r\n\t\t\t\t\t\t<div className=\"transfer-form--item dists\">\r\n\t\t\t\t\t\t\t<div className=\"transform-field\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-field\">\r\n\t\t\t\t\t\t\t\t\t<label>推出</label>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-field--wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<UISelect\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.from}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={balances.from}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"推出\"\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={option => selectGame('from', option)} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"transform-switch\">\r\n\t\t\t\t\t\t\t\t<button onClick={swapGames}>\r\n\t\t\t\t\t\t\t\t\t<Icon name=\"switch\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"transform-field\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-field\">\r\n\t\t\t\t\t\t\t\t\t<label>进入</label>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-field--wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<UISelect\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={form.to}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={balances.to}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"进入\"\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={option => selectGame('to', option)} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"transfer-form--item\">\r\n\t\t\t\t\t\t\t<div className=\"form-field\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"amount\">金额</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"金额\"\r\n\t\t\t\t\t\t\t\t\tvalue={form.amount}\r\n\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\tconst amount = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetForm(f => ({ ...f, amount }));\r\n\t\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"transfer-form--item\">\r\n\t\t\t\t\t\t\t<button className=\"button-stylized\" onClick={transfer}>确定</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"transfer-body\">\r\n\t\t\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t\t\t<h3>体育博彩</h3>\r\n\t\t\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item BTI体育\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['BTI体育']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item IM体育\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['IM体育']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item 沙巴体育\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['沙巴体育']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t\t\t<h3>真人娱乐场</h3>\r\n\t\t\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item AG真人\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['AG真人']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item EB真人\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['EB真人']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t\t\t<h3>电子竞技博彩</h3>\r\n\t\t\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item IM电竞\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['IM电竞']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t\t\t<h3>老虎机游戏</h3>\r\n\t\t\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item CQ电子\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['CQ电子']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item PT电子\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['PT电子']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item MG电子\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['MG电子']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t\t\t<h3>象棋游戏</h3>\r\n\t\t\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t\t\t<div className=\"games-list--item 开元棋牌\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"balance\">余额: <span>{balances.map['开元棋牌']?.balance || 0}</span> 元</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`transfer-overlay${form.overlay ? ' shown' : ''}`}>\r\n\t\t\t\t<div className=\"transfer-overlay--sublayer\">\r\n\t\t\t\t\t<div className=\"transfer-overlay--layer\">\r\n\t\t\t\t\t\t<div className=\"layer-head\">\r\n\t\t\t\t\t\t\t<h2>提示</h2>\r\n\t\t\t\t\t\t\t<button className=\"close\" onClick={e => {\r\n\r\n\t\t\t\t\t\t\t\tsetForm(f => ({ ...f, overlay: false }));\r\n\r\n\t\t\t\t\t\t\t\t_updateBalances();\r\n\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<Icon name=\"close-circle-sharp\" />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"layer-body\">\r\n\t\t\t\t\t\t\t<p>转移成功!</p>\r\n\t\t\t\t\t\t\t<div className=\"layer-button\">\r\n\t\t\t\t\t\t\t\t<button className=\"button-stylized\" onClick={e => {\r\n\r\n\t\t\t\t\t\t\t\t\tsetForm(f => ({ ...f, overlay: false }));\r\n\r\n\t\t\t\t\t\t\t\t\t_updateBalances();\r\n\r\n\t\t\t\t\t\t\t\t}}>OK</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardPersonal () {\r\n\r\n\tconst _dateParse = (date, js) => {\r\n\r\n\t\tconst _parsed = (date || '').match(/([\\d]{4})年([\\d]{1,2})月([\\d]{1,2})日/);\r\n\r\n\t\tif (!_parsed) {\r\n\r\n\t\t\tif (js) {\r\n\t\t\t\tconst _dd = new Date();\r\n\t\t\t\treturn new Date(_dd.getFullYear() - 18, _dd.getMonth(), _dd.getDate());\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tyear: null,\r\n\t\t\t\tmonth: null,\r\n\t\t\t\tday: null,\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tconst _date = {\r\n\t\t\tyear: + _parsed[1],\r\n\t\t\tmonth: + _parsed[2],\r\n\t\t\tday: + _parsed[3],\r\n\t\t};\r\n\r\n\t\tif (js) {\r\n\t\t\treturn new Date(_date.year, _date.month - 1, _date.day);\r\n\t\t}\r\n\r\n\t\treturn _date;\r\n\r\n\t}\r\n\r\n\tconst { userAuth: { data: user }, setUserAuthFN } = useContext(User.Context);\r\n\r\n\tconst [ status, setStatus ] = useState(1);\r\n\r\n\tconst [ form, setForm ] = useState({\r\n\t\temail: user.email || '',\r\n\t\tname: user.realName || '',\r\n\t\tbirthday: _dateParse(user.birthday, true),\r\n\t\tnumber: user.telephone || '',\r\n\t\tqq: user.qq || '',\r\n\t\twechat: user.wechat || '',\r\n\t});\r\n\r\n\tconst [ subform, setSubform ] = useState({\r\n\t\temail: !!user.email,\r\n\t\tname: !!user.realName,\r\n\t\tbirthday: !!user.birthday,\r\n\t\tnumber: !!user.telephone,\r\n\t\tqq: !!user.qq,\r\n\t});\r\n\r\n\tconst [ message, setMessage ] = useState({\r\n\t\tclassName: null,\r\n\t\tsource: null,\r\n\t\tmessage: null,\r\n\t});\r\n\r\n\tconst fields = [\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '邮箱',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'email',\r\n\t\t\t\tname: 'email',\r\n\t\t\t\ttype: 'email',\r\n\t\t\t\tplaceholder: '邮箱',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '真实姓名',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'name',\r\n\t\t\t\tname: 'name',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tplaceholder: '真实姓名',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '出生年月',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'birthday',\r\n\t\t\t\tname: 'birthday',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tplaceholder: '出生年月',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '手机号',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'number',\r\n\t\t\t\tname: 'number',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tplaceholder: '手机号',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: 'QQ',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'qq',\r\n\t\t\t\tname: 'qq',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tplaceholder: 'QQ',\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconst notify = (state, source, message) => {\r\n\r\n\t\tsetMessage({\r\n\t\t\tclassName: state ? 'valid' : 'invalid',\r\n\t\t\tsource,\r\n\t\t\tmessage,\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tconst onChange = e => {\r\n\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tsetForm(f => ({\r\n\t\t\t...f,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\r\n\r\n\t}\r\n\r\n\tconst update = () => {\r\n\r\n\t\tconst _dateFormat = (date) => {\r\n\t\t\tconst _year = date.getFullYear();\r\n\t\t\tconst _month = date.getMonth() + 1;\r\n\t\t\tconst _day = date.getDate();\r\n\t\t\treturn `${_year}年${_month}月${_day}日`;\r\n\t\t}\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\tlet shouldUpdate = false;\r\n\t\tfor (const i in subform) {\r\n\t\t\tif (!subform[i]) {\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!shouldUpdate) {\r\n\t\t\tsetStatus(1);\r\n\t\t\treturn void notify(false, '', '联系CS更改个人信息');\r\n\t\t}\r\n\r\n\t\tconsole.info('You\\'re updating profile information:', form);\r\n\r\n\t\tUser.update({\r\n\t\t\t...User.read(),\r\n\t\t\t...form,\r\n\t\t\tbirthday: _dateFormat(form.birthday),\r\n\t\t\trealname: form.name,\r\n\t\t\tphone: form.number,\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tconsole.info('✅ You have successfully updated profile information:', r.info);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t\tnotify(true, 'password', r.info);\r\n\r\n\t\t\tconst _sf = {};\r\n\r\n\t\t\tfor (const i in fields) {\r\n\t\t\t\tconst f = fields[i];\r\n\t\t\t\t_sf[f.input.name] = !!form[f.input.name];\r\n\t\t\t}\r\n\r\n\t\t\tsetSubform(_sf);\r\n\r\n\t\t\tUser.session({\r\n\t\t\t\t...User.read()\r\n\t\t\t}).promise.then(r => setUserAuthFN(1, r.info));\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn('Unable to update profile information:', e);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`dashboard-personal with-loader${!status ? ' loading' : ''}`}>\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t<h2>个人资料</h2>\r\n\t\t\t{message.message ? (<div className={`message ${message.className}`}>{message.message}</div>) : null}\r\n\t\t\t<div className=\"fields\">\r\n\t\t\t\t{fields.map((f, i) => (\r\n\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t{f.input.id === 'birthday' ? (\r\n\t\t\t\t\t\t<div className=\"form-field\">\r\n\t\t\t\t\t\t\t<label htmlFor={f.input.id}>{f.field.label}</label>\r\n\t\t\t\t\t\t\t<div className=\"form-field--input-wrap with-arrow\">\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tid={f.input.id}\r\n\t\t\t\t\t\t\t\t\tclassName=\"input-like\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={f.input.placeholder}\r\n\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy年M月d日\"\r\n\t\t\t\t\t\t\t\t\tmaxDate={moment().subtract(18, 'years').toDate()}\r\n\t\t\t\t\t\t\t\t\tselected={form[f.input.name]}\r\n\t\t\t\t\t\t\t\t\tdisabled={subform[f.input.name]}\r\n\t\t\t\t\t\t\t\t\tonChange={d => setForm(f => ({ ...f, birthday: d, }))} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\tfield={f.field}\r\n\t\t\t\t\t\t\tinput={{\r\n\t\t\t\t\t\t\t\t...f.input,\r\n\t\t\t\t\t\t\t\tonChange,\r\n\t\t\t\t\t\t\t\tvalue: form[f.input.name],\r\n\t\t\t\t\t\t\t\tdisabled: subform[f.input.name],\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"submit\">\r\n\t\t\t\t<button className=\"button-stylized\" onClick={update}>保存</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nconst PasswordRegular = ({ setStatus }) => {\r\n\r\n\tconst [ form, setForm ] = useState({\r\n\t\tpassword: '',\r\n\t\tpassword_new: '',\r\n\t\tpassword_newok: '',\r\n\t});\r\n\r\n\tconst [ message, setMessage ] = useState({\r\n\t\tclassName: null,\r\n\t\tsource: null,\r\n\t\tmessage: null,\r\n\t});\r\n\r\n\tconst fields = [\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '原密码',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'password',\r\n\t\t\t\tname: 'password',\r\n\t\t\t\ttype: 'password',\r\n\t\t\t\tplaceholder: '原密码',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '新密码',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'password_new',\r\n\t\t\t\tname: 'password_new',\r\n\t\t\t\ttype: 'password',\r\n\t\t\t\tplaceholder: '新密码',\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: {\r\n\t\t\t\tlabel: '验证新密码',\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tid: 'password_newok',\r\n\t\t\t\tname: 'password_newok',\r\n\t\t\t\ttype: 'password',\r\n\t\t\t\tplaceholder: '验证新密码',\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconst notify = (state, source, message) => {\r\n\r\n\t\tsetMessage({\r\n\t\t\tclassName: state ? 'valid' : 'invalid',\r\n\t\t\tsource,\r\n\t\t\tmessage,\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tconst onChange = e => {\r\n\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tif (message.message && message.source === name) {\r\n\t\t\tsetMessage({\r\n\t\t\t\tclassName: null,\r\n\t\t\t\tsource: null,\r\n\t\t\t\tmessage: null,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetForm(f => ({\r\n\t\t\t...f,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\r\n\t}\r\n\r\n\tconst update = () => {\r\n\r\n\t\tif (!form.password) {\r\n\t\t\treturn void notify(false, 'password', '未输入当前密码!');\r\n\t\t}\r\n\r\n\t\tif (!form.password_new) {\r\n\t\t\treturn void notify(false, 'password_new', '未输入新密码!');\r\n\t\t}\r\n\r\n\t\tif (form.password_new !== form.password_newok) {\r\n\t\t\treturn void notify(false, 'password_new', '输入的密码不匹配!');\r\n\t\t}\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\tconsole.info('You\\'re updating account password:', form);\r\n\r\n\t\tUser.updatePassword({\r\n\t\t\t...User.read(),\r\n\t\t\t...form,\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tconsole.info('✅ You have successfully updated account password:', r.info);\r\n\r\n\t\t\tnotify(true, 'password', r.info);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn('Unable to update account password:', e);\r\n\r\n\t\t\tnotify(false, 'password', e);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"password-section regular\">\r\n\t\t\t<h2>修改登录密码</h2>\r\n\t\t\t<div className=\"fields\">\r\n\t\t\t\t{message.message ? (<div className={`message ${message.className}`}>{message.message}</div>) : null}\r\n\t\t\t\t{fields.map((f, i) => (\r\n\t\t\t\t\t<FormField\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tfield={f.field}\r\n\t\t\t\t\t\tinput={{\r\n\t\t\t\t\t\t\t...f.input,\r\n\t\t\t\t\t\t\tonChange,\r\n\t\t\t\t\t\t}} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"submit\">\r\n\t\t\t\t<button className=\"button-stylized\" onClick={update}>保存</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardPassword () {\r\n\r\n\tconst [ status, setStatus ] = useState(1);\r\n\r\n\treturn (\r\n\t\t<div className={`dashboard-password with-loader${!status ? ' loading' : ''}`}>\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t<PasswordRegular setStatus={s => setStatus(s)} />\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardPayment () {\r\n\r\n\tconst { userAuth } = useContext(User.Context);\r\n\r\n\tconst banks = [\r\n\t\t// '中国百银行',\r\n\t\t// '建设银行',\r\n\t\t// '度工商银行',\r\n\t\t// '中信银行',\r\n\t\t// '招商银行',\r\n\t\t// '广东发展银行',\r\n\t\t// '民生银行',\r\n\t\t// '农业银行',\r\n\t\t// '兴业银行',\r\n\t\t// '上海浦东发展银行',\r\n\t\t// '华夏知银行',\r\n\t\t// '交通银行',\r\n\t\t// '光大银道行',\r\n\t\t// '深圳发展银行',\r\n\t\t// '恒丰银行',\r\n\t\t// '渤海银行',\r\n\t\t'中国银行',\r\n\t\t'中国建设银行',\r\n\t\t'中国农业银行',\r\n\t\t'中国工商银行',\r\n\t\t'中国邮政储蓄银行',\r\n\t\t'招商银行',\r\n\t\t'交通银行',\r\n\t\t'中信银行',\r\n\t\t'平安银行',\r\n\t\t'中国光大银行',\r\n\t\t'上海浦东发展银行',\r\n\t\t'广发银行',\r\n\t\t'华夏银行',\r\n\t\t'兴业银行',\r\n\t\t'民生银行',\r\n\t];\r\n\r\n\tconst [ status, setStatus ] = useState(1);\r\n\r\n\tconst [ update, setUpdate ] = useState(0);\r\n\r\n\tconst [ cards, setCards ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst req = Card.read({\r\n\t\t\t...User.read()\r\n\t\t});\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\treq.promise.then(r => {\r\n\r\n\t\t\tconsole.log('Got cards:', r);\r\n\r\n\t\t\tsetCards(r.info);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tif (!e.is_aborted) {\r\n\r\n\t\t\t\tconsole.warn('Unable to get cards:', e);\r\n\r\n\t\t\t\tsetStatus(1);\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\treturn () => req.cancel();\r\n\r\n\t}, [ update ]);\r\n\r\n\tconst [ form, setForm ] = useState({\r\n\t\tbank_type: '中国银行',\r\n\t\tbank_province: '',\r\n\t\tbank_city: '',\r\n\t\trealname: userAuth.data.realName || '',\r\n\t\tbank_addr: '',\r\n\t\tbank_no: '',\r\n\t});\r\n\r\n\tconst fields = [\r\n\t\t{ id: 'bank_type', label: '开户银行', placeholder: '开户银行' },\r\n\t\t{ id: 'bank_province', label: '开户地区', placeholder: '开户地区' },\r\n\t\t{ id: 'bank_city', label: '开户支行', placeholder: '开户支行' },\r\n\t\t{ id: 'bank_addr', label: '开户支行', placeholder: '开户支行' },\r\n\t\t{ id: 'realname', label: '开户人姓名', placeholder: '开户人姓名' },\r\n\t\t{ id: 'bank_no', label: '银行卡号' },\r\n\t];\r\n\r\n\tconst onChange = e => {\r\n\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tsetForm(f => ({\r\n\t\t\t...f,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\r\n\t}\r\n\r\n\tconst submit = () => {\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\tCard.create({\r\n\t\t\t...User.read(),\r\n\t\t\t...form,\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tconsole.info('Successfully bound the card:', r);\r\n\r\n\t\t\tsetUpdate(u => u + 1);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.info('Unable to bind the card:', e);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`dashboard-payment with-loader${!status ? ' loading' : ''}`}>\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t{cards.length ? (\r\n\t\t\t<div className=\"cards-list\">\r\n\t\t\t\t<h2>设置银行卡</h2>\r\n\t\t\t\t<div className=\"cards-list--wrap\">\r\n\t\t\t\t\t{cards.map((card, i) => (\r\n\t\t\t\t\t<div key={i} className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-content\">\r\n\t\t\t\t\t\t\t<h4>{card.debit_bank}</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<div className=\"cards-form\">\r\n\t\t\t\t<h2>添加银行卡</h2>\r\n\t\t\t\t<div className=\"cards-form--wrap\">\r\n\t\t\t\t\t<div className=\"fields\">\r\n\t\t\t\t\t{fields.map((f, i) =>\r\n\t\t\t\t\t\tf.id === 'bank_type' ? (\r\n\t\t\t\t\t\t\t<div key={i} className=\"form-field\">\r\n\t\t\t\t\t\t\t\t<label>{f.label}</label>\r\n\t\t\t\t\t\t\t\t<UISelect\r\n\t\t\t\t\t\t\t\t\tvalue={form.bank_type}\r\n\t\t\t\t\t\t\t\t\toptions={banks}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"幵户银行\"\r\n\t\t\t\t\t\t\t\t\tonSelect={option => {\r\n\t\t\t\t\t\t\t\t\t\tsetForm(f => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...f,\r\n\t\t\t\t\t\t\t\t\t\t\tbank_type: option,\r\n\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<FormField\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tfield={{\r\n\t\t\t\t\t\t\t\t\tlabel: f.label,\r\n\t\t\t\t\t\t\t\t\tplaceholder: f.placeholder,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tinput={{\r\n\t\t\t\t\t\t\t\t\t...f,\r\n\t\t\t\t\t\t\t\t\tname: f.id,\r\n\t\t\t\t\t\t\t\t\tvalue: form[f.id], onChange,\r\n\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"submit\">\r\n\t\t\t\t\t\t<button className=\"button-stylized\" onClick={submit}>保存</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardTransactions () {\r\n\r\n\tconst query = useQuery();\r\n\tconst history = useHistory();\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ type, setType ] = useState(query.get('tab') || 'debit');\r\n\tconst [ range, setRange ] = useState('today');\r\n\r\n\tconst [ customI, setCustomI ] = useState(0);\r\n\tconst [ customRange, setCustomRange ] = useState({\r\n\t\tfrom: moment().subtract(30, 'days').toDate(),\r\n\t\tto: moment().toDate()\r\n\t});\r\n\r\n\tconst [ overlayShown, setOverlay ] = useState(false);\r\n\r\n\tconst [ transactions, setTransactions ] = useState([]);\r\n\tconst [ transactionsFiltered, setTransactionsFiltered ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst user = User.read();\r\n\r\n\t\tvar req = Service.read({\r\n\t\t\trecord_type: type,\r\n\t\t\t...user,\r\n\t\t});\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\tsetTransactions([]);\r\n\r\n\t\treq.promise.then(r => {\r\n\r\n\t\t\tconst _transactions = r.info.map(t => {\r\n\r\n\t\t\t\tt.timestamp = toDate(t.requestTime, true);\r\n\r\n\t\t\t\tif (t.endTime) {\r\n\t\t\t\t\tt.timestamp = toDate(t.endTime, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (t.add_date) {\r\n\t\t\t\t\tt.timestamp = toDate(t.add_date, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn t;\r\n\r\n\t\t\t});\r\n\r\n\t\t\tsetTransactions(_transactions);\r\n\r\n\t\t\tsetLoading(false);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tif (!e.is_aborted) {\r\n\r\n\t\t\t\tconsole.error('Unable to get transactions:', e);\r\n\r\n\t\t\t\tsetLoading(false);\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\treturn () => req.cancel();\r\n\r\n\t}, [ history, type ]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst _rangeMap = {\r\n\t\t\ttoday: () => {\r\n\t\t\t\tconst today = moment();\r\n\t\t\t\treturn [\r\n\t\t\t\t\ttoday.startOf('day').unix(),\r\n\t\t\t\t\ttoday.endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tyesterday: () => {\r\n\t\t\t\tconst yesterday = moment().subtract(1, 'days');\r\n\t\t\t\treturn [\r\n\t\t\t\t\tyesterday.startOf('day').unix(),\r\n\t\t\t\t\tyesterday.endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tweek: () => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment().subtract(1, 'weeks').startOf('day').unix(),\r\n\t\t\t\t\tmoment().endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tmonth: () => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment().subtract(30, 'days').startOf('day').unix(),\r\n\t\t\t\t\tmoment().endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tcustom: () => {\r\n\t\t\t\tlet { from, to } = customRange;\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment(from).startOf('day').unix(),\r\n\t\t\t\t\tmoment(to).endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst [ from, to ] = _rangeMap[range]();\r\n\r\n\t\tconst _transactions = transactions.filter(t => {\r\n\t\t\treturn t.timestamp >= from && t.timestamp < to;\r\n\t\t});\r\n\r\n\t\tsetTransactionsFiltered(_transactions);\r\n\r\n\t// eslint-disable-next-line\r\n\t}, [ range, customI, transactions ]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tlet _tab = query.get('tab');\r\n\r\n\t\tif (![ 'debit', 'deposit', 'transfer', 'washcode' ].includes(_tab)) {\r\n\t\t\t_tab = 'debit';\r\n\t\t}\r\n\r\n\t\tsetType(_tab);\r\n\r\n\t}, [ query, setType ]);\r\n\r\n\tconst setTypeHandle = type => {\r\n\r\n\t\thistory.push({ search: `?tab=${type}` });\r\n\r\n\t}\r\n\r\n\tconst setRangeHandle = range => {\r\n\r\n\t\tif (range === 'custom') {\r\n\t\t\treturn void setOverlay(true);\r\n\t\t}\r\n\r\n\t\tsetRange(range);\r\n\r\n\t}\r\n\r\n\tconst applyCustomRange = () => {\r\n\r\n\t\tsetOverlay(false);\r\n\r\n\t\tsetCustomI(customI + 1);\r\n\r\n\t\tsetRange('custom');\r\n\r\n\t}\r\n\r\n\tconst TypeButton = ({ type, current, name }) => (\r\n\t\t<button\r\n\t\t\tonClick={e => setTypeHandle(type)}\r\n\t\t\tclassName={`type-select--item${current === type ? ' active' : ''}`}>\r\n\t\t\t{name}\r\n\t\t</button>\r\n\t)\r\n\r\n\tconst Transaction = ({ type, transaction }) => (\r\n\t\t<div className=\"transaction\">\r\n\t\t\t{type === 'debit' ? (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p className=\"date\">{transaction.requestTime}</p>\r\n\t\t\t\t\t<p className=\"dist\">{transaction.bankInfo}</p>\r\n\t\t\t\t\t<p className=\"amount\">{transaction.amount}元</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`status stat-${transaction.status}`}>\r\n\t\t\t\t\t<span>{transaction.status}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t{type === 'deposit' ? (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p className=\"date\">{transaction.endTime}</p>\r\n\t\t\t\t\t<p className=\"dist\">{transaction.payType}</p>\r\n\t\t\t\t\t<p className=\"amount\">{transaction.amount}元</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`status stat-${transaction.status}`}>\r\n\t\t\t\t\t<span>{transaction.status}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t{type === 'transfer' ? (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p className=\"date\">{transaction.requestTime}</p>\r\n\t\t\t\t\t<p className=\"dist\">{transaction.platName}</p>\r\n\t\t\t\t\t<p className=\"amount\">{transaction.amount}元</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`status stat-${transaction.tranStatus}`}>\r\n\t\t\t\t\t<span>{transaction.tranStatus}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t{type === 'washcode' ? (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p className=\"date\">{transaction.add_date}</p>\r\n\t\t\t\t\t<p className=\"dist\">{transaction.game_id}</p>\r\n\t\t\t\t\t<p className=\"amount\">{transaction.money}元</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`status stat-ratio`}>\r\n\t\t\t\t\t<span>{transaction.ratio}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={`transactions with-loader${loading ? ' loading' : ''}`}>\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t<div className=\"transactions-wrap\">\r\n\t\t\t\t<div className=\"transactions-head\">\r\n\t\t\t\t\t<div className=\"transactions-type\">\r\n\t\t\t\t\t\t<div className=\"type-select\">\r\n\t\t\t\t\t\t\t<TypeButton current={type} type=\"deposit\" name=\"存款记录\" />\r\n\t\t\t\t\t\t\t{/*<TypeButton current={type} type=\"debit\" name=\"提款记录\" />*/}\r\n\t\t\t\t\t\t\t<TypeButton current={type} type=\"transfer\" name=\"转账记录\" />\r\n\t\t\t\t\t\t\t<TypeButton current={type} type=\"washcode\" name=\"反水记录\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"transactions-range\">\r\n\t\t\t\t\t\t<UITabs tabs={[\r\n\t\t\t\t\t\t\t{ index: 'today', name: '今天' },\r\n\t\t\t\t\t\t\t{ index: 'yesterday', name: '昨天' },\r\n\t\t\t\t\t\t\t{ index: 'week', name: '本周' },\r\n\t\t\t\t\t\t\t{ index: 'month', name: '本月' },\r\n\t\t\t\t\t\t\t{ index: 'custom', name: '自选' },\r\n\t\t\t\t\t\t]} tab={range} onSet={setRangeHandle} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"transactions-list\">\r\n\t\t\t\t{transactionsFiltered.map((transaction, i) => \r\n\t\t\t\t\t<Transaction type={type} key={i} transaction={transaction} />\r\n\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <div className={`transactions-overlay${overlayShown ? ' shown' : ''}`} onClick={e => setOverlay(false)}> */}\r\n\t\t\t<div className={`transactions-overlay${overlayShown ? ' shown' : ''}`}>\r\n\t\t\t\t<div className=\"transactions-overlay--inner\">\r\n\t\t\t\t\t<div className=\"transactions-overlay--wrap\">\r\n\t\t\t\t\t\t<div className=\"custom-range-form\">\r\n\t\t\t\t\t\t\t<h2>选择时间</h2>\r\n\t\t\t\t\t\t\t<div className=\"form-wrap\">\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"date-from\">开始日期</label>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tid=\"date-from\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始日期\"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\t\tselected={customRange.from}\r\n\t\t\t\t\t\t\t\t\t\tonChange={date => setCustomRange({ ...customRange, from: date, })} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"date-to\">结束日期</label>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tid=\"date-from\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始日期\"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\t\tselected={customRange.to}\r\n\t\t\t\t\t\t\t\t\t\tminDate={customRange.from}\r\n\t\t\t\t\t\t\t\t\t\tonChange={date => setCustomRange({ ...customRange, to: date, })} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-buttons\">\r\n\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={e => setOverlay(false)}>取消</button>\r\n\t\t\t\t\t\t\t\t<button className=\"update\" onClick={e => applyCustomRange()}>确认</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardDeposit () {\r\n\r\n\tconst auth = getAuthKey();\r\n\tconst { account } = User.read();\r\n\r\n\tconst history = useHistory();\r\n\tconst { search } = useLocation();\r\n\tconst [ noback ] = useState(search.includes('a=1'));\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tif (noback) {\r\n\t\t\thistory.replace({ search: '' });\r\n\t\t}\r\n\r\n\t}, [ history, noback ]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconsole.log(noback);\r\n\r\n\t\tif (noback) {\r\n\t\t\twindow.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`,'_blank')\r\n\t\t} else {\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\r\n\t}, [ auth, account, noback, history ]);\r\n\r\n\treturn null;\r\n\r\n\t// return (\r\n\t// \t<div className=\"deposit\">\r\n\t// \t\t<iframe \r\n\t// \t\t\tstyle={{ height: 800, overflow: 'auto' }}\r\n\t// \t\t\ttitle={`IFRAME-N${auth}`}\r\n\t// \t\t\tsrc={`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`}>\r\n\t// \t\t</iframe>\r\n\t// \t</div>\r\n\t// );\r\n\r\n}\r\n\r\nfunction DashboardBettingHistory () {\r\n\r\n\tconst [ status, setStatus ] = useState(1);\r\n\r\n\tconst [ game, setGame ] = useState(null);\r\n\tconst [ history, setHistory ] = useState([]);\r\n\r\n\tconst [ activeItem, setActiveItem ] = useState(null);\r\n\r\n\tconst Filter = {\r\n\t\tbti (i) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcreated_ts: i.creat_date,\r\n\t\t\t\tname: '',\r\n\t\t\t\tamount: `${i.win}元`,\r\n\t\t\t\tstatus: (+ i.win) > 0,\r\n\t\t\t\traw: i,\r\n\t\t\t\tsub: [\r\n\t\t\t\t\t{ name: '投注金额', value: i.bet, },\r\n\t\t\t\t\t{ name: '赢/输', value: i.win, },\r\n\t\t\t\t\t{ name: '状态', value: i.status, },\r\n\t\t\t\t\t{ name: '结算状态', value: i.line_type_name, },\r\n\t\t\t\t\t{ name: '投注类型', value: i.bet_type_name, },\r\n\t\t\t\t\t{ name: '细节', value: i.branch_name, },\r\n\t\t\t\t\t{ name: '创立日期', value: i.creat_date, },\r\n\t\t\t\t\t{ name: '票据编号', value: i.game_board, },\r\n\t\t\t\t],\r\n\t\t\t};\r\n\r\n\t\t},\r\n\t\tim (i) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcreated_ts: i.creat_time,\r\n\t\t\t\tname: '',\r\n\t\t\t\tamount: `${i.win}元`,\r\n\t\t\t\tstatus: (+ i.win) > 0,\r\n\t\t\t\traw: i,\r\n\t\t\t\tsub: [\r\n\t\t\t\t\t{ name: '投注金额', value: i.bet },\r\n\t\t\t\t\t{ name: '赢/输', value: i.win },\r\n\t\t\t\t\t{ name: '主队', value: i.hometeamname },\r\n\t\t\t\t\t{ name: '客队', value: i.awayteamname },\r\n\t\t\t\t\t{ name: '投注类型', value: i.bettype },\r\n\t\t\t\t\t{ name: '活动名称', value: i.eventname },\r\n\t\t\t\t\t{ name: '更新时间', value: i.update_time },\r\n\t\t\t\t\t{ name: '票据编号', value: i.id },\r\n\t\t\t\t],\r\n\t\t\t};\r\n\r\n\t\t},\r\n\t\tag (i) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcreated_ts: i.created_time,\r\n\t\t\t\tname: '',\r\n\t\t\t\tamount: `${i.win}元`,\r\n\t\t\t\tstatus: (+ i.win) > 0,\r\n\t\t\t\traw: i,\r\n\t\t\t\tsub: [\r\n\t\t\t\t\t{ name: '游戏名称', value: i.game_name, },\r\n\t\t\t\t\t{ name: '投注金额', value: i.bet, },\r\n\t\t\t\t\t{ name: '赢/输', value: i.win, },\r\n\t\t\t\t\t{ name: '票据编号', value: i.game_board, },\r\n\t\t\t\t\t{ name: '创立日期', value: i.created_time, },\r\n\t\t\t\t],\r\n\t\t\t};\r\n\r\n\t\t},\r\n\t};\r\n\r\n\tconst _setGame = game => {\r\n\r\n\t\tif (!game.betting_key) {\r\n\t\t\tconsole.warn('No betting key provided for this game:', game);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetStatus(0);\r\n\t\tsetHistory([]);\r\n\r\n\t\tGame.getBettingHistory({\r\n\t\t\t...User.read(),\r\n\t\t\ttype: game.betting_key,\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tsetGame(game);\r\n\r\n\t\t\tconsole.log(r);\r\n\r\n\t\t\tconst history = r.info.list.map(Filter[game.betting_key]);\r\n\r\n\t\t\tsetHistory(history);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn('Unable to get betting history records:', e);\r\n\r\n\t\t\tsetHistory([]);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`dashboard-betting-history with-loader${!status ? ' loading' : ''}`}>\r\n\t\t\t{game ? (\r\n\t\t\t<button className=\"back-button\" onClick={() => { setGame(null); setActiveItem(null); }}>\r\n\t\t\t\t<Icon name=\"arrow-left\" />\r\n\t\t\t</button>\r\n\t\t\t) : null}\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t{game ? (\r\n\t\t\t<div className=\"game-history\">\r\n\t\t\t\t{history.map((item, i) => (\r\n\t\t\t\t<div className={`game-history--item${i === activeItem ? ' opened' : ''}`} key={i} onClick={() => setActiveItem((activeItem !== null ? null : i))}>\r\n\t\t\t\t\t<div className=\"game-history--item-wrap\">\r\n\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t<p className=\"content--item timestamp\">{item.created_ts}</p>\r\n\t\t\t\t\t\t\t<p className=\"content--item name\">{item.name}</p>\r\n\t\t\t\t\t\t\t<p className=\"content--item amount\">{item.amount}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={`status status--${item.status ? 'green' : 'red'}`}>\r\n\t\t\t\t\t\t\t<p>{item.status ? '赢得' : '失利'}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{i === activeItem ? (\r\n\t\t\t\t\t<div className=\"game-history--item-subwrap\">\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{item.sub.map((param, i) => (\r\n\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t<td>{param.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{param.value}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t<div className=\"games-list\">\r\n\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t<h3>体育博彩</h3>\r\n\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t<div className=\"games-list--item BTI体育\" onClick={e => _setGame({ betting_key: 'bti' })}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--item IM体育\" onClick={e => _setGame({ betting_key: 'im' })}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--item 沙巴体育\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t<h3>真人娱乐场</h3>\r\n\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t<div className=\"games-list--item AG真人\" onClick={e => _setGame({ betting_key: 'bti' })}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--item EB真人\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t<h3>电子竞技博彩</h3>\r\n\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t<div className=\"games-list--item IM电竞\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t<h3>老虎机游戏</h3>\r\n\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t<div className=\"games-list--item CQ电子\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--item PT电子\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"games-list--item MG电子\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"games-list--category\">\r\n\t\t\t\t\t<h3>象棋游戏</h3>\r\n\t\t\t\t\t<div className=\"games-list--items\">\r\n\t\t\t\t\t\t<div className=\"games-list--item 开元棋牌\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"logo\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nconst Withdraws = ({ update, alert }) => {\r\n\r\n\tconst [ withdraws, setWithdraws ] = useState({\r\n\t\tstatus: 0,\r\n\t\tlist: [],\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst fetch = async () => {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tconst r = await Service.read({\r\n\t\t\t\t\trecord_type: 'debit',\r\n\t\t\t\t\t...User.read(),\r\n\t\t\t\t}).promise;\r\n\r\n\t\t\t\tsetWithdraws({\r\n\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\tlist: r.info.map(t => ({ ...t, ts: toDate(t.requestTime, true) })),\r\n\t\t\t\t});\r\n\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t\tif (!e.is_aborted) {\r\n\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfetch();\r\n\r\n\t}, [ update ]);\r\n\r\n\tconst [ range, setRange ] = useState('today');\r\n\r\n\tconst [ customI, setCustomI ] = useState(0);\r\n\r\n\tconst [ customRange, setCustomRange ] = useState({\r\n\t\tfrom: moment().subtract(30, 'days').toDate(),\r\n\t\tto: moment().toDate()\r\n\t});\r\n\r\n\tconst [ overlayShown, setOverlay ] = useState(false);\r\n\r\n\tconst __withdraws = useMemo(() => {\r\n\r\n\t\tconst _rangeMap = {\r\n\t\t\ttoday: () => {\r\n\t\t\t\tconst today = moment();\r\n\t\t\t\treturn [\r\n\t\t\t\t\ttoday.startOf('day').unix(),\r\n\t\t\t\t\ttoday.endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tyesterday: () => {\r\n\t\t\t\tconst yesterday = moment().subtract(1, 'days');\r\n\t\t\t\treturn [\r\n\t\t\t\t\tyesterday.startOf('day').unix(),\r\n\t\t\t\t\tyesterday.endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tweek: () => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment().subtract(1, 'weeks').startOf('day').unix(),\r\n\t\t\t\t\tmoment().endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tmonth: () => {\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment().subtract(30, 'days').startOf('day').unix(),\r\n\t\t\t\t\tmoment().endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t\tcustom: () => {\r\n\t\t\t\tlet { from, to } = customRange;\r\n\t\t\t\treturn [\r\n\t\t\t\t\tmoment(from).startOf('day').unix(),\r\n\t\t\t\t\tmoment(to).endOf('day').unix()\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst [ from, to ] = _rangeMap[range]();\r\n\r\n\t\treturn withdraws.list.filter(t => t.ts >= from && t.ts < to);\r\n\r\n\t}, [ withdraws.list, customRange, range ]);\r\n\r\n\tconst UI = {\r\n\t\tasync cancel (w) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tconst r = await User.withdrawCancel({ id: w.id }).promise;\r\n\r\n\t\t\t\tconsole.info(r);\r\n\r\n\t\t\t\tsetWithdraws(ws => ({\r\n\t\t\t\t\t...ws,\r\n\t\t\t\t\tlist: ws.list.map(ws => ws.id === w.id ? { ...w, status: '失败' } : ws),\r\n\t\t\t\t}));\r\n\r\n\t\t\t\talert.showAlert('系统提示', r.info);\r\n\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t\tconsole.warn(e);\r\n\r\n\t\t\t\talert.showAlert('系统提示', e);\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\ttoggle (w) {\r\n\r\n\t\t\tsetWithdraws(ws => ({\r\n\t\t\t\t...ws,\r\n\t\t\t\tlist: ws.list.map(ws => ws.id === w.id ? { ...w, shown: !w.shown } : ws),\r\n\t\t\t}));\r\n\r\n\t\t},\r\n\t\tapplyCustomRange () {\r\n\r\n\t\t\tsetOverlay(false);\r\n\r\n\t\t\tsetCustomI(customI + 1);\r\n\r\n\t\t\tsetRange('custom');\r\n\r\n\t\t},\r\n\t};\r\n\r\n\tconst _withdraws = __withdraws.map((withdraw, i) => (\r\n\t\t<div\r\n\t\t\tkey={i}\r\n\t\t\tonClick={() => UI.toggle(withdraw)}\r\n\t\t\tclassName={cx('transaction-outer', { shown: withdraw.shown })}>\r\n\t\t\t<div className=\"transaction\">\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p className=\"dist\">{withdraw.cardNumber}</p>\r\n\t\t\t\t\t<p className=\"amount\">{withdraw.amount}元</p>\r\n\t\t\t\t\t<p className=\"date\">{withdraw.requestTime}</p>\r\n\t\t\t\t\t{withdraw.status === '未审核' ? (\r\n\t\t\t\t\t<button onClick={() => UI.cancel(withdraw)}>取消提款</button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`status stat-${withdraw.status}`}>\r\n\t\t\t\t\t<span>{withdraw.status}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"transaction-details\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>银行:</td>\r\n\t\t\t\t\t\t\t<td>{withdraw.status}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>金额:</td>\r\n\t\t\t\t\t\t\t<td>{withdraw.amount}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>时间:</td>\r\n\t\t\t\t\t\t\t<td>{withdraw.requestTime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t{withdraw.verifyComment ? (\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>备注:</td>\r\n\t\t\t\t\t\t\t<td>{withdraw.verifyComment}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"withdraws transactions-sa desktop\">\r\n\t\t\t<h1>提款记录</h1>\r\n\t\t\t<div className=\"transactions-range\">\r\n\t\t\t\t<UITabs\r\n\t\t\t\t\ttab={range}\r\n\t\t\t\t\tonSet={r => r !== 'custom' ? setRange(r) : setOverlay(true)}\r\n\t\t\t\t\ttabs={[\r\n\t\t\t\t\t\t{ index: 'today', name: '今天' },\r\n\t\t\t\t\t\t{ index: 'yesterday', name: '昨天' },\r\n\t\t\t\t\t\t{ index: 'week', name: '本周' },\r\n\t\t\t\t\t\t{ index: 'month', name: '本月' },\r\n\t\t\t\t\t\t{ index: 'custom', name: '自选' },\r\n\t\t\t\t\t]} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"transactions-list\">\r\n\t\t\t\t{_withdraws}\r\n\t\t\t</div>\r\n\t\t\t<div className={`transactions-overlay${overlayShown ? ' shown' : ''}`}>\r\n\t\t\t\t<div className=\"transactions-overlay--inner\">\r\n\t\t\t\t\t<div className=\"transactions-overlay--wrap\">\r\n\t\t\t\t\t\t<div className=\"custom-range-form\">\r\n\t\t\t\t\t\t\t<h2>选择时间</h2>\r\n\t\t\t\t\t\t\t<div className=\"form-wrap\">\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"date-from\">开始日期</label>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tid=\"date-from\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始日期\"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\t\tselected={customRange.from}\r\n\t\t\t\t\t\t\t\t\t\tonChange={date => setCustomRange({ ...customRange, from: date, })} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"date-to\">结束日期</label>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tid=\"date-from\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"开始日期\"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\t\tselected={customRange.to}\r\n\t\t\t\t\t\t\t\t\t\tminDate={customRange.from}\r\n\t\t\t\t\t\t\t\t\t\tonChange={date => setCustomRange({ ...customRange, to: date, })} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-buttons\">\r\n\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={e => setOverlay(false)}>取消</button>\r\n\t\t\t\t\t\t\t\t<button className=\"update\" onClick={e => UI.applyCustomRange()}>确认</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction DashboardWithdraw () {\r\n\r\n\tconst [ status, setStatus ] = useState(1);\r\n\r\n\tconst [ update, setUpdate ] = useState(0);\r\n\r\n\tconst [ cards, setCards ] = useState([]);\r\n\tconst [ cardsMap, setCardsMap ] = useState({});\r\n\r\n\tconst [ form, setForm ] = useState({\r\n\t\tdebit_bank: '',\r\n\t\tamount: '',\r\n\t});\r\n\r\n\tconst [ message, setMessage ] = useState({\r\n\t\tclassName: null,\r\n\t\tsource: null,\r\n\t\tmessage: null,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst req = Card.read({\r\n\t\t\t...User.read()\r\n\t\t});\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\treq.promise.then(r => {\r\n\r\n\t\t\tconsole.log('Got cards:', r);\r\n\r\n\t\t\tconst _cardsMap = {};\r\n\r\n\t\t\tconst _cards = r.info.map(c => {\r\n\r\n\t\t\t\tif (!_cardsMap[c.debit_bank]) {\r\n\t\t\t\t\t_cardsMap[c.debit_bank] = c.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn c.debit_bank;\r\n\r\n\t\t\t});\r\n\r\n\t\t\tsetCardsMap(_cardsMap);\r\n\r\n\t\t\tif (!_cards.length) {\r\n\t\t\t\t_cards.push('');\r\n\t\t\t}\r\n\r\n\t\t\tsetForm(f => ({\r\n\t\t\t\t...f,\r\n\t\t\t\tdebit_bank: _cards[0] || '',\r\n\t\t\t}));\r\n\r\n\t\t\tsetCards(_cards);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn('Unable to get cards:', e);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t\treturn () => req.cancel();\r\n\r\n\t}, []);\r\n\r\n\tconst fields = [\r\n\t\t{ id: 'debit_bank', label: '银行卡号', placeholder: '卡账户' },\r\n\t\t{ id: 'amount', label: '金额', placeholder: '最低100元' },\r\n\t];\r\n\r\n\tconst onChange = e => {\r\n\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tif (message.message && message.source === name) {\r\n\t\t\tsetMessage({\r\n\t\t\t\tclassName: null,\r\n\t\t\t\tsource: null,\r\n\t\t\t\tmessage: null,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetForm(f => ({\r\n\t\t\t...f,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\r\n\t}\r\n\r\n\tconst [ alert, setAlert ] = useState({\r\n\t\tshown: false,\r\n\t\ttitle: '',\r\n\t\tmessage: '',\r\n\t\tonClose: () => hideAlert(),\r\n\t});\r\n\r\n\tconst showAlert = (title, message) => {\r\n\r\n\t\tsetAlert(a => ({ ...a, shown: true, title, message }));\r\n\r\n\t}\r\n\r\n\tconst hideAlert = () => {\r\n\r\n\t\tsetAlert(a => ({ ...a, shown: false }));\r\n\r\n\t}\r\n\r\n\tconst withdraw = () => {\r\n\r\n\t\tconst { debit_bank, amount } = form;\r\n\r\n\t\tif (!debit_bank) {\r\n\t\t\treturn void showAlert('系统提示', '必须选择一张卡');\r\n\t\t}\r\n\r\n\t\tconst _amount = + amount;\r\n\r\n\t\tif (!_amount || isNaN(_amount)) {\r\n\t\t\treturn void showAlert('系统提示', '取款金额不能为空');\r\n\t\t}\r\n\r\n\t\tif (_amount < 100 || _amount > 60000) {\r\n\t\t\treturn void showAlert('系统提示', '取款金额小于最低取款限额');\r\n\t\t}\r\n\r\n\t\tconsole.info(`You're about to withdraw ${amount}¥`);\r\n\r\n\t\tsetStatus(0);\r\n\r\n\t\tconst _form = { ...form };\r\n\t\t\t\t\t_form.debit_bank = cardsMap[debit_bank] || '';\r\n\r\n\t\tUser.withdraw({\r\n\t\t\t...User.read(),\r\n\t\t\t..._form,\r\n\t\t}).promise.then(r => {\r\n\r\n\t\t\tconsole.log(`You've successfully withdrawn:`, r);\r\n\r\n\t\t\tshowAlert('系统提示', r.info);\r\n\r\n\t\t\tsetUpdate(u => u + 1);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t}, e => {\r\n\r\n\t\t\tconsole.warn('Unable to withdraw:', e);\r\n\r\n\t\t\tshowAlert('系统提示', e);\r\n\r\n\t\t\tsetStatus(1);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`dashboard-withdraw with-loader${!status ? ' loading' : ''}`}>\r\n\t\t\t<div className=\"load-spin\"></div>\r\n\t\t\t<h2>提款</h2>\r\n\t\t\t<div className=\"fields\">\r\n\t\t\t\t{message.message ? (<div className={`message ${message.className}`}>{message.message}</div>) : null}\r\n\t\t\t\t{fields.map((f, i) =>\r\n\t\t\t\t\tf.id === 'debit_bank' ? (\r\n\t\t\t\t\t<div key={i} className=\"form-field\">\r\n\t\t\t\t\t\t<label>{f.label}</label>\r\n\t\t\t\t\t\t<UISelect\r\n\t\t\t\t\t\t\tvalue={form.debit_bank}\r\n\t\t\t\t\t\t\toptions={cards}\r\n\t\t\t\t\t\t\tplaceholder={f.placeholder}\r\n\t\t\t\t\t\t\tonSelect={option => {\r\n\t\t\t\t\t\t\t\tsetForm(f => ({\r\n\t\t\t\t\t\t\t\t\t...f,\r\n\t\t\t\t\t\t\t\t\tdebit_bank: option,\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t<FormField\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tfield={{\r\n\t\t\t\t\t\t\tlabel: f.label,\r\n\t\t\t\t\t\t\tplaceholder: f.placeholder,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tinput={{\r\n\t\t\t\t\t\t\t...f,\r\n\t\t\t\t\t\t\tname: f.id,\r\n\t\t\t\t\t\t\tvalue: form[f.id], onChange,\r\n\t\t\t\t\t\t}} />\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"submit\">\r\n\t\t\t\t<button className=\"button-stylized\" onClick={withdraw}>提交</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"withdraw-list\">\r\n\t\t\t\t<Withdraws update={update} alert={{ showAlert, hideAlert }} />\r\n\t\t\t</div>\r\n\t\t\t<UIAlertSA {...alert} />\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction SubNav (props) {\r\n\r\n\tconst { userAuth } = useContext(User.Context);\r\n\r\n\treturn (\r\n\t\t<div className=\"sub-nav\">\r\n\t\t\t<div className=\"sub-nav--user-wrap\">\r\n\t\t\t\t<p className=\"user-name\">{userAuth.data.account}</p>\r\n\t\t\t\t<p className=\"user-balance\">钱包: <span>{userAuth.data.balance}</span> 元</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"sub-nav--tabs\">\r\n\t\t\t\t<UITabs tabs={[\r\n\t\t\t\t\t{ index: 'transfer', name: '转账钱包' },\r\n\t\t\t\t\t{ index: 'personal', name: '个人资料' },\r\n\t\t\t\t\t{ index: 'password', name: '安全中心' },\r\n\t\t\t\t\t{ index: 'payment', name: '设置银行卡' },\r\n\t\t\t\t\t{ index: 'betting-history', name: '投注历史' },\r\n\t\t\t\t]} tab={props.tab} onSet={props.onSet} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nfunction Dashboard () {\r\n\r\n\tconst history = useHistory();\r\n\tconst [ tab, setTab ] = useState(useParams().tab);\r\n\t\r\n\tconst auth = getAuthKey();\r\n\tconst { account } = User.read();\r\n\r\n\tconst { search } = useLocation();\r\n\r\n\tif (search === \"?a=1\") {\r\n\t\twindow.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`,'_blank')\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n\t\tdocument.body.classList.add('dashboard-page');\r\n\r\n\t\treturn () => document.body.classList.remove('dashboard-page');\r\n\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(tab === \"deposit\") {\r\n\t\t\twindow.open(`https://u2daszapp.u2d8899.com/newpwa/deposit.php?account=${account}&auth=${auth}&type=mphone`,'_blank')\r\n\t\t}\r\n\r\n\t\thistory.push(`/dashboard/${tab}`);\r\n\r\n\t}, [ account, auth, tab, history ]);\r\n\r\n\treturn (\r\n\t\t<div className=\"dashboard\">\r\n\t\t\t<div className=\"decor-n0\"></div>\r\n\t\t\t<div className=\"decor-n1\"></div>\r\n\t\t\t<div className=\"dashboard-wrap dashboard-sub-nav\">\r\n\t\t\t\t<SubNav tab={tab} onSet={setTab} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"dashboard-wrap\">\r\n\t\t\t\t<div className=\"dashboard-inner\">\r\n\t\t\t\t\t<div className=\"dashboard-tabs\">\r\n\t\t\t\t\t\t<UITabs tabs={[\r\n\t\t\t\t\t\t\t{ index: 'deposit', name: '存款' },\r\n\t\t\t\t\t\t\t{ index: 'transactions', name: '账目' },\r\n\t\t\t\t\t\t\t{ index: 'withdraw', name: '提款', },\r\n\t\t\t\t\t\t]} tab={tab} onSet={setTab} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{tab === 'deposit' ? <DashboardDeposit /> : null}\r\n\t\t\t\t\t{tab === 'transactions' ? <DashboardTransactions /> : null}\r\n\t\t\t\t\t{tab === 'transfer' ? <DashboardTransfer /> : null}\r\n\t\t\t\t\t{tab === 'personal' ? <DashboardPersonal /> : null}\r\n\t\t\t\t\t{tab === 'password' ? <DashboardPassword /> : null}\r\n\t\t\t\t\t{tab === 'payment' ? <DashboardPayment /> : null}\r\n\t\t\t\t\t{tab === 'betting-history' ? <DashboardBettingHistory /> : null}\r\n\t\t\t\t\t{tab === 'withdraw' ? <DashboardWithdraw /> : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n}\r\n\r\nexport default withAuth(Dashboard, 1);\r\n"]},"metadata":{},"sourceType":"module"}