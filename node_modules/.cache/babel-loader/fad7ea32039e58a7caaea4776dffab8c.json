{"ast":null,"code":"import _defineProperty from\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cramj/Documents/New PWA/GIT/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useContext}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{FormField,LiveChat}from\"../component/\";import{User}from\"../service/\";import\"../assets/scss/Restore.scss\";function Restore(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var history=useHistory();var _useContext=useContext(User.Context),data=_useContext.userAuth.data,setUserAuthFN=_useContext.setUserAuthFN;var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState({username:\"\",phone:\"\",code:\"\"}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var refUsername=useRef(null);var refcellphone=useRef(null);var refcode=useRef(null);var _useState7=useState({className:null,source:null,message:null}),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var notify=function notify(state,source,message){setMessage({className:state?\"valid\":\"invalid\",source:source,message:message});};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),active=_useState10[0],setActive=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),disabled=_useState12[0],setDisabled=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),buttonActive=_useState14[0],setButtonActive=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),livechat=_useState16[0],setLiveChat=_useState16[1];useEffect(function(){window.scrollTo(0,0);document.body.classList.add(\"login-page\");return function(){return document.body.classList.remove(\"login-page\");};},[]);useEffect(function(){function numbersOnly(value){var re=/^[0-9]*$/;return re.test(value);}if(form.username!==\"\"&&form.phone!==\"\"&&form.phone.length===11){setButtonActive(true);}if(form.username!==\"\"&&form.phone!==\"\"&&form.phone.length===11&&numbersOnly(form.phone)&&form.code!==\"\")setActive(true);else setActive(false);},[form]);var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(message.message&&message.source===name){setMessage({className:null,source:null,message:null});}setForm(function(f){return _objectSpread(_objectSpread({},f),{},_defineProperty({},name,value));});};var update=function update(){setStatus(0);User.retrievePassword(_objectSpread(_objectSpread({},User.read()),{},{phone:form.phone,account:form.username,verification_code:form.code})).promise.then(function(r){console.info(r);setLiveChat(true);// User.session({\n//   ...User.read(),\n// }).promise.then((r) => setUserAuthFN(1, r.info));\n},function(e){console.warn(e);});};function verification(){setButtonActive(false);setTimeout(function(){setButtonActive(true);},60000);if(form.phone!==\"\"){var req=User.mobileVerification(_objectSpread({type:\"verification_code\",phone:form.phone},User.read()));req.promise.then(function(r){console.log(\"Verification sent!\",r);},function(e){console.warn(\"Verification nto generated\",e);});}else{// console.log('Empty')\n}}return/*#__PURE__*/React.createElement(\"div\",{className:\"restoree-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"restore-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"restore-form-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"restore-form-outer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"restore-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"load-spin\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"divider\"},\"\\u8D5E\\u52A9\\u4F19\\u4F34\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-logo\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-text\"},\"\\u5965\\u683C\\u65AF\\u5821\")),/*#__PURE__*/React.createElement(\"div\",{className:\"restore-form-inner with-loader\".concat(isLoading?\" loading\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"restore-form-outer-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-tabs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ui-tabs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ui-tabs--tab active\"},\"\\u8054\\u7CFB\\u5BA2\\u670D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"ui-tabs--tab nonactive\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"\\u767B\\u5F55\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-inner\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-inner-content\"},/*#__PURE__*/React.createElement(FormField,{field:{label:\"用户名\"},input:{id:\"username\",name:\"username\",type:\"text\",placeholder:\"请输入用户名\",ref:refUsername,maxLength:12,onChange:onChange}}),/*#__PURE__*/React.createElement(FormField,{field:{label:\"手机号码\"},input:{id:\"phone\",name:\"phone\",type:\"text\",placeholder:\"请输入手机号码\",ref:refcellphone,maxLength:11,onChange:onChange,onInput:function onInput(){return refcellphone.current.value=refcellphone.current.value.replace(/[^0-9]/g,\"\");}}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-field verification\"},/*#__PURE__*/React.createElement(\"input\",{id:\"code\",name:\"code\",type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u9A8C\\u8BC1\\u7801\",ref:refcode,onChange:onChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"code \".concat(buttonActive&&\"active\"),onClick:buttonActive?function(){return verification();}:null},\"\\u53D1\\u9001\\u9A8C\\u8BC1\\u7801\")),/*#__PURE__*/React.createElement(\"div\",{className:\"submit\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-button \".concat(active&&!disabled&&\"form-button-active\"),onClick:active&&!disabled?update:null},/*#__PURE__*/React.createElement(\"span\",null,\"\\u4E0B\\u4E00\\u6B65\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"support\",onClick:function onClick(){return setLiveChat(true);}},\"\\u8054\\u7CFB\\u5BA2\\u670D\"))))))))),/*#__PURE__*/React.createElement(LiveChat,{popup:livechat,onPop:function onPop(){return setLiveChat(false);},withoutTop:true}));}export default Restore;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/view/Restore.js"],"names":["React","useState","useRef","useEffect","useContext","Link","useHistory","FormField","LiveChat","User","Restore","isLoading","setLoading","history","Context","data","userAuth","setUserAuthFN","status","setStatus","username","phone","code","form","setForm","refUsername","refcellphone","refcode","className","source","message","setMessage","notify","state","active","setActive","disabled","setDisabled","buttonActive","setButtonActive","livechat","setLiveChat","window","scrollTo","document","body","classList","add","remove","numbersOnly","value","re","test","length","onChange","e","target","name","f","update","retrievePassword","read","account","verification_code","promise","then","r","console","info","warn","verification","setTimeout","req","mobileVerification","type","log","label","id","placeholder","ref","maxLength","onInput","current","replace"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { FormField, LiveChat } from \"../component/\";\r\nimport { User } from \"../service/\";\r\n\r\nimport \"../assets/scss/Restore.scss\";\r\n\r\nfunction Restore() {\r\n  const [isLoading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const {\r\n    userAuth: { data },\r\n    setUserAuthFN,\r\n  } = useContext(User.Context);\r\n\r\n  const [status, setStatus] = useState(1);\r\n\r\n  const [form, setForm] = useState({\r\n    username: \"\",\r\n    phone: \"\",\r\n    code: \"\",\r\n  });\r\n\r\n  const refUsername = useRef(null);\r\n  const refcellphone = useRef(null);\r\n  const refcode = useRef(null);\r\n\r\n  const [message, setMessage] = useState({\r\n    className: null,\r\n    source: null,\r\n    message: null,\r\n  });\r\n\r\n  const notify = (state, source, message) => {\r\n    setMessage({\r\n      className: state ? \"valid\" : \"invalid\",\r\n      source,\r\n      message,\r\n    });\r\n  };\r\n\r\n  const [active, setActive] = useState(false);\r\n  const [disabled, setDisabled] = useState(false);\r\n  const [buttonActive, setButtonActive] = useState(false);\r\n  const [livechat, setLiveChat] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n\r\n    document.body.classList.add(\"login-page\");\r\n\r\n    return () => document.body.classList.remove(\"login-page\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function numbersOnly(value) {\r\n      const re = /^[0-9]*$/;\r\n      return re.test(value);\r\n    }\r\n\r\n    if (form.username !== \"\" && form.phone !== \"\" && form.phone.length === 11) {\r\n      setButtonActive(true);\r\n    }\r\n\r\n    if (\r\n      form.username !== \"\" &&\r\n      form.phone !== \"\" &&\r\n      form.phone.length === 11 &&\r\n      numbersOnly(form.phone) &&\r\n      form.code !== \"\"\r\n    )\r\n      setActive(true);\r\n    else setActive(false);\r\n  }, [form]);\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (message.message && message.source === name) {\r\n      setMessage({\r\n        className: null,\r\n        source: null,\r\n        message: null,\r\n      });\r\n    }\r\n\r\n    setForm((f) => ({\r\n      ...f,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const update = () => {\r\n    setStatus(0);\r\n\r\n    User.retrievePassword({\r\n      ...User.read(),\r\n      phone: form.phone,\r\n      account: form.username,\r\n      verification_code: form.code,\r\n    }).promise.then(\r\n      (r) => {\r\n        console.info(r);\r\n        setLiveChat(true);\r\n\r\n        // User.session({\r\n        //   ...User.read(),\r\n        // }).promise.then((r) => setUserAuthFN(1, r.info));\r\n      },\r\n      (e) => {\r\n        console.warn(e);\r\n      }\r\n    );\r\n  };\r\n\r\n  function verification() {\r\n    setButtonActive(false);\r\n\r\n    setTimeout(() => {\r\n      setButtonActive(true);\r\n    }, 60000);\r\n\r\n    if (form.phone !== \"\") {\r\n      const req = User.mobileVerification({\r\n        type: \"verification_code\",\r\n        phone: form.phone,\r\n        ...User.read(),\r\n      });\r\n\r\n      req.promise.then(\r\n        (r) => {\r\n          console.log(\"Verification sent!\", r);\r\n        },\r\n        (e) => {\r\n          console.warn(\"Verification nto generated\", e);\r\n        }\r\n      );\r\n    } else {\r\n      // console.log('Empty')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"restoree-wrap\">\r\n      <div className=\"restore-form\">\r\n        <div className=\"restore-form-wrap\">\r\n          <div className=\"restore-form-outer\">\r\n            <div className=\"restore-header\">\r\n              <div className=\"load-spin\"></div>\r\n              <div className=\"logo\"></div>\r\n              <div className=\"divider\">赞助伙伴</div>\r\n              <div className=\"sub-logo\"></div>\r\n              <div className=\"sub-text\">奥格斯堡</div>\r\n            </div>\r\n            <div\r\n              className={`restore-form-inner with-loader${\r\n                isLoading ? \" loading\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"restore-form-outer-bottom\">\r\n                <div className=\"auth-tabs\">\r\n                  <div className=\"ui-tabs\">\r\n                    <div className={`ui-tabs--tab active`}>联系客服</div>\r\n                    <div className={\"ui-tabs--tab nonactive\"}>\r\n                      <Link to=\"/login\">登录</Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form\">\r\n                  <div className=\"form-inner\">\r\n                    <div className=\"form-inner-content\">\r\n                      <FormField\r\n                        field={{ label: \"用户名\" }}\r\n                        input={{\r\n                          id: \"username\",\r\n                          name: \"username\",\r\n                          type: \"text\",\r\n                          placeholder: \"请输入用户名\",\r\n                          ref: refUsername,\r\n                          maxLength: 12,\r\n                          onChange,\r\n                        }}\r\n                      />\r\n                      <FormField\r\n                        field={{ label: \"手机号码\" }}\r\n                        input={{\r\n                          id: \"phone\",\r\n                          name: \"phone\",\r\n                          type: \"text\",\r\n                          placeholder: \"请输入手机号码\",\r\n                          ref: refcellphone,\r\n                          maxLength: 11,\r\n                          onChange,\r\n                          onInput: () =>\r\n                            (refcellphone.current.value = refcellphone.current.value.replace(\r\n                              /[^0-9]/g,\r\n                              \"\"\r\n                            )),\r\n                        }}\r\n                      />\r\n                      <div className={\"form-field verification\"}>\r\n                        <input\r\n                          id=\"code\"\r\n                          name=\"code\"\r\n                          type=\"text\"\r\n                          placeholder=\"请输入手机验证码\"\r\n                          ref={refcode}\r\n                          onChange={onChange}\r\n                        />\r\n                        <button\r\n                          className={`code ${buttonActive && \"active\"}`}\r\n                          onClick={buttonActive ? () => verification() : null}\r\n                        >\r\n                          发送验证码\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"submit\">\r\n                        <div\r\n                          className={`form-button ${\r\n                            active && !disabled && \"form-button-active\"\r\n                          }`}\r\n                          onClick={active && !disabled ? update : null}\r\n                        >\r\n                          <span>下一步</span>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        className=\"support\"\r\n                        onClick={() => setLiveChat(true)}\r\n                      >\r\n                        联系客服\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <LiveChat popup={livechat} onPop={() => setLiveChat(false)} withoutTop />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Restore;\r\n"]},"metadata":{},"sourceType":"module"}