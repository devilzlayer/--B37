{"ast":null,"code":"import _objectSpread from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import api from'./api';import{User}from'./';import{getAuthKey}from'../util/';var games=[{id:1206,name:'BTI体育',betting_key:'bti'},{id:1201,name:'IM体育',betting_key:'im'},{id:1211,name:'沙巴体育'},{id:1204,name:'AG真人',betting_key:'ag'},{id:1209,name:'EB真人'},{id:1208,name:'IM电竞'},{id:1205,name:'开元棋牌'},{id:1207,name:'CQ电子'},{id:1202,name:'PT电子'},{id:1203,name:'MG电子'}];export default{list:function list(){return games;},activate:function activate(params){return api.post('newpwa/ajax_data.php',_objectSpread({type:'active',auth:getAuthKey()},params));},activateListV1:function activateListV1(params){return api.post('newpwa/ajax_data.php',_objectSpread({type:'transfer_list_v1',auth:getAuthKey()},params));},login:function login(params){return api.post('newpwa/center.php',_objectSpread({submit_type:'game_mobile_login',auth:getAuthKey()},params));},// balance: params => {\n// \tconst path = 'newpwa/ajax_data.php/index.php';\n// \tconst _params = {\n// \t\ttype: 'get_balance',\n// \t\tauth: getAuthKey(),\n// \t\t...params\n// \t};\n// \tconst req = api.post(path, {\n// \t\tgameid: params.id,\n// \t\t..._params,\n// \t}, {\n// \t\tdone: (response, resolve) => resolve({ game, balance: + response.info }),\n// \t\tfail: (response, reject) => reject(`Unable to get game ${params.id} balance: ${response}`)\n// \t});\n// },\nbalances:function balances(params){var path='newpwa/ajax_data.php/index.php';var _params=_objectSpread({type:'get_balance',auth:getAuthKey()},params);return new Promise(function(resolve,reject){var promises=games.map(function(game){var req=api.post(path,_objectSpread({gameid:game.id},_params),{done:function done(response,resolve){return resolve({game:game,balance:+response.info});},// fail: (response, reject) => reject(`Unable to get game ${game.id} (${game.name}) balance: ${response}`)\nfail:function fail(response,reject,resolve){return resolve({game:game,balance:0,error:\"Unable to get game \".concat(game.id,\" (\").concat(game.name,\") balance: \").concat(response)});}});return req.promise;});Promise.all(promises).then(function(values){return resolve(values);});});},transfer:function transfer(params){var _transfer=function _transfer(_params){return api.post('newpwa/center.php/index.php',_objectSpread({submit_type:'transfer',auth:getAuthKey()},_params));};if(params.from===0){return _transfer(_objectSpread(_objectSpread({},params),{},{transfer_type:\"\".concat(params.to,\"01\")})).promise;}if(params.to===0){return _transfer(_objectSpread(_objectSpread({},params),{},{transfer_type:\"\".concat(params.from,\"02\")})).promise;}return new Promise(function(resolve,reject){_transfer(_objectSpread(_objectSpread({},params),{},{transfer_type:\"\".concat(params.from,\"02\")})).promise.then(function(r){console.log(r);_transfer(_objectSpread(_objectSpread({},params),{},{transfer_type:\"\".concat(params.to,\"01\")})).promise.then(function(r){console.log(r);resolve({r:r,message:'Money transfer completed successfully'});},function(e){return reject({e:e,message:'Failed to send money to the game'});});},function(e){return reject({e:e,message:'Failed to withdraw money from the game'});});});},transferToWallet:function transferToWallet(){return api.post('newpwa/center.php/index.php',_objectSpread(_objectSpread({submit_type:'all_transfer_out'},User.read()),{},{auth:getAuthKey()}));},getBettingHistory:function getBettingHistory(params){return api.post('newpwa/record.php/index.php',_objectSpread({auth:getAuthKey()},params));},checkMaintained:function checkMaintained(params){return api.post('newpwa/lobby_login.php',_objectSpread({auth:getAuthKey()},params));}};","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/service/Game.js"],"names":["api","User","getAuthKey","games","id","name","betting_key","list","activate","params","post","type","auth","activateListV1","login","submit_type","balances","path","_params","Promise","resolve","reject","promises","map","game","req","gameid","done","response","balance","info","fail","error","promise","all","then","values","transfer","_transfer","from","transfer_type","to","r","console","log","message","e","transferToWallet","read","getBettingHistory","checkMaintained"],"mappings":"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","sourcesContent":["import api from './api';\r\n\r\nimport { User } from './';\r\nimport { getAuthKey } from '../util/';\r\n\r\nconst games = [\r\n\t{ id: 1206, name: 'BTI体育', betting_key: 'bti' },\r\n\t{ id: 1201, name: 'IM体育', betting_key: 'im' },\r\n\t{ id: 1211, name: '沙巴体育' },\r\n\t{ id: 1204, name: 'AG真人', betting_key: 'ag' },\r\n\t{ id: 1209, name: 'EB真人' },\r\n\t{ id: 1208, name: 'IM电竞', },\r\n\t{ id: 1205, name: '开元棋牌' },\r\n\t{ id: 1207, name: 'CQ电子' },\r\n\t{ id: 1202, name: 'PT电子' },\r\n\t{ id: 1203, name: 'MG电子' },\r\n];\r\n\r\nexport default {\r\n\r\n\tlist: () => games,\r\n\r\n\tactivate: params => api.post('newpwa/ajax_data.php', {\r\n\t\ttype: 'active',\r\n\t\tauth: getAuthKey(),\r\n\t\t...params,\r\n\t}),\r\n\r\n\tactivateListV1: params => api.post('newpwa/ajax_data.php', {\r\n\t\ttype: 'transfer_list_v1',\r\n\t\tauth: getAuthKey(),\r\n\t\t...params,\r\n\t}),\r\n\r\n\tlogin: params => api.post('newpwa/center.php', {\r\n\t\tsubmit_type: 'game_mobile_login',\r\n\t\tauth: getAuthKey(),\r\n\t\t...params,\r\n\t}),\r\n\r\n\t// balance: params => {\r\n\r\n\t// \tconst path = 'newpwa/ajax_data.php/index.php';\r\n\r\n\t// \tconst _params = {\r\n\t// \t\ttype: 'get_balance',\r\n\t// \t\tauth: getAuthKey(),\r\n\t// \t\t...params\r\n\t// \t};\r\n\r\n\t// \tconst req = api.post(path, {\r\n\t// \t\tgameid: params.id,\r\n\t// \t\t..._params,\r\n\t// \t}, {\r\n\t// \t\tdone: (response, resolve) => resolve({ game, balance: + response.info }),\r\n\t// \t\tfail: (response, reject) => reject(`Unable to get game ${params.id} balance: ${response}`)\r\n\t// \t});\r\n\r\n\t// },\r\n\r\n\tbalances: params => {\r\n\r\n\t\tconst path = 'newpwa/ajax_data.php/index.php';\r\n\r\n\t\tconst _params = {\r\n\t\t\ttype: 'get_balance',\r\n\t\t\tauth: getAuthKey(),\r\n\t\t\t...params\r\n\t\t};\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tconst promises = games.map(game => {\r\n\r\n\t\t\t\tconst req = api.post(path, {\r\n\t\t\t\t\tgameid: game.id,\r\n\t\t\t\t\t..._params,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tdone: (response, resolve) => resolve({ game, balance: + response.info }),\r\n\t\t\t\t\t// fail: (response, reject) => reject(`Unable to get game ${game.id} (${game.name}) balance: ${response}`)\r\n\t\t\t\t\tfail: (response, reject, resolve) => resolve({ game, balance: 0, error: `Unable to get game ${game.id} (${game.name}) balance: ${response}` })\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn req.promise;\r\n\r\n\t\t\t});\r\n\r\n\t\t\tPromise.all(promises).then(values => resolve(values));\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\ttransfer: params => {\r\n\r\n\t\tconst _transfer = _params => api.post('newpwa/center.php/index.php', {\r\n\t\t\tsubmit_type: 'transfer',\r\n\t\t\tauth: getAuthKey(),\r\n\t\t\t..._params\r\n\t\t})\r\n\r\n\t\tif (params.from === 0) {\r\n\t\t\treturn _transfer({ ...params, transfer_type: `${params.to}01` }).promise;\r\n\t\t}\r\n\r\n\t\tif (params.to === 0) {\r\n\t\t\treturn _transfer({ ...params, transfer_type: `${params.from}02` }).promise;\r\n\t\t}\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\t_transfer({\r\n\t\t\t\t...params,\r\n\t\t\t\ttransfer_type: `${params.from}02`,\r\n\t\t\t}).promise.then(r => {\r\n\r\n\t\t\t\tconsole.log(r);\r\n\r\n\t\t\t\t_transfer({\r\n\t\t\t\t\t...params,\r\n\t\t\t\t\ttransfer_type: `${params.to}01`,\r\n\t\t\t\t}).promise.then(r => {\r\n\r\n\t\t\t\t\tconsole.log(r);\r\n\r\n\t\t\t\t\tresolve({ r, message: 'Money transfer completed successfully' });\r\n\r\n\t\t\t\t}, e => reject({ e, message: 'Failed to send money to the game' }));\r\n\r\n\t\t\t}, e => reject({ e, message: 'Failed to withdraw money from the game' }));\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\ttransferToWallet: () => api.post('newpwa/center.php/index.php', {\r\n\t\tsubmit_type: 'all_transfer_out',\r\n\t\t...User.read(),\r\n\t\tauth: getAuthKey(),\r\n\t}),\r\n\r\n\tgetBettingHistory: params => api.post('newpwa/record.php/index.php', {\r\n\t\tauth: getAuthKey(),\r\n\t\t...params,\r\n\t}),\r\n\r\n\tcheckMaintained: params => api.post('newpwa/lobby_login.php', {\r\n\t\tauth: getAuthKey(),\r\n\t\t...params,\r\n\t}),\r\n\r\n\r\n\r\n\r\n};\r\n"]},"metadata":{},"sourceType":"module"}