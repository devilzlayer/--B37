{"ast":null,"code":"import _objectSpread from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cramj/Documents/New PWA/ubet-project (1)/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import cx from\"classnames\";import{Service}from\"../\";import Wrap from\"../Wrap\";import{Icon}from\"../../../component\";import\"../../../assets/scss/profile/agency/AgentReport.scss\";var AgentReport=function AgentReport(){var _useState=useState({status:0,list:[]}),_useState2=_slicedToArray(_useState,2),reports=_useState2[0],setReports=_useState2[1];useEffect(function(){var req=Service.Agency.report({ty:\"2\"});req.promise.then(function(r){// console.info(r);\nsetReports({status:1,list:r.info.map(function(r){return r;})});},function(e){if(!e.is_aborted){console.warn(e);}});return function(){return req.cancel();};},[]);var toggle=function toggle(report){report.details=!report.details;setReports(function(r){return _objectSpread(_objectSpread({},r),{},{list:r.list.map(function(r){return r.id===report.id?report:r;})});});};return/*#__PURE__*/React.createElement(Wrap,{title:\"\\u4EE3\\u7406\\u5546\\u62A5\\u544A\",className:\"agent-report-desktop\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},/*#__PURE__*/React.createElement(\"span\",{className:\"active\"},\"\\u8D26\\u53F7\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u5B58\\u6B3E\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u63D0\\u6B3E\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u7EC6\\u8282\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},reports.list&&reports.list.length>0?reports.list.map(function(report,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"card-item\",onClick:function onClick(){return toggle(report);}},/*#__PURE__*/React.createElement(\"div\",{className:\"inner\"},/*#__PURE__*/React.createElement(\"span\",null,report.account),/*#__PURE__*/React.createElement(\"span\",null,report.deposit),/*#__PURE__*/React.createElement(\"span\",null,report.debit),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"detail\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u4F18\\u60E0:\"),/*#__PURE__*/React.createElement(\"td\",null,report.promotion)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u53CD\\u6C34:\"),/*#__PURE__*/React.createElement(\"td\",null,report.washcode))))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"no-transactions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-box\"}),/*#__PURE__*/React.createElement(\"span\",null,\"\\u6682\\u65E0\\u8BB0\\u5F55\"))));};export default AgentReport;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/view/profile/agency/AgentReport.js"],"names":["React","useState","useEffect","cx","Service","Wrap","Icon","AgentReport","status","list","reports","setReports","req","Agency","report","ty","promise","then","r","info","map","e","is_aborted","console","warn","cancel","toggle","details","id","length","i","account","deposit","debit","promotion","washcode"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport cx from \"classnames\";\r\n\r\nimport { Service } from \"../\";\r\nimport Wrap from \"../Wrap\";\r\nimport { Icon } from \"../../../component\";\r\n\r\nimport \"../../../assets/scss/profile/agency/AgentReport.scss\";\r\n\r\nconst AgentReport = () => {\r\n  const [reports, setReports] = useState({\r\n    status: 0,\r\n    list: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const req = Service.Agency.report({\r\n      ty: \"2\",\r\n    });\r\n\r\n    req.promise.then(\r\n      (r) => {\r\n        // console.info(r);\r\n\r\n        setReports({\r\n          status: 1,\r\n          list: r.info.map((r) => r),\r\n        });\r\n      },\r\n      (e) => {\r\n        if (!e.is_aborted) {\r\n          console.warn(e);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => req.cancel();\r\n  }, []);\r\n\r\n  const toggle = (report) => {\r\n    report.details = !report.details;\r\n\r\n    setReports((r) => ({\r\n      ...r,\r\n      list: r.list.map((r) => (r.id === report.id ? report : r)),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Wrap title=\"代理商报告\" className=\"agent-report-desktop\">\r\n      <div className=\"card-head\">\r\n        <div className=\"card-title\">\r\n          <span className=\"active\">账号</span>\r\n          <span>存款</span>\r\n          <span>提款</span>\r\n          <span>细节</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {reports.list && reports.list.length > 0 ? (\r\n          reports.list.map((report, i) => (\r\n            <div key={i} className={\"card-item\"} onClick={() => toggle(report)}>\r\n              <div className=\"inner\">\r\n                <span>{report.account}</span>\r\n                <span>{report.deposit}</span>\r\n                <span>{report.debit}</span>\r\n                <span>\r\n                  <div className=\"detail\">\r\n                    <table>\r\n                      <tbody>\r\n                        <tr>\r\n                          <td>优惠:</td>\r\n                          <td>{report.promotion}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>反水:</td>\r\n                          <td>{report.washcode}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"no-transactions\">\r\n            <div className=\"image-box\" />\r\n            <span>暂无记录</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default AgentReport;\r\n"]},"metadata":{},"sourceType":"module"}