{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{Link,BrowserRouter,Switch,Route,Redirect,useLocation}from\"react-router-dom\";import{User}from'../service';import*as Views from\"./view/\";import{MenuSA}from\"./component/\";import\"./assets/scss/App.scss\";var PageFrame=function PageFrame(props){var Component=props.component;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Component,props),/*#__PURE__*/React.createElement(MenuSA,null));};var AppPWA=function AppPWA(){var _useContext=useContext(User.Context),setUserAuthFN=_useContext.setUserAuthFN,userAuth=_useContext.userAuth;function referralCheck(location){var websites=[\"https://www.xxx.com/\"];var prevURL=document.referrer;var result=websites.filter(function(site){return site===prevURL;});var agentName=new URLSearchParams(location.search).get(\"act\");if(result.length>0){localStorage.setItem(\"referral\",JSON.stringify(\"123\"));}else if(agentName){localStorage.setItem(\"referral\",JSON.stringify(agentName));}}useEffect(function(){document.body.classList.add(\"body-pwa\");return function(){return document.body.classList.remove(\"body-pwa\");};},[]);var onClick=function onClick(e){if(!userAuth.data){setUserAuthFN(userAuth.status,userAuth.data,false);}};// console.log(userAuth)\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"app-sa\"},/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){referralCheck(props.location);return/*#__PURE__*/React.createElement(PageFrame,Object.assign({},props,{component:Views.Home}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/promotions\",render:function render(){return/*#__PURE__*/React.createElement(PageFrame,{component:Views.Promotions});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/promotion/:id\",render:function render(){return/*#__PURE__*/React.createElement(PageFrame,{component:Views.Promotion});}}),/*#__PURE__*/React.createElement(Route,{path:\"/profile\",render:function render(){return/*#__PURE__*/React.createElement(PageFrame,{component:Views.Profile});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:Views.Login}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/game/:id/:name\",component:Views.Game}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/inbox\",component:Views.Inbox}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/about\",component:Views.About}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/collection\",component:Views.Collection}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/feedback\",component:Views.Feedback}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/transaction-record\",component:Views.TransactionRecord}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/referral\",component:Views.Referral}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/speed-app\",component:Views.SpeedApp}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/join-us\",component:Views.JoinUs}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/deposit-history\",component:Views.DepositHistory}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/promo-history\",component:Views.PromoHistory}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/transfer-record\",component:Views.TransferRecord}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/rebate-history\",component:Views.RebateHistory}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/withdrawal-history\",component:Views.WithdrawalHistory}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/deposit-method\",component:Views.DepositMethod}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/news\",component:Views.News}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/vip\",component:Views.Vip}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/vip-details\",component:Views.VipDetails}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/restore\",component:Views.Restore}),/*#__PURE__*/React.createElement(Redirect,{to:\"/\"})),userAuth.modal&&/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-over-sa shown\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-over-sa-cont\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-over-sa--header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"\\u767B\\u5F55\\u63D0\\u9192\")),/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-over-sa--body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-text\"},\"\\u6B64\\u529F\\u80FD\\u4EC5\\u5BF9\\u6CE8\\u518C\\u7528\\u6237\\u5F00\\u653E\"),/*#__PURE__*/React.createElement(\"div\",{className:\"ticker-button\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn ticker-close\",onClick:onClick},\"\\u5173\\u95ED\"),/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"btn ticker-view\",onClick:onClick},\"\\u67E5\\u770B\\u5168\\u90E8\")))))));};export default AppPWA;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/GIT/src/pwa/AppPWA.js"],"names":["React","useEffect","useContext","Link","BrowserRouter","Switch","Route","Redirect","useLocation","User","Views","MenuSA","PageFrame","props","Component","component","AppPWA","Context","setUserAuthFN","userAuth","referralCheck","location","websites","prevURL","document","referrer","result","filter","site","agentName","URLSearchParams","search","get","length","localStorage","setItem","JSON","stringify","body","classList","add","remove","onClick","e","data","status","Home","Promotions","Promotion","Profile","Login","Game","Inbox","About","Collection","Feedback","TransactionRecord","Referral","SpeedApp","JoinUs","DepositHistory","PromoHistory","TransferRecord","RebateHistory","WithdrawalHistory","DepositMethod","News","Vip","VipDetails","Restore","modal"],"mappings":"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","sourcesContent":["import React, { useEffect , useContext } from \"react\";\r\nimport { Link, BrowserRouter, Switch, Route, Redirect , useLocation} from \"react-router-dom\";\r\n\r\nimport { User } from '../service';\r\n\r\nimport * as Views from \"./view/\";\r\nimport { MenuSA } from \"./component/\";\r\n\r\nimport \"./assets/scss/App.scss\";\r\n\r\nconst PageFrame = (props) => {\r\n  const Component = props.component;\r\n\r\n  return (\r\n    <>\r\n      <Component {...props} />\r\n      <MenuSA />\r\n    </>\r\n  );\r\n};\r\n\r\nconst AppPWA = () => {\r\n  const { setUserAuthFN ,userAuth } = useContext(User.Context);\r\n\r\n  function referralCheck(location) {\r\n    const websites = [\"https://www.xxx.com/\"];\r\n    const prevURL = document.referrer;\r\n    const result = websites.filter((site) => site === prevURL);\r\n    const agentName = new URLSearchParams(location.search).get(\"act\");\r\n\r\n    if (result.length > 0) {\r\n      localStorage.setItem(\"referral\", JSON.stringify(\"123\"));\r\n    } else if (agentName) {\r\n      localStorage.setItem(\"referral\", JSON.stringify(agentName));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"body-pwa\");\r\n\r\n    return () => document.body.classList.remove(\"body-pwa\");\r\n  }, []);\r\n\r\n  const onClick = (e) =>{\r\n    if(!userAuth.data){\r\n      setUserAuthFN(userAuth.status , userAuth.data , false)\r\n    }\r\n  }\r\n  \r\n\r\n  // console.log(userAuth)\r\n\r\n  return (\r\n    <div className=\"app-sa\">\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={(props) => {\r\n              referralCheck(props.location);\r\n              return <PageFrame {...props} component={Views.Home} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/promotions\"\r\n            render={() => <PageFrame component={Views.Promotions} />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/promotion/:id\"\r\n            render={() => <PageFrame component={Views.Promotion} />}\r\n          />\r\n          <Route\r\n            path=\"/profile\"\r\n            render={() => <PageFrame component={Views.Profile} />}\r\n          />\r\n          <Route exact path=\"/login\" component={Views.Login} />\r\n          <Route exact path=\"/game/:id/:name\" component={Views.Game} />\r\n          <Route exact path=\"/inbox\" component={Views.Inbox} />\r\n          <Route exact path=\"/about\" component={Views.About} />\r\n          <Route exact path=\"/collection\" component={Views.Collection} />\r\n          <Route exact path=\"/feedback\" component={Views.Feedback} />\r\n          <Route\r\n            exact\r\n            path=\"/transaction-record\"\r\n            component={Views.TransactionRecord}\r\n          />\r\n          <Route exact path=\"/referral\" component={Views.Referral} />\r\n          <Route exact path=\"/speed-app\" component={Views.SpeedApp} />\r\n          <Route exact path=\"/join-us\" component={Views.JoinUs} />\r\n          <Route\r\n            exact\r\n            path=\"/deposit-history\"\r\n            component={Views.DepositHistory}\r\n          />\r\n          <Route exact path=\"/promo-history\" component={Views.PromoHistory} />\r\n          <Route\r\n            exact\r\n            path=\"/transfer-record\"\r\n            component={Views.TransferRecord}\r\n          />\r\n          <Route exact path=\"/rebate-history\" component={Views.RebateHistory} />\r\n          <Route\r\n            exact\r\n            path=\"/withdrawal-history\"\r\n            component={Views.WithdrawalHistory}\r\n          />\r\n          <Route exact path=\"/deposit-method\" component={Views.DepositMethod} />\r\n          <Route exact path=\"/news\" component={Views.News} />\r\n          <Route exact path=\"/vip\" component={Views.Vip} />\r\n          <Route exact path=\"/vip-details\" component={Views.VipDetails} />\r\n          <Route exact path=\"/restore\" component={Views.Restore} />\r\n          \r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n        {userAuth.modal && \r\n          <div className=\"ticker-over-sa shown\">\r\n            <div className=\"ticker-over-sa-cont\">\r\n              <div className=\"ticker-over-sa--header\">\r\n                <h3>登录提醒</h3>\r\n              </div>\r\n              <div className=\"ticker-over-sa--body\">\r\n                <div className=\"ticker-text\">\r\n                  此功能仅对注册用户开放\r\n                </div>\r\n                <div className=\"ticker-button\">\r\n                  <button className=\"btn ticker-close\" onClick={onClick}>关闭</button>\r\n                  <Link to=\"/login\" className=\"btn ticker-view\" onClick={onClick} >查看全部</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          }\r\n      </BrowserRouter>\r\n      \r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppPWA;\r\n"]},"metadata":{},"sourceType":"module"}