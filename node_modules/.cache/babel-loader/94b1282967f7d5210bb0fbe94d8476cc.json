{"ast":null,"code":"var _jsxFileName = \"/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/component/ContentSA.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-scroll\";\nimport { includes, isArray } from 'lodash';\nimport { useWindowDimensions } from \"../../util\";\nimport { User, Game as Service } from \"../../service/\";\nimport \"../assets/scss/ContentSA.scss\";\nimport { head } from \"../assets/scss/variables.scss\";\nconst ContentSAItems = [[{\n  id: 1206,\n  title: \"体育博彩\",\n  title2: \"BTI体育\",\n  name: \"BTI体育\",\n  category: \"Sports Betting\",\n  color: \"red\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/BTI_bg.svg\")\n}, {\n  id: 1201,\n  title: \"体育博彩\",\n  title2: \"IM体育\",\n  name: \"IM体育\",\n  category: \"Sports Betting\",\n  color: \"blue\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/IM-sports_bg.svg\")\n}, {\n  id: 1211,\n  title: \"体育博彩\",\n  title2: \"沙巴体育\",\n  name: \"沙巴体育\",\n  category: \"Sports Betting\",\n  color: \"red\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/sports_bg.svg\")\n}], [{\n  id: 1204,\n  title: \"真人娱乐场\",\n  title2: \"AG真人\",\n  name: \"AG真人\",\n  category: \"live Casino\",\n  color: \"green\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/AG_bg.svg\")\n}, {\n  id: 1209,\n  title: \"真人娱乐场\",\n  title2: \"EB真人\",\n  name: \"EB真人\",\n  category: \"live Casino\",\n  color: \"blue\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/EB_bg.svg\")\n}], [{\n  id: 1208,\n  title: \"电子竞技博彩\",\n  title2: \"IM电竞\",\n  name: \"IM电竞\",\n  category: \"E-Sports Betting\",\n  color: \"red\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/IM-esports_bg.svg\")\n}], [{\n  id: 1205,\n  title: \"象棋游戏\",\n  title2: \"开元棋牌\",\n  name: \"开元棋牌\",\n  category: \"Chess Games\",\n  color: \"red\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/poker_bg.svg\")\n}], [{\n  id: 1207,\n  title: \"老虎机游戏\",\n  title2: \"CQ电子\",\n  name: \"CQ电子\",\n  category: \"Slots Game\",\n  color: \"green\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/CQ_bg.svg\")\n}, {\n  id: 1202,\n  title: \"老虎机游戏\",\n  title2: \"PT电子\",\n  name: \"PT电子\",\n  category: \"Slots Game\",\n  color: \"red\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/PT_bg.svg\")\n}, {\n  id: 1203,\n  title: \"老虎机游戏\",\n  title2: \"MG电子\",\n  name: \"MG电子\",\n  category: \"Slots Game\",\n  color: \"blue\",\n  text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\n  image: require(\"../assets/img/home/_background/MG_bg.svg\")\n}]];\n\nfunction ContentSA() {\n  const history = useHistory();\n  const {\n    setUserAuthFN,\n    userAuth\n  } = useContext(User.Context);\n  const wd = useWindowDimensions();\n  const [tab, setTab] = useState(0);\n  const [tsState, setTsState] = useState({\n    width: 0,\n    offset: 0\n  });\n  useEffect(() => {\n    try {\n      const _tab = document.querySelector(`a.tab-n${tab}`);\n\n      if (!_tab) {\n        return () => {};\n      }\n\n      setTab(0);\n      const {\n        offsetWidth,\n        offsetLeft\n      } = _tab;\n      setTsState({\n        width: offsetWidth,\n        offset: offsetLeft\n      });\n    } catch (e) {\n      console.warn(e);\n    } // eslint-disable-next-line\n\n  }, [wd.width]);\n\n  function _setTab(t, e) {\n    const {\n      offsetWidth,\n      offsetLeft\n    } = e.target;\n    setTsState({\n      width: offsetWidth,\n      offset: offsetLeft\n    });\n  }\n\n  function handleSetActive(id) {\n    // const { offsetWidth, offsetLeft } = id.target;\n    // // console.log(e.target.id)\n    // setTab(Number(id.target.id));\n    // setTsState({\n    //   width: offsetWidth,\n    //   offset: offsetLeft,\n    // });\n    const tab = id.split(\"group-n\")[1];\n    const link = document.querySelectorAll(\".tab\")[tab]; // console.log(tab , link)\n\n    setTab(tab);\n\n    _setTab(tab, {\n      target: link\n    });\n  }\n\n  async function login(id) {\n    const user = User.read();\n\n    async function LogIn() {\n      const res = await Service.login({\n        num: 1,\n        gameid: id,\n        ...user\n      }).promise.then(r => {\n        return r.info;\n      }, e => {\n        console.log(\"Unable to login to the game\", e);\n        return {\n          error: '未激活或者游戏维护'\n        };\n      });\n      return res;\n    } // const req  = Service.activate({\n    //   num: 1,\n    //   type: \"active\",\n    //   gameid: id,\n    //   ...user,\n    // });\n    // const result =  await req.promise.then(async (r) => {\n    //   const res = await LogIn()\n    //   // console.log(res);\n    //   return res\n    // },async (e) => {\n    //     // console.log(isArray(e))\n    //     if (typeof  e.is_aborted !== \"undefined\" ) {\n    //       console.log(\"Unable to activate the game:\", e);\n    //       return {\n    //         error : '无法启动游戏'\n    //       }\n    //     }\n    //     const res = await LogIn()\n    //     return res\n    // });\n\n\n    const reqCheck = await Service.checkMaintained({\n      gid: id\n    }).promise.then(async r => {\n      const res = await LogIn(); // console.log(res);\n\n      return res;\n    }, e => {\n      // console.log(e)\n      return {\n        error: e\n      };\n    });\n    return reqCheck; // return () => req.cancel();\n  }\n\n  async function setGame(e, {\n    id,\n    name\n  }) {\n    const externals = [1206, 1211, 1204, 1209, 1207, 1202, 1203]; // IGNORE 1201  1208 1205\n    // console.log(id)\n\n    if (!userAuth.data) {\n      e.preventDefault();\n      setUserAuthFN(userAuth.status, userAuth.data, true);\n      return false;\n    }\n\n    let newLink = {\n      pathname: `/game/${id}/${name}`,\n      search: \"?from_home=1\"\n    };\n\n    if (includes(externals, id)) {\n      const linkInfo = await login(id); // console.log(linkInfo)\n\n      if (linkInfo.error) {\n        setUserAuthFN(userAuth.status, userAuth.data, {\n          error: linkInfo.error\n        });\n        return false;\n      }\n\n      newLink = { ...newLink,\n        pathname: linkInfo,\n        rest: {\n          target: \"_blank\"\n        }\n      };\n    }\n\n    setUserAuthFN(userAuth.status, userAuth.data, {\n      wap: newLink\n    }); // history.push({\n    //   pathname: `/game/${id}/${name}`,\n    //   search: \"?from_home=1\",\n    // });\n  }\n\n  if (wd.width >= 620) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-sa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-sa-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }\n    }, ContentSAItems.map((group, i) => /*#__PURE__*/React.createElement(React.Fragment, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, group.map((item, i2) => /*#__PURE__*/React.createElement(\"div\", {\n      key: i2,\n      onClick: e => setGame(e, item),\n      className: \"sa-group--item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image,\n      alt: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    })))))));\n  } // console.log(userAuth)\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-sa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `content-sa-tabs ${!userAuth.data ? 'not' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `tabs2 tab-n${tab}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }\n  }, [\"体育\", \"真人\", \"电竞\", \"棋牌\", \"电子\"].map((t, i) => /*#__PURE__*/React.createElement(Link, {\n    key: i,\n    activeClass: \" \",\n    to: `group-n${i}`,\n    className: `tab tab-n${i} ${Number(tab) === i ? 'active' : ''}`,\n    spy: true,\n    smooth: true,\n    duration: 200,\n    id: i,\n    offset: -(+head + 76) // onSetActive={(e) => console.log(e)}\n    ,\n    onSetActive: handleSetActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  }, t)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab--switch\",\n    style: {\n      transform: `translateX(${tsState.offset + 3}px)`,\n      width: `${tsState.width}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `content-sa-items ${!userAuth.data ? 'not' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }\n  }, ContentSAItems.map((group, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-sa-group\",\n    id: `group-n${i}`,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 11\n    }\n  }, group.map((item, i2) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i2,\n    onClick: e => setGame(e, item),\n    className: \"sa-group--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 17\n    }\n  })))))));\n}\n\nexport default ContentSA;","map":{"version":3,"sources":["/Users/cramj/Documents/New PWA/ubet-project (1)/src/pwa/component/ContentSA.js"],"names":["React","useEffect","useState","useContext","useHistory","Link","includes","isArray","useWindowDimensions","User","Game","Service","head","ContentSAItems","id","title","title2","name","category","color","text","image","require","ContentSA","history","setUserAuthFN","userAuth","Context","wd","tab","setTab","tsState","setTsState","width","offset","_tab","document","querySelector","offsetWidth","offsetLeft","e","console","warn","_setTab","t","target","handleSetActive","split","link","querySelectorAll","login","user","read","LogIn","res","num","gameid","promise","then","r","info","log","error","reqCheck","checkMaintained","gid","setGame","externals","data","preventDefault","status","newLink","pathname","search","linkInfo","rest","wap","map","group","i","item","i2","Number","transform"],"mappings":"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","sourcesContent":["import React, { useEffect, useState  ,useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from \"react-scroll\";\r\nimport { includes , isArray} from 'lodash'\r\nimport { useWindowDimensions } from \"../../util\";\r\nimport { User , Game as Service  } from \"../../service/\";\r\n\r\n\r\nimport \"../assets/scss/ContentSA.scss\";\r\nimport { head } from \"../assets/scss/variables.scss\";\r\n\r\nconst ContentSAItems = [\r\n  [\r\n    {\r\n      id: 1206,\r\n      title: \"体育博彩\",\r\n      title2: \"BTI体育\",\r\n      name: \"BTI体育\",\r\n      category: \"Sports Betting\",\r\n      color: \"red\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/BTI_bg.svg\"),\r\n    },\r\n    {\r\n      id: 1201,\r\n      title: \"体育博彩\",\r\n      title2: \"IM体育\",\r\n      name: \"IM体育\",\r\n      category: \"Sports Betting\",\r\n      color: \"blue\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/IM-sports_bg.svg\"),\r\n    },\r\n    {\r\n      id: 1211,\r\n      title: \"体育博彩\",\r\n      title2: \"沙巴体育\",\r\n      name: \"沙巴体育\",\r\n      category: \"Sports Betting\",\r\n      color: \"red\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/sports_bg.svg\"),\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      id: 1204,\r\n      title: \"真人娱乐场\",\r\n      title2: \"AG真人\",\r\n      name: \"AG真人\",\r\n      category: \"live Casino\",\r\n      color: \"green\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/AG_bg.svg\"),\r\n    },\r\n    {\r\n      id: 1209,\r\n      title: \"真人娱乐场\",\r\n      title2: \"EB真人\",\r\n      name: \"EB真人\",\r\n      category: \"live Casino\",\r\n      color: \"blue\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/EB_bg.svg\"),\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      id: 1208,\r\n      title: \"电子竞技博彩\",\r\n      title2: \"IM电竞\",\r\n      name: \"IM电竞\",\r\n      category: \"E-Sports Betting\",\r\n      color: \"red\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/IM-esports_bg.svg\"),\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      id: 1205,\r\n      title: \"象棋游戏\",\r\n      title2: \"开元棋牌\",\r\n      name: \"开元棋牌\",\r\n      category: \"Chess Games\",\r\n      color: \"red\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/poker_bg.svg\"),\r\n    },\r\n  ],\r\n  [\r\n    {\r\n      id: 1207,\r\n      title: \"老虎机游戏\",\r\n      title2: \"CQ电子\",\r\n      name: \"CQ电子\",\r\n      category: \"Slots Game\",\r\n      color: \"green\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/CQ_bg.svg\"),\r\n    },\r\n    {\r\n      id: 1202,\r\n      title: \"老虎机游戏\",\r\n      title2: \"PT电子\",\r\n      name: \"PT电子\",\r\n      category: \"Slots Game\",\r\n      color: \"red\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/PT_bg.svg\"),\r\n    },\r\n    {\r\n      id: 1203,\r\n      title: \"老虎机游戏\",\r\n      title2: \"MG电子\",\r\n      name: \"MG电子\",\r\n      category: \"Slots Game\",\r\n      color: \"blue\",\r\n      text:\r\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labor\",\r\n      image: require(\"../assets/img/home/_background/MG_bg.svg\"),\r\n    },\r\n  ],\r\n];\r\n\r\nfunction ContentSA() {\r\n  const history = useHistory();\r\n  const { setUserAuthFN, userAuth } = useContext(User.Context);\r\n\r\n  const wd = useWindowDimensions();\r\n\r\n  const [tab, setTab] = useState(0);\r\n\r\n  const [tsState, setTsState] = useState({\r\n    width: 0,\r\n    offset: 0,\r\n  });\r\n\r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n\r\n    try {\r\n      const _tab = document.querySelector(`a.tab-n${tab}`);\r\n      if (!_tab) {\r\n        return () => {};\r\n      }\r\n\r\n      setTab(0);\r\n      const { offsetWidth, offsetLeft } = _tab;\r\n\r\n      setTsState({\r\n        width: offsetWidth,\r\n        offset: offsetLeft,\r\n      });\r\n    } catch (e) {\r\n      console.warn(e);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [wd.width]);\r\n\r\n  function _setTab(t, e) {\r\n    const { offsetWidth, offsetLeft } = e.target;\r\n\r\n    setTsState({\r\n      width: offsetWidth,\r\n      offset: offsetLeft,\r\n    });\r\n  }\r\n\r\n  function handleSetActive(id) {\r\n    // const { offsetWidth, offsetLeft } = id.target;\r\n\r\n    // // console.log(e.target.id)\r\n    // setTab(Number(id.target.id));\r\n\r\n    // setTsState({\r\n    //   width: offsetWidth,\r\n    //   offset: offsetLeft,\r\n    // });\r\n\r\n    const tab = id.split(\"group-n\")[1];\r\n    const link = document.querySelectorAll(\".tab\")[tab];\r\n\r\n    // console.log(tab , link)\r\n    setTab(tab);\r\n\r\n    _setTab(tab, {\r\n      target: link,\r\n    });\r\n\r\n  }\r\n\r\n  async function login(id){\r\n    const user = User.read();\r\n    \r\n    async function LogIn() {\r\n      const res = await  Service.login({\r\n        num: 1,\r\n        gameid: id,\r\n        ...user,\r\n      }).promise.then((r) => {\r\n        return r.info\r\n      },(e) => {\r\n        console.log(\"Unable to login to the game\", e);\r\n        return {\r\n          error :  '未激活或者游戏维护'\r\n        }\r\n      });\r\n      return res\r\n    }\r\n\r\n   \r\n    // const req  = Service.activate({\r\n    //   num: 1,\r\n    //   type: \"active\",\r\n    //   gameid: id,\r\n    //   ...user,\r\n    // });\r\n\r\n    // const result =  await req.promise.then(async (r) => {\r\n    //   const res = await LogIn()\r\n    //   // console.log(res);\r\n    //   return res\r\n    // },async (e) => {\r\n    //     // console.log(isArray(e))\r\n    //     if (typeof  e.is_aborted !== \"undefined\" ) {\r\n    //       console.log(\"Unable to activate the game:\", e);\r\n    //       return {\r\n    //         error : '无法启动游戏'\r\n    //       }\r\n    //     }\r\n    //     const res = await LogIn()\r\n    //     return res\r\n    // });\r\n    \r\n    const reqCheck = await Service.checkMaintained({\r\n      gid: id\r\n    }).promise.then( async  r =>{\r\n      const res = await LogIn()\r\n      // console.log(res);\r\n      return res\r\n    }, e =>{\r\n      // console.log(e)\r\n      return {\r\n        error : e\r\n      }\r\n\r\n    })\r\n\r\n    return reqCheck\r\n    // return () => req.cancel();\r\n  }\r\n\r\n\r\n  async function setGame(e, { id, name }) {\r\n    const externals = [\r\n      1206,\r\n      1211,\r\n      1204, \r\n      1209, \r\n      1207,\r\n      1202,\r\n      1203,\r\n    ]\r\n    // IGNORE 1201  1208 1205\r\n    // console.log(id)\r\n\r\n    if(!userAuth.data){\r\n      e.preventDefault()\r\n      setUserAuthFN(userAuth.status , userAuth.data , true)\r\n      return false\r\n    }\r\n\r\n    let newLink = {\r\n        pathname: `/game/${id}/${name}`,\r\n        search  : \"?from_home=1\",\r\n    }\r\n\r\n    if(includes(externals,id)){\r\n      const linkInfo = await login(id)\r\n      // console.log(linkInfo)\r\n      if(linkInfo.error){\r\n        setUserAuthFN(userAuth.status , userAuth.data , { error : linkInfo.error })\r\n        return false\r\n      }\r\n\r\n      newLink ={\r\n        ...newLink,\r\n        pathname : linkInfo,\r\n        rest  : {\r\n          target : \"_blank\"\r\n        }\r\n      }\r\n    }\r\n\r\n    setUserAuthFN(userAuth.status , userAuth.data , { wap : newLink })\r\n\r\n    // history.push({\r\n    //   pathname: `/game/${id}/${name}`,\r\n    //   search: \"?from_home=1\",\r\n    // });\r\n  }\r\n\r\n  if (wd.width >= 620) {\r\n    return (\r\n      <div className=\"content-sa\">\r\n        <div className=\"content-sa-items\">\r\n          {ContentSAItems.map((group, i) => (\r\n            <React.Fragment key={i}>\r\n              {group.map((item, i2) => (\r\n                <div\r\n                  key={i2}\r\n                  onClick={(e) => setGame(e, item)}\r\n                  className=\"sa-group--item\"\r\n                >\r\n                  <img src={item.image} alt={item.name} />\r\n                </div>\r\n              ))}\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // console.log(userAuth)\r\n\r\n  return (\r\n    <div className=\"content-sa\">\r\n      <div className={`content-sa-tabs ${!userAuth.data ? 'not':''}`}>\r\n        <div className={`tabs2 tab-n${tab}`}>\r\n          {/* className={`tab${tab === i ? ' active' : ''}`} onClick={e => _setTab(i, e)} */}\r\n          {[\"体育\", \"真人\", \"电竞\", \"棋牌\", \"电子\"].map((t, i) => (\r\n            <Link\r\n              key={i}\r\n              activeClass=\" \"\r\n              to={`group-n${i}`}\r\n              className={`tab tab-n${i} ${ Number(tab) === i ? 'active': ''}`}\r\n              spy={true}\r\n              smooth={true}\r\n              duration={200}\r\n              id={i}\r\n              offset={-(+head + 76)}\r\n              // onSetActive={(e) => console.log(e)}\r\n              onSetActive={handleSetActive}\r\n            >\r\n              {t}\r\n            </Link>\r\n          ))}\r\n          <div\r\n            className=\"tab--switch\"\r\n            style={{\r\n              transform: `translateX(${tsState.offset + 3}px)`,\r\n              width: `${tsState.width}px`,\r\n            }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <div className={`content-sa-items ${!userAuth.data ? 'not':''}`}>\r\n        {ContentSAItems.map((group, i) => (\r\n          <div className=\"content-sa-group\" id={`group-n${i}`} key={i}>\r\n            {group.map((item, i2) => (\r\n              <div\r\n                key={i2}\r\n                onClick={(e) => setGame(e, item)}\r\n                className=\"sa-group--item\"\r\n              >\r\n                {/* <Reveal animation=\"fade\" direction={\"bottom\"} triggerOnce> */}\r\n                <img src={item.image} alt={item.name} />\r\n                {/* </Reveal> */}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContentSA;\r\n"]},"metadata":{},"sourceType":"module"}